webpackJsonp([0],{460:function(e,t,o){"use strict";function a(e){o(744)}Object.defineProperty(t,"__esModule",{value:!0});var i=o(641),r=o(766),s=o(31),n=a,l=s(i.a,r.a,!1,n,null,null);t.default=l.exports},512:function(e,t,o){"use strict";o(525);t.a={props:{},data:function(){return{sign:!0}},watch:{},computed:{},methods:{getFlashVersion:function(){try{return void 0!==window.ActiveXObject?parseInt(new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").split(" ")[1].split(",")[0],10):parseInt(navigator.plugins["Shockwave Flash"].description.split(" ")[2],10)}catch(e){return 0}}},mounted:function(){0!==this.getFlashVersion()&&(this.sign=!1)}}},515:function(e,t,o){"use strict";function a(){a.date=new Date,a.prototype.newGUID=function(){this.date=new Date;for(var e="",t=this.hexadecimal(this.getGUIDDate(),16),o=this.hexadecimal(this.getGUIDTime(),16),a=0;a<9;a++)e+=Math.floor(16*Math.random()).toString(16);for(e+=t,e+=o;e.length<32;)e+=Math.floor(16*Math.random()).toString(16);return this.formatGUID(e)},a.prototype.getGUIDDate=function(){return this.date.getFullYear()+this.addZero(this.date.getMonth()+1)+this.addZero(this.date.getDay())},a.prototype.getGUIDTime=function(){return this.addZero(this.date.getHours())+this.addZero(this.date.getMinutes())+this.addZero(this.date.getSeconds())+this.addZero(parseInt(this.date.getMilliseconds()/10))},a.prototype.addZero=function(e){return"NaN"!==Number(e).toString()&&e>=0&&e<10?"0"+Math.floor(e):e.toString()},a.prototype.formatGUID=function(e){return e.slice(0,8)+"-"+e.slice(8,12)+"-"+e.slice(12,16)+"-"+e.slice(16,20)+"-"+e.slice(20)},a.prototype.hexadecimal=function(e,t,o){return void 0!==o?parseInt(e.toString(),o).toString(t):parseInt(e.toString()).toString(t)}}o.d(t,"a",function(){return a})},518:function(e,t,o){"use strict";function a(e){o(523)}var i=o(512),r=o(526),s=o(31),n=a,l=s(i.a,r.a,!1,n,null,null);t.a=l.exports},523:function(e,t,o){var a=o(524);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o(33)("47d3ed92",a,!0,{})},524:function(e,t,o){t=e.exports=o(32)(!1),t.push([e.i,"#flashBox{text-align:left;padding-left:5em}a.downLoadFlash{text-decoration:underline;color:#69a4e7}a.downLoadFlash:hover{color:#fff}a.downLoadFlash i.hasIcon{margin-top:.2em}",""])},525:function(e,t,o){"use strict";o(9).a.register({"puzzle-piece":{width:1664,height:1792,paths:[{d:"M1664 1098q0 81-44.5 135t-123.5 54q-41 0-77.5-17.5t-59-38-56.5-38-71-17.5q-110 0-110 124 0 39 16 115t15 115v5q-22 0-33 1-34 3-97.5 11.5t-115.5 13.5-98 5q-61 0-103-26.5t-42-83.5q0-37 17.5-71t38-56.5 38-59 17.5-77.5q0-79-54-123.5t-135-44.5q-84 0-143 45.5t-59 127.5q0 43 15 83t33.5 64.5 33.5 53 15 50.5q0 45-46 89-37 35-117 35-95 0-245-24-9-2-27.5-4t-27.5-4l-13-2q-1 0-3-1-2 0-2-1v-1024q2 1 17.5 3.5t34 5 21.5 3.5q150 24 245 24 80 0 117-35 46-44 46-89 0-22-15-50.5t-33.5-53-33.5-64.5-15-83q0-82 59-127.5t144-45.5q80 0 134 44.5t54 123.5q0 41-17.5 77.5t-38 59-38 56.5-17.5 71q0 57 42 83.5t103 26.5q64 0 180-15t163-17v2q-1 2-3.5 17.5t-5 34-3.5 21.5q-24 150-24 245 0 80 35 117 44 46 89 46 22 0 50.5-15t53-33.5 64.5-33.5 83-15q82 0 127.5 59t45.5 143z"}]}})},526:function(e,t,o){"use strict";var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{style:{opacity:e.sign?1:0,width:e.sign?"auto":"1px",height:e.sign?"auto":"1px",paddingLeft:e.sign?"1em":"0"},attrs:{id:"flashBox"}},[o("object",{attrs:{type:"application/x-shockwave-flash",id:"JsSocket",name:"JsSocket",data:"dist/plugin/bgsocket/BgJsSocket.swf",width:"115px",height:"35px",align:"middle"}},[o("param",{attrs:{name:"movie",value:"dist/plugin/bgsocket/BgJsSocket.swf"}}),e._v(" "),o("param",{attrs:{name:"quality",value:"high"}}),e._v(" "),o("param",{attrs:{name:"bgcolor",value:"#ccc"}}),e._v(" "),o("param",{attrs:{name:"allowscriptaccess",value:"sameDomain"}}),e._v(" "),o("param",{attrs:{name:"allowfullscreen",value:"true"}}),e._v(" "),o("a",{staticClass:"downLoadFlash",attrs:{href:"http://www.adobe.com/go/getflashplayer",target:"_blank",title:"下载flash player"}},[o("i",{staticClass:"hasIcon"},[o("icon",{staticStyle:{"font-size":"1.5em"},attrs:{name:"puzzle-piece"}})],1),e._v("\n              下载Flash\n            ")])])])},i=[],r={render:a,staticRenderFns:i};t.a=r},527:function(e,t,o){"use strict";o(9).a.register({"plus-circle":{width:1536,height:1792,paths:[{d:"M1216 960v-128q0-26-19-45t-45-19h-256v-256q0-26-19-45t-45-19h-128q-26 0-45 19t-19 45v256h-256q-26 0-45 19t-19 45v128q0 26 19 45t45 19h256v256q0 26 19 45t45 19h128q26 0 45-19t19-45v-256h256q26 0 45-19t19-45zM1536 896q0 209-103 385.5t-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103 385.5 103 279.5 279.5 103 385.5z"}]}})},528:function(e,t,o){"use strict";var a=o(548),i=o(518);t.a={data:function(){return{showAlerts:!1,payMsg:"上一次充值记录",cursor:"default",msg:"读取开户资料出现异常!",payGuid:"",sign:-1,saveMsg:!1,showData:!1,priceData:"",showPrice:!1,selected:"",operateFlag:1,showDialog:!1,allowWrite:2,customerInfo:{payment:0},cardInfo:{meterType:2,changeRemark:"",alertFee1:"50.00",alertFee2:"0.00",curTranfRto:1,volTranfRto:1,userType:2,userTypeText:"复费率",payCount:1,changeTime:"0000000000"}}},props:[],methods:{mouseUp:function(e){this.cursor="default",this.flag=!1},mouseMove:function(e){var t=e.clientX,o=e.clientY,a=t-this.startX,i=o-this.startY,r=this.$el.lastChild,s=document.body.clientWidth-r.offsetWidth;document.body.clientHeight,r.offsetHeight;this.flag&&parseInt(a)>0&&parseInt(i)>0&&parseInt(a)<s&&parseInt(i)},mouseDown:function(e){this.cursor="move",this.flag=!0},getForm:function(e){this.getOption(e,!0)},show:function(e,t){var o=this;o.showDialog=!0,o.getInfo(e,t),setTimeout(function(){o.$refs.openAccount.show({hasClose:!o.showData,action:{cancel:function(){o.close()}}})},0)},getInfo:function(e,t){switch(this.sign=t,t){case 0:case 3:case 1:this.operateFlag=1,this.queryCstAcct(e.customerNo,e.cno);break;case 2:this.operateFlag=3,this.queryCstPayInfo(e.customerNo,e.cno,e.payGuid)}},queryCstAcct:function(e,t){var o=this;o.getRequest({url:"icCard/queryAccount",method:"post",param:{customerNo:e,cno:t,flag:this.sign},success:function(e){o.receiveData(e.data)},error:function(){o.showData=!1,o.showAlerts=!0}},!0)},queryCstPayInfo:function(e,t,o){var a=this;void 0!==o&&(this.payMsg="本次充值记录",this.payGuid=o),a.getRequest({url:"icCard/queryRepectPay",method:"post",param:{customerNo:e,cno:t,payGuid:o},success:function(e){a.receiveData(e.data)},error:function(){a.showData=!1,a.showAlerts=!0}},!0)},receiveData:function(e){var t=this,o=e.acctDetailInfo?e.acctDetailInfo:e;for(var a in o)this.customerInfo[a]=o[a];0!==this.sign&&(this.cardInfo.payCount=this.customerInfo.payCount,this.cardInfo.payMoney=this.customerInfo.payMoney),null===t.customerInfo.payment&&(t.customerInfo.payment=0),t.payGuid=o.payGuid,e.feePriceItemList&&0!==e.feePriceItemList.length?(t.priceData=e.feePriceItemList,t.showPrice=!0):t.showPrice=!1,0!==t.sign&&3!==t.sign||(t.customerInfo.payMoney=parseFloat(0-t.customerInfo.initAmount).toFixed(2)),1===t.sign&&(t.customerInfo.payMoney=parseFloat(t.customerInfo.payment-t.customerInfo.initAmount).toFixed(2)),t.showData=!0},readCardClick:function(){this.loadings.show({titleMsg:"系统提示",msg:"正在读卡,请稍后...",action:{cancel:function(){disconnect()}}}),bgFlashReadCard({success:this.readSuccess,callback:this.bgFlshCallback})},readSuccess:function(e){var t=this,o=JSON.parse(e);o.data.electMeterNo===o.data.lastDeviceNo?this.submitSave():t.alerts.show({msg:"当前购电卡中有购电金额需要充值到电表，请充值后再操作!"})},writeCardClick:function(){if(this.saveMsg&&0===this.sign||this.sign>0){if(null===this.customerInfo.meterType)return this.loadings.close(),void this.alerts.show({msg:"电表类型错误，请刷新重试!"});if(2===this.allowWrite){this.loadings.show({msg:"正在制卡,请稍后...",action:{cancel:function(){disconnect()}}});var e=this.cardFormParam.writeParam;for(var t in this.cardInfo)e[t]=this.cardInfo[t];if(e.cardType=this.cardFormParam.operateFlag,e.electMeterNo=this.customerInfo.cno.substring(this.customerInfo.cno.length-12,this.customerInfo.cno.length),e.customerID=this.padLeft(this.customerInfo.meterUserNo,12),e.payMoney=parseFloat(e.payMoney,10),e.alertFee1=parseFloat(e.alertFee1,10),e.alertFee2=parseFloat(e.alertFee2,10),e.curTranfRto=this.customerInfo.ratio,this.customerInfo.effectiveDate&&""!==this.customerInfo.effectiveDate){var o=this.customerInfo.effectiveDate.replace(/^20|-|\s|:/gi,"")+"0000";e.changeTime=o.substring(0,10)}bgFlashWriteCard({success:this.writeSuccess,jsonObj:e,meterType:this.customerInfo.meterType,callback:this.bgFlshCallback})}else this.loadings.close(),this.alerts.show({msg:"当前操作不正确！"})}else this.loadings.close(),this.alerts.show({msg:"请先保存数据！！"})},writeSuccess:function(e){var t=this;this.allowWrite=0,this.getRequest({url:"icCard/update",method:"post",param:{payGuid:this.payGuid,cno:this.customerInfo.cno,customerNo:this.customerInfo.customerNo,flag:1==this.sign?1:0},success:function(e){t.$emit("freshData");var o=e.data;t.customerInfo.serialNum=o.serialNum,t.customerInfo.payMethod=o.payMethod,t.$refs.confirms.show({msg:(2==t.sign?"补卡制卡":"开户卡制卡")+"成功，是否打印缴费小票？",action:{confirm:function(){t.printPay()},cancel:function(){t.close()}}})},error:function(e){t.alerts.show({msg:e.message}),t.$emit("freshData")}},!0)},bgFlshCallback:function(e){this.loadings.close(),void 0!==e&&""!==e&&this.alerts.show({msg:e})},printPay:function(){var e=this;this.loadings.show({msg:"正在打印小票,请稍后..."}),this.print({title:"充值凭证",printContent:this.printVal,callback:this.bgFlshCallback,success:function(){e.loadings.close(),e.close()}})},submitSave:function(){var e=this;if(isNaN(parseFloat(this.customerInfo.payment)))this.alerts.show({msg:"缴费金额不能为空"});else switch(this.sign){case 3:case 0:var t=e.cardInfo;if(t.payment=parseFloat(this.customerInfo.payment),t.payMoney=this.customerInfo.payMoney,null===this.customerInfo.payMoney)return void e.alerts.show({msg:"请输入缴费金额"});if(t.payMoney<0||t.payMoney>1e5)return void e.alerts.show({msg:"充值金额不能少于0元，也不能超过100000!"});t.meterType=e.customerInfo.meterType,t.initAmount=e.customerInfo.initAmount,t.customerNo=e.customerInfo.customerNo,t.customerName=e.customerInfo.customerName,t.customerContact=e.customerInfo.customerContact,t.cno=e.customerInfo.cno,t.curTranfRto=e.customerInfo.ratio,e.loadings.show({msg:"正在保存数据,请稍后..."});var o="";o=0===this.sign?"icCard/add":"icCard/reAdd",e.getRequest({url:o,param:t,method:"post",success:function(o){e.loadings.close(),e.$emit("getAccountInfo",t),e.saveMsg=!0,e.payGuid=o.data.payGuid,e.$set(e.customerInfo,"payDate",o.data.createDate),e.customerInfo.chargeUserName=o.data.chargeUserName,e.writeCardClick()},error:function(t){e.loadings.close(),e.alerts.show({msg:t.message})}});break;case 2:var a={};a.customerNo=e.customerInfo.customerNo,a.cno=e.customerInfo.cno,a.changeRemark=e.cardInfo.changeRemark,e.cardInfo.payMoney=this.customerInfo.payMoney,void 0!==e.cardInfo.changeRemark&&""!==e.cardInfo.changeRemark?e.getRequest({url:"icCard/addChangeICCard",param:a,method:"post",success:function(t){e.saveMsg=!0,e.writeCardClick()},error:function(t){e.alerts.show({msg:t.message})}}):e.alerts.show({msg:"补卡原因不能为空！"});break;case 1:e.saveMsg=!0,e.writeCardClick()}},close:function(){this.showAlerts=!1,this.showDialog=!1,this.showData=!1,this.sign=-1,this.priceData="",this.cardInfo.changeRemark="",this.customerInfo={payment:0},this.allowWrite=2,this.payGuid="",this.$emit("refreshAgain")}},computed:{loadings:function(){return this.$refs.loadings},dialogFrom:function(){return[{classes:"halfWidth",type:"input",label:"用户姓名",value:this.customerInfo.customerName,show:!0},{classes:"halfWidth hasMarginLi",type:"input",label:"表计户号",show:!0,value:this.customerInfo.meterUserNo||"--"},{classes:"halfWidth",type:"input",label:"联系电话",show:!0,value:this.customerInfo.customerContact},{classes:"halfWidth hasMarginLi",type:"input",label:"用户表号",show:!0,value:null!==this.customerInfo.cno?this.customerInfo.cno.substr(2).replace(/^0*/gi,""):"--"},{classes:"halfWidth",type:"input",label:"电表类型",show:!0,value:this.getEnumItem("meterType",this.customerInfo.meterType).text||"--"},{classes:"halfWidth hasMarginLi",type:"input",label:"电价方案",show:3!==this.operateFlag,value:this.customerInfo.dictItemName},{classes:"halfWidth",type:"input",label:"告警金额1",show:3!==this.operateFlag,value:this.cardInfo.alertFee1},{classes:"halfWidth hasMarginLi",type:"input",label:"告警金额2",show:3!==this.operateFlag,value:this.cardInfo.alertFee2},{classes:"halfWidth",type:"input",label:"购电次数",show:3!==this.operateFlag,value:this.cardInfo.payCount},{classes:"halfWidth hasMarginLi",type:"input",label:"电流互感器变比",show:3!==this.operateFlag,value:this.customerInfo.ratio},{classes:"halfWidth",type:"input",label:"电压互感器变比",show:3!==this.operateFlag,value:this.cardInfo.volTranfRto}]},alerts:function(){return this.$refs.alerts},cardFormParam:function(){var e={allowWrite:this.allowWrite,operateFlag:this.operateFlag,writeParam:{userType:this.cardInfo.userType,paramUpdate:1===this.operateFlag?131:0,alertFee1:parseFloat(this.cardInfo.alertFee1),alertFee2:parseFloat(this.cardInfo.alertFee2),curTranfRto:this.cardInfo.curTranfRto,volTranfRto:this.cardInfo.volTranfRto,electMeterNo:this.cardInfo.cno,meterUserNo:this.cardInfo.meterUserNo,cardType:this.operateFlag,payMoney:this.customerInfo.payMoney,payCount:this.cardInfo.payCount,changeTime:"0000000000",oneRate1:0,oneRate2:0,oneRate3:0,oneRate4:0,oneRate5:0,oneRate6:0,oneRate7:0,oneRate8:0,oneRate9:0,oneRate10:0,oneRate11:0,oneRate12:0,twoRate1:0,twoRate2:0,twoRate3:0,twoRate4:0,twoRate5:0,twoRate6:0,twoRate7:0,twoRate8:0,twoRate9:0,twoRate10:0,twoRate11:0,twoRate12:0}};if(this.showPrice)for(var t=1;t<=12;)for(var o=0;o<this.priceData.length;o++)e.writeParam["oneRate"+t]=this.priceData[o].dataValue1,e.writeParam["twoRate"+t]=this.priceData[o].dataValue2,t++;return e},inputOpt:function(){var e="calc(100% - 5em)",t=void 0;return t=0===this.sign||3===this.sign?"normalInput":"disabledInput",[{name:"缴费金额",classes:"halfWidth",isShow:1===this.operateFlag,style:"input",option:{key:"customerInfo.payment",value:this.customerInfo.payment,width:e,type:t,noWatch:!0,length:8,limit:"float"}},{name:"预留金额",classes:"halfWidth hasMarginLi",isShow:1===this.operateFlag,style:"input",option:{key:"customerInfo.initAmount",width:e,value:this.customerInfo.initAmount,type:"disabledInput",normal:!0,noWatch:!0}},{name:"充值金额",classes:"halfWidth",isShow:1===this.operateFlag,style:"input",option:{key:"customerInfo.payMoney",value:this.customerInfo.payMoney,width:e,type:"disabledInput",normal:!0,noWatch:!0}},{name:"补卡原因",classes:"allWidth",isEmpty:!1,isShow:3===this.operateFlag,style:"input",option:{key:"cardInfo.changeRemark",width:e,type:"textArea",regular:"remark",errorMsg:"两百个字符内",noWatch:!0}}]},printVal:function(){var e=this.customerInfo.customerName,t=this.customerInfo.payDate,o=this.customerInfo.cno.substring(this.customerInfo.cno.length-12,this.customerInfo.cno.length);return e=e.length>2?this.customerInfo.customerName.replace(/^(.).+(.)$/g,"$1**$2"):this.customerInfo.customerName.replace(/^(.).+$/g,"$1*"),t.length>0&&(t=t.substring(0,16)),[{ItemType:0,Filed:"用户姓名:",Value:e,Align:0},{ItemType:0,Filed:"表计户号:",Value:this.customerInfo.meterUserNo,Align:0},{ItemType:0,Filed:"电表表号:",Value:o,Align:0},{ItemType:0,Filed:"用户地址:",Value:this.customerInfo.customerAddr,Align:0},{ItemType:0,Filed:"充值金额:",Value:"￥"+parseFloat(this.customerInfo.payMoney).toFixed(2),Align:0},{ItemType:0,Filed:"缴费方式:",Value:this.customerInfo.payMethod,Align:0},{ItemType:0,Filed:"购电日期:",Value:t,Align:0},{ItemType:0,Filed:"售 电 员:",Value:this.customerInfo.chargeUserName.substring(0,1),Align:0},{ItemType:0,Filed:"流 水 号:",Value:this.customerInfo.serialNum,Align:0}]}},components:{flash:i.a,priceTable:a.a},mounted:function(){},watch:{"customerInfo.payment":{handler:function(e,t){if((0===this.sign||3===this.sign)&&e!==t&&this.$refs[this.inputOpt[2].option.key]&&this.$refs[this.inputOpt[0].option.key]){var o=void 0,a=this.$refs[this.inputOpt[2].option.key][0],i=this.$refs[this.inputOpt[0].option.key][0];if(""!==e&&null!==e&&void 0!==e){this.regularTestForVal({val:e,regex:"float",msg:"缴费金额"})?this.customerInfo.hasOwnProperty("initAmount")&&(o=parseFloat(e)-parseFloat(this.customerInfo.initAmount),a.resetSearch(o.toFixed(2))):(i.resetSearch(null),a.resetSearch(null))}else""===e&&(i.resetSearch(null),a.resetSearch(null))}}}}}},529:function(e,t,o){"use strict";t.a={data:function(){return{priceDatas:""}},props:{priceData:{type:Array,default:function(){return[{itemCode1:"1",itemName1:"尖电价",dataValue1:"XX",itemCode2:"2",itemName2:"尖电价",dataValue2:"XX"}]}},pricePlan:{type:String},width:{type:String,default:"100%"}},methods:{getTableData:function(){var e=this,t={};t.priceSolsCode=e.pricePlan,e.getRequest({url:"price/queryData",method:"post",param:t,success:function(t){e.priceDatas=t.price.parameters}})}},mounted:function(){void 0===this.pricePlan?this.priceDatas=this.priceData:this.getTableData()}}},547:function(e,t,o){"use strict";function a(e){o(551)}var i=o(528),r=o(556),s=o(31),n=a,l=s(i.a,r.a,!1,n,null,null);t.a=l.exports},548:function(e,t,o){"use strict";function a(e){o(553)}var i=o(529),r=o(555),s=o(31),n=a,l=s(i.a,r.a,!1,n,null,null);t.a=l.exports},551:function(e,t,o){var a=o(552);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o(33)("fb729456",a,!0,{})},552:function(e,t,o){t=e.exports=o(32)(!1),t.push([e.i,'.clearElement,.footerBtn:after,i.hasIcon:after{content:"";width:.1px;height:0;clear:both;display:block}.myThead tr td,.myThead tr th,.textOverflow,.th-td-border td,.th-td-border th{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}svg{font-size:1em;height:1em;width:1.1em}.hover-select{background:#227fde;color:#fff}.hover-select svg{color:#fff;-webkit-text-stroke:1px gray}.hasRadius{border-radius:.4em}.float-right{margin-right:.4em;float:right}button,input,textarea{padding:.4em .9em;border:1px solid #b3b3b3;font-size:.94em;font-weight:200;line-height:1;border-radius:.2em;display:inline-block;background:#0276d9;color:#fff;height:2.75em;font-family:Avenir,Helvetica,Arial,sans-serif}textarea{border-radius:.4em}input,textarea{-moz-box-sizing:border-box;box-sizing:border-box}button{cursor:pointer;border:0;box-shadow:none}h4{margin:8px 0}h3{margin:9px 0}h2{margin:10px 0}h1{margin:12px 0}a.has-decoration:hover,a.has-decoration:visited{text-decoration:underline}a,a:hover,a:visited{cursor:pointer}a,a:hover,a:visited{text-decoration:none}table{border-collapse:collapse}button:focus,input:focus,textarea:focus{outline:none}li,ul{margin:0;list-style-type:none}.myThead tr th,.th-td-border th{position:relative}.myThead tr td,.myThead tr th,.th-td-border td,.th-td-border th{padding:6px;border-right:.08em solid #d3d3d3;border-bottom:.08em solid #d3d3d3;display:table-cell;vertical-align:middle}.myThead tr td:last-child,.myThead tr th:last-child,.th-td-border td:last-child,.th-td-border th:last-child{border-right:0}.line-split{display:block;margin:0 auto;width:.2em;background:linear-gradient(0deg,#fff,#aaa,#fff)}i.hasIcon{display:block;width:1em;height:1.3em;float:left;margin-top:-.3em;margin-right:1em}i.hasIcon img{width:1.8em;height:1.7em}i.hasImg{width:1.502em;height:1.502em;margin-right:.3em;margin-top:0}i.hasImg img{width:100%;height:100%}i.headerImg{width:1.579em;height:1.579em}button.make-cancel,button.make-sure{padding:6px 35px;margin:5px 12px;border:0;color:#fff}.button-operate{margin-right:10px}.button-operate svg{margin-right:.8em;margin-top:0}.button-operate{color:#fff}.button-operate,.make-sure{background:#227fdf}.button-operate:hover{background:#27a5ff}.button-operate:visited{background:#2291e0}button.button-default{height:3em;border-radius:.4em;background-size:100% 100%;min-width:9em;margin:1em 2em;border:0;background:#227fdf}.label-show{float:left;min-width:5em;height:2.79em;padding-right:5px;line-height:2.79;text-align:right;margin-left:-.9em;margin-right:.2em}.label-show+.myInput{float:left}button.button-noBack{background:transparent;border:1px solid #b3b3b3;color:#4d4d4d}button.make-cancel{background:#ee891f}button.button-noBack:hover{background:#f2faff;color:#1793eb;border-color:#59b0ee}button.btn-group-left{margin:0 -4px 0 0!important;border-top-right-radius:0!important;border-bottom-right-radius:0!important}button.btn-group-right{margin:0!important;border-left:0;border-top-left-radius:0!important;border-bottom-left-radius:0!important}button.btn-group-left.selected,button.btn-group-right.selected{background:#1793eb;color:#fff;border:0}button.cancel-button{background:#d38642}i.special{float:right;margin-top:-2px;margin-right:-8px;color:#fff}.button-remove{background:transparent;color:#ff6943;border:1px solid #ff6943}.button-remove:hover{background:#f76945;color:#fff}.split-span{float:left;color:#fff;margin:5px 8px;font-size:1.6em}.myThead{-moz-user-select:none;-webkit-user-select:none;user-select:none}.myThead,.myThead tr{border-top-left-radius:.6em;border-top-right-radius:.6em}.myThead tr{color:#fcfefd}.myThead tr th{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;padding:1em .8em 1em .4em;border:0}.myThead tr th .trBorder{cursor:e-resize}.myThead tr th:first-child{border-top-left-radius:.6em}.myThead tr th:last-child{border-top-right-radius:.6em}.myThead tr div.sortIcon{position:absolute;right:.7em;top:calc(50% - .45em);color:#fff;cursor:default}.myThead tr div.sortIcon span{cursor:pointer;display:block;width:0;height:0;border-left:.35em solid transparent;border-right:.35em solid transparent}.myThead tr div.sortIcon span.sortUp{border-bottom:.47em solid #fffdfe}.myThead tr div.sortIcon span.ascSelected,.myThead tr div.sortIcon span.sortUp:hover{border-bottom:.47em solid #1793eb}.myThead tr div.sortIcon span.sortDown{border-top:.47em solid #fffdfe;margin-top:.118em}.myThead tr div.sortIcon span.descSelected,.myThead tr div.sortIcon span.sortDown:hover{border-top:.47em solid #1793eb}input:-ms-input-placeholder{color:hsla(0,0%,100%,.4)}input::-webkit-input-placeholder{color:hsla(0,0%,100%,.4)}input::-moz-placeholder{color:hsla(0,0%,100%,.4)}textarea:-ms-input-placeholder{color:hsla(0,0%,100%,.4);font-family:Avenir,Helvetica,Arial,sans-serif}textarea::-webkit-input-placeholder{color:hsla(0,0%,100%,.4);font-family:Avenir,Helvetica,Arial,sans-serif}textarea::-moz-placeholder{color:hsla(0,0%,100%,.4);font-family:Avenir,Helvetica,Arial,sans-serif}input.checkBox+.myCheckbox{top:-.2em;margin:0 1.5em 0 .5em;position:relative}.myCheckbox:before{content:"";display:block;position:absolute;background:#fff;left:-1em;top:0;width:1em;height:1em;border:1px solid hsla(0,0%,100%,.7);border-radius:30%}input:checked+.myCheckbox:before{content:"\\2714";font-size:1em;text-align:center;line-height:.9;color:#3a7dc3}.myCheckBox:before{border-width:1.5px;border-color:#3a7dc3}input:checked+.myCheckBox:before{color:#3a7dc3}input.checkBox{position:relative;top:0;left:.4em;z-index:2;opacity:0;cursor:pointer;height:2em}@media screen and (max-width:1366px){body{font-size:12px}body .login-input input{width:21em}}@media screen and (min-width:1367px) and (max-width:1700px){body{font-size:14px}}@media screen and (min-width:1701px) and (max-width:1920px){body{font-size:17px}}.ps{-ms-touch-action:auto;touch-action:auto;overflow:hidden!important;-ms-overflow-style:none}@supports (-ms-overflow-style:none){.ps{overflow:auto!important}}@media (-ms-high-contrast:none),screen and (-ms-high-contrast:active){.ps{overflow:auto!important}}.ps.ps--active-x>.ps__scrollbar-x-rail,.ps.ps--active-y>.ps__scrollbar-y-rail{display:block;background-color:transparent}.ps.ps--in-scrolling.ps--x>.ps__scrollbar-x-rail{background-color:transparent;opacity:.9}.ps.ps--in-scrolling.ps--x>.ps__scrollbar-x-rail>.ps__scrollbar-x{background-color:hsla(0,0%,100%,.2);height:8px}.ps.ps--in-scrolling.ps--y>.ps__scrollbar-y-rail{background-color:transparent;opacity:.9}.ps.ps--in-scrolling.ps--y>.ps__scrollbar-y-rail>.ps__scrollbar-y{background-color:hsla(0,0%,100%,.2);width:10px}.ps>.ps__scrollbar-x-rail{display:none;position:absolute;opacity:0;transition:background-color .2s linear,opacity .2s linear;bottom:0;height:12px;z-index:2}.ps>.ps__scrollbar-x-rail>.ps__scrollbar-x{position:absolute;background-color:hsla(0,0%,100%,.2);border-radius:6px;transition:background-color .2s linear,height .2s linear,width .2s ease-in-out,border-radius .2s ease-in-out;bottom:2px;height:6px}.ps>.ps__scrollbar-x-rail:active>.ps__scrollbar-x,.ps>.ps__scrollbar-x-rail:hover>.ps__scrollbar-x{height:11px}.ps>.ps__scrollbar-y-rail{display:none;position:absolute;opacity:0;transition:background-color .2s linear,opacity .2s linear;right:0;width:11px;z-index:2}.ps>.ps__scrollbar-y-rail>.ps__scrollbar-y{position:absolute;background-color:hsla(0,0%,100%,.2);border-radius:6px;transition:background-color .2s linear,height .2s linear,width .2s ease-in-out,border-radius .2s ease-in-out;right:2px;width:6px}.ps>.ps__scrollbar-y-rail:active>.ps__scrollbar-y,.ps>.ps__scrollbar-y-rail:hover>.ps__scrollbar-y{width:11px}.ps:hover.ps--in-scrolling.ps--x>.ps__scrollbar-x-rail{background-color:transparent;opacity:.9}.ps:hover.ps--in-scrolling.ps--x>.ps__scrollbar-x-rail>.ps__scrollbar-x{background-color:hsla(0,0%,100%,.2);height:11px}.ps:hover.ps--in-scrolling.ps--y>.ps__scrollbar-y-rail{background-color:transparent;opacity:.9}.ps:hover.ps--in-scrolling.ps--y>.ps__scrollbar-y-rail>.ps__scrollbar-y{background-color:hsla(0,0%,100%,.2);width:11px}.ps:hover>.ps__scrollbar-x-rail,.ps:hover>.ps__scrollbar-y-rail{opacity:.6}.ps:hover>.ps__scrollbar-x-rail:hover{background-color:transparent;opacity:.9}.ps:hover>.ps__scrollbar-x-rail:hover>.ps__scrollbar-x{background-color:hsla(0,0%,100%,.2)}.ps:hover>.ps__scrollbar-y-rail:hover{background-color:transparent;opacity:.9}.ps:hover>.ps__scrollbar-y-rail:hover>.ps__scrollbar-y{background-color:hsla(0,0%,100%,.2)}.ps-container{position:relative}.emptyShowPic{text-align:center;font-size:.875em;display:table;width:100%;height:100%}.emptyShowPic div.emptyContent{display:table-cell;vertical-align:middle}.emptyShowPic div.emptyContent img{width:17.75em;height:11.75em}.emptyShowPic div.emptyContent p{margin-top:1em;font-size:.875em}.emptyTips{color:#eb3b3b;font-weight:900;line-height:2.5!important}.formBackIndex{z-index:19}.formIndex{z-index:20}.footerBtn{width:100%;float:left;text-align:center}.footerBtn button{padding:5px 20px;margin:10px 5px}.footerBtn .readCardBtn{color:#fff}.operateFooter{position:absolute;bottom:0;width:100%!important;padding:10px!important;margin:0;left:0;box-shadow:0 -2px 3px #ccc}.smallAlert{width:420px!important;height:120px!important}.list-enter-active,.list-leave-active{transition:all 1s}.list-enter,.list-leave-to{opacity:0;transform:translateY(-90px)}',""])},553:function(e,t,o){var a=o(554);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o(33)("9a6e145a",a,!0,{})},554:function(e,t,o){t=e.exports=o(32)(!1),t.push([e.i,'.clearElement,i.hasIcon:after{content:"";width:.1px;height:0;clear:both;display:block}.myThead tr td,.myThead tr th,.textOverflow,.th-td-border td,.th-td-border th{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}svg{font-size:1em;height:1em;width:1.1em}.hover-select{background:#227fde;color:#fff}.hover-select svg{color:#fff;-webkit-text-stroke:1px gray}.hasRadius{border-radius:.4em}.float-right{margin-right:.4em;float:right}button,input,textarea{padding:.4em .9em;border:1px solid #b3b3b3;font-size:.94em;font-weight:200;line-height:1;border-radius:.2em;display:inline-block;background:#0276d9;color:#fff;height:2.75em;font-family:Avenir,Helvetica,Arial,sans-serif}textarea{border-radius:.4em}input,textarea{-moz-box-sizing:border-box;box-sizing:border-box}button{cursor:pointer;border:0;box-shadow:none}h4{margin:8px 0}h3{margin:9px 0}h2{margin:10px 0}h1{margin:12px 0}a.has-decoration:hover,a.has-decoration:visited{text-decoration:underline}a,a:hover,a:visited{cursor:pointer}a,a:hover,a:visited{text-decoration:none}table{border-collapse:collapse}button:focus,input:focus,textarea:focus{outline:none}li,ul{margin:0;list-style-type:none}.myThead tr th,.th-td-border th{position:relative}.myThead tr td,.myThead tr th,.th-td-border td,.th-td-border th{padding:6px;border-right:.08em solid #d3d3d3;border-bottom:.08em solid #d3d3d3;display:table-cell;vertical-align:middle}.myThead tr td:last-child,.myThead tr th:last-child,.th-td-border td:last-child,.th-td-border th:last-child{border-right:0}.line-split{display:block;margin:0 auto;width:.2em;background:linear-gradient(0deg,#fff,#aaa,#fff)}i.hasIcon{display:block;width:1em;height:1.3em;float:left;margin-top:-.3em;margin-right:1em}i.hasIcon img{width:1.8em;height:1.7em}i.hasImg{width:1.502em;height:1.502em;margin-right:.3em;margin-top:0}i.hasImg img{width:100%;height:100%}i.headerImg{width:1.579em;height:1.579em}button.make-cancel,button.make-sure{padding:6px 35px;margin:5px 12px;border:0;color:#fff}.button-operate{margin-right:10px}.button-operate svg{margin-right:.8em;margin-top:0}.button-operate{color:#fff}.button-operate,.make-sure{background:#227fdf}.button-operate:hover{background:#27a5ff}.button-operate:visited{background:#2291e0}button.button-default{height:3em;border-radius:.4em;background-size:100% 100%;min-width:9em;margin:1em 2em;border:0;background:#227fdf}.label-show{float:left;min-width:5em;height:2.79em;padding-right:5px;line-height:2.79;text-align:right;margin-left:-.9em;margin-right:.2em}.label-show+.myInput{float:left}button.button-noBack{background:transparent;border:1px solid #b3b3b3;color:#4d4d4d}button.make-cancel{background:#ee891f}button.button-noBack:hover{background:#f2faff;color:#1793eb;border-color:#59b0ee}button.btn-group-left{margin:0 -4px 0 0!important;border-top-right-radius:0!important;border-bottom-right-radius:0!important}button.btn-group-right{margin:0!important;border-left:0;border-top-left-radius:0!important;border-bottom-left-radius:0!important}button.btn-group-left.selected,button.btn-group-right.selected{background:#1793eb;color:#fff;border:0}button.cancel-button{background:#d38642}i.special{float:right;margin-top:-2px;margin-right:-8px;color:#fff}.button-remove{background:transparent;color:#ff6943;border:1px solid #ff6943}.button-remove:hover{background:#f76945;color:#fff}.split-span{float:left;color:#fff;margin:5px 8px;font-size:1.6em}.myThead{-moz-user-select:none;-webkit-user-select:none;user-select:none}.myThead,.myThead tr{border-top-left-radius:.6em;border-top-right-radius:.6em}.myThead tr{color:#fcfefd}.myThead tr th{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;padding:1em .8em 1em .4em;border:0}.myThead tr th .trBorder{cursor:e-resize}.myThead tr th:first-child{border-top-left-radius:.6em}.myThead tr th:last-child{border-top-right-radius:.6em}.myThead tr div.sortIcon{position:absolute;right:.7em;top:calc(50% - .45em);color:#fff;cursor:default}.myThead tr div.sortIcon span{cursor:pointer;display:block;width:0;height:0;border-left:.35em solid transparent;border-right:.35em solid transparent}.myThead tr div.sortIcon span.sortUp{border-bottom:.47em solid #fffdfe}.myThead tr div.sortIcon span.ascSelected,.myThead tr div.sortIcon span.sortUp:hover{border-bottom:.47em solid #1793eb}.myThead tr div.sortIcon span.sortDown{border-top:.47em solid #fffdfe;margin-top:.118em}.myThead tr div.sortIcon span.descSelected,.myThead tr div.sortIcon span.sortDown:hover{border-top:.47em solid #1793eb}input:-ms-input-placeholder{color:hsla(0,0%,100%,.4)}input::-webkit-input-placeholder{color:hsla(0,0%,100%,.4)}input::-moz-placeholder{color:hsla(0,0%,100%,.4)}textarea:-ms-input-placeholder{color:hsla(0,0%,100%,.4);font-family:Avenir,Helvetica,Arial,sans-serif}textarea::-webkit-input-placeholder{color:hsla(0,0%,100%,.4);font-family:Avenir,Helvetica,Arial,sans-serif}textarea::-moz-placeholder{color:hsla(0,0%,100%,.4);font-family:Avenir,Helvetica,Arial,sans-serif}input.checkBox+.myCheckbox{top:-.2em;margin:0 1.5em 0 .5em;position:relative}.myCheckbox:before{content:"";display:block;position:absolute;background:#fff;left:-1em;top:0;width:1em;height:1em;border:1px solid hsla(0,0%,100%,.7);border-radius:30%}input:checked+.myCheckbox:before{content:"\\2714";font-size:1em;text-align:center;line-height:.9;color:#3a7dc3}.myCheckBox:before{border-width:1.5px;border-color:#3a7dc3}input:checked+.myCheckBox:before{color:#3a7dc3}input.checkBox{position:relative;top:0;left:.4em;z-index:2;opacity:0;cursor:pointer;height:2em}@media screen and (max-width:1366px){body{font-size:12px}body .login-input input{width:21em}}@media screen and (min-width:1367px) and (max-width:1700px){body{font-size:14px}}@media screen and (min-width:1701px) and (max-width:1920px){body{font-size:17px}}.ps{-ms-touch-action:auto;touch-action:auto;overflow:hidden!important;-ms-overflow-style:none}@supports (-ms-overflow-style:none){.ps{overflow:auto!important}}@media (-ms-high-contrast:none),screen and (-ms-high-contrast:active){.ps{overflow:auto!important}}.ps.ps--active-x>.ps__scrollbar-x-rail,.ps.ps--active-y>.ps__scrollbar-y-rail{display:block;background-color:transparent}.ps.ps--in-scrolling.ps--x>.ps__scrollbar-x-rail{background-color:transparent;opacity:.9}.ps.ps--in-scrolling.ps--x>.ps__scrollbar-x-rail>.ps__scrollbar-x{background-color:hsla(0,0%,100%,.2);height:8px}.ps.ps--in-scrolling.ps--y>.ps__scrollbar-y-rail{background-color:transparent;opacity:.9}.ps.ps--in-scrolling.ps--y>.ps__scrollbar-y-rail>.ps__scrollbar-y{background-color:hsla(0,0%,100%,.2);width:10px}.ps>.ps__scrollbar-x-rail{display:none;position:absolute;opacity:0;transition:background-color .2s linear,opacity .2s linear;bottom:0;height:12px;z-index:2}.ps>.ps__scrollbar-x-rail>.ps__scrollbar-x{position:absolute;background-color:hsla(0,0%,100%,.2);border-radius:6px;transition:background-color .2s linear,height .2s linear,width .2s ease-in-out,border-radius .2s ease-in-out;bottom:2px;height:6px}.ps>.ps__scrollbar-x-rail:active>.ps__scrollbar-x,.ps>.ps__scrollbar-x-rail:hover>.ps__scrollbar-x{height:11px}.ps>.ps__scrollbar-y-rail{display:none;position:absolute;opacity:0;transition:background-color .2s linear,opacity .2s linear;right:0;width:11px;z-index:2}.ps>.ps__scrollbar-y-rail>.ps__scrollbar-y{position:absolute;background-color:hsla(0,0%,100%,.2);border-radius:6px;transition:background-color .2s linear,height .2s linear,width .2s ease-in-out,border-radius .2s ease-in-out;right:2px;width:6px}.ps>.ps__scrollbar-y-rail:active>.ps__scrollbar-y,.ps>.ps__scrollbar-y-rail:hover>.ps__scrollbar-y{width:11px}.ps:hover.ps--in-scrolling.ps--x>.ps__scrollbar-x-rail{background-color:transparent;opacity:.9}.ps:hover.ps--in-scrolling.ps--x>.ps__scrollbar-x-rail>.ps__scrollbar-x{background-color:hsla(0,0%,100%,.2);height:11px}.ps:hover.ps--in-scrolling.ps--y>.ps__scrollbar-y-rail{background-color:transparent;opacity:.9}.ps:hover.ps--in-scrolling.ps--y>.ps__scrollbar-y-rail>.ps__scrollbar-y{background-color:hsla(0,0%,100%,.2);width:11px}.ps:hover>.ps__scrollbar-x-rail,.ps:hover>.ps__scrollbar-y-rail{opacity:.6}.ps:hover>.ps__scrollbar-x-rail:hover{background-color:transparent;opacity:.9}.ps:hover>.ps__scrollbar-x-rail:hover>.ps__scrollbar-x{background-color:hsla(0,0%,100%,.2)}.ps:hover>.ps__scrollbar-y-rail:hover{background-color:transparent;opacity:.9}.ps:hover>.ps__scrollbar-y-rail:hover>.ps__scrollbar-y{background-color:hsla(0,0%,100%,.2)}.ps-container{position:relative}.emptyShowPic{text-align:center;font-size:.875em;display:table;width:100%;height:100%}.emptyShowPic div.emptyContent{display:table-cell;vertical-align:middle}.emptyShowPic div.emptyContent img{width:17.75em;height:11.75em}.emptyShowPic div.emptyContent p{margin-top:1em;font-size:.875em}.emptyTips{color:#eb3b3b;font-weight:900;line-height:2.5!important}',""])},555:function(e,t,o){"use strict";var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"list-content noBorder",style:{width:e.width,padding:0,background:"transparent"}},[o("table",{staticClass:"form-list table-list",style:{width:e.width,margin:0,"font-size":"0.875em"}},[e._m(0),e._v(" "),e._l(e.priceDatas,function(t,a){return o("tr",[o("td",[e._v(e._s(t.itemName1))]),e._v(" "),o("td",[e._v(e._s(t.dataValue1))]),e._v(" "),o("td",[e._v(e._s(t.dataValue2))])])})],2)])},i=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("tr",{staticClass:"table-header"},[o("th"),e._v(" "),o("th",[e._v("第一套电价")]),e._v(" "),o("th",[e._v("第二套电价")])])}],r={render:a,staticRenderFns:i};t.a=r},556:function(e,t,o){"use strict";var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"openAccount"},[e.showDialog?o("dialogs",{ref:"openAccount",attrs:{type:"customer",width:e.showData?"47em":"30em",overflow:"auto"}},[o("div",{attrs:{slot:"header"},slot:"header"},[e._v("\n      "+e._s(1===e.operateFlag?"IC卡开卡操作":"IC卡补卡操作")+"\n    ")]),e._v(" "),o("div",{attrs:{slot:"content"},slot:"content"},[e.showData?e._e():o("p",{staticStyle:{padding:"20px"}},[e._v(e._s(e.showAlerts?e.msg:"正在加载数据，请稍后..."))]),e._v(" "),e.showData?o("ul",{staticClass:"form-list dialog-ul",staticStyle:{padding:"0 3em",width:"calc(100% - 6em)"}},[e._l(e.dialogFrom,function(t,a){return o("li",{class:t.classes||""},["button"!==t.type&&t.show?[o("label",{staticClass:"label-span",staticStyle:{"line-height":"1.8","min-width":"5.5em"}},[e._v(e._s(t.label)+" :  ")]),e._v(" "),o("label",{staticClass:"label-span",staticStyle:{"line-height":"1.8"}},[e._v(e._s(t.value))])]:e._e()],2)}),e._v(" "),o("li",{directives:[{name:"show",rawName:"v-show",value:3!==e.operateFlag,expression:"operateFlag !== 3"}],staticClass:"allWidth",staticStyle:{margin:"0"}},[e.showPrice?o("priceTable",{attrs:{priceData:e.priceData}}):e._e()],1),e._v(" "),3===e.operateFlag?o("li",{staticStyle:{margin:"0 0.2em",width:"100%"}},[o("p",{staticClass:"max-length",staticStyle:{"text-align":"left",margin:"0 0 1em 0"}},[e._v(e._s(e.payMsg)+" ")]),e._v(" "),o("table",{staticClass:"table-list",staticStyle:{width:"100%",margin:"0"}},[o("tr",{staticClass:"table-header"},[o("td",{staticStyle:{width:"150px"}},[e._v("购电日期")]),e._v(" "),o("td",[e._v("缴费金额")]),e._v(" "),o("td",[e._v("充值金额")]),e._v(" "),o("td",[e._v("购电次数")])]),e._v(" "),o("tr",[o("td",[e._v(e._s(e.customerInfo.payDate))]),e._v(" "),o("td",[e._v(e._s(e.customerInfo.payment))]),e._v(" "),o("td",[e._v(e._s(e.customerInfo.payMoney))]),e._v(" "),o("td",[e._v(e._s(e.customerInfo.payCount))])])])]):e._e()],2):e._e()]),e._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"},[e.showData?[e.showData?o("ul",{staticClass:"form-list dialog-ul",staticStyle:{padding:"1em 2em 0 2em",width:"calc(100% - 4em)"}},[e._l(e.inputOpt,function(t,a){return t.isShow&&0!=e.customerInfo.meterType?[o("li",{class:t.classes},[o("label",{staticClass:"label-span",staticStyle:{"line-height":"2.5","min-width":"5em"}},[e._v(e._s(t.name)+"  ")]),e._v(" "),o("inputs",{ref:t.option.key,refInFor:!0,attrs:{option:t.option},on:{RealData:e.getForm,getInput:e.getForm}})],1)]:e._e()}),e._v(" "),o("li",{staticClass:"halfWidth hasMarginLi",staticStyle:{"line-height":"2.5"}},[3!=e.operateFlag&&0!=e.customerInfo.meterType?[o("label",{staticClass:"max-length",staticStyle:{width:"300px","text-align":"left",float:"left","font-size":"0.83em"}},[e._v("计算公式 ： 充值金额 = 缴费金额 - 预留金额")])]:e._e()],2),e._v(" "),o("li",{staticClass:"allWidth"},[o("flash",{staticStyle:{"margin-left":"-1em"}})],1)],2):e._e(),e._v(" "),0!=e.customerInfo.meterType?[o("div",{staticClass:"footerBtn"},[o("button",{staticClass:"button-default",attrs:{disabled:2!=e.allowWrite},on:{click:e.readCardClick}},[e._v("\n              写卡\n            ")]),e._v(" "),o("button",{staticClass:"button-default cancel-button",on:{click:e.close}},[e._v("取消")])])]:e._e(),e._v(" "),0==e.customerInfo.meterType?o("p",{staticStyle:{float:"left",padding:"25px 20px 0 45px",height:"6.5em","font-size":"0.83em"}},[e._v("\n          提示： 电表规约为'DL/T645-1997'，不能进行IC卡开户\n        ")]):e._e()]:e._e()],2)]):e._e(),e._v(" "),o("dialogs",{ref:"alerts",attrs:{type:"alert"}}),e._v(" "),o("dialogs",{ref:"confirms",attrs:{type:"confirm"}}),e._v(" "),o("dialogs",{ref:"loadings",attrs:{type:"loading"}})],1)},i=[],r={render:a,staticRenderFns:i};t.a=r},557:function(e,t,o){"use strict";o(9).a.register({"credit-card-alt":{width:2304,height:1792,paths:[{d:"M0 1504v-608h2304v608q0 66-47 113t-113 47h-1984q-66 0-113-47t-47-113zM640 1280v128h384v-128h-384zM256 1280v128h256v-128h-256zM2144 128q66 0 113 47t47 113v224h-2304v-224q0-66 47-113t113-47h1984z"}]}})},568:function(e,t,o){e.exports=o.p+"glyphicons-halflings-regular.eot?f4769f9bdb7466be65088239c12046d1"},569:function(e,t,o){e.exports=o.p+"loading.gif?13630905267b809161e71d0f8a0c017b"},570:function(e,t,o){"use strict";t.a={data:function(){return{cursor:"default",uploadResolute:!1,showDialog:!1,styleParams:"",upLoadAttrite:{extensions:["jpg","txt"],fileSize:2e3,reqParam:{},templateUrl:"1",url:""},ForthwithLoad:!1,upLoadedData:{fileName:"文件名称",saveName:"存储临时目录的名称",importId:"导入的UUID",importTime:"导入的时间"}}},props:["upLoadAttrParam","ForthwithLoadParam"],methods:{closeDialog:function(){this.showDialog=!1},show:function(){var e=this;e.showDialog=!0,setTimeout(function(){e.$refs.uploadFile.show({hasClose:!0,action:{cancel:function(){e.close()}}}),e.initFileInput(),$(".fileinput-remove").trigger("click")},0)},initFileInput:function(e){var t=this,o=$("#upfilectrl"),a=this.getPath(this.upLoadAttrite.url);o.fileinput({language:"en",uploadUrl:a,uploadExtraData:this.upLoadAttrite.reqParam,showUpload:!0,uploadAsync:!0,showClose:!1,allowedFileExtensions:this.upLoadAttrite.extensions,maxFileSize:this.upLoadAttrite.fileSize,minFileCount:1,maxFileCount:10,validateInitialCount:!0,msgFilesTooMany:"选择上传的文件数量({n}) 超过允许的最大数值{m}！"}).on("filebatchselected",function(e,o){o.length>0&&t.ForthwithLoad&&$(this).fileinput("upload")}).on("fileclear",function(e,t,o){}).on("fileuploaded",function(e,o){var a=o.response;302===a.code?t.$router.push({path:"/"}):1===a.code?(t.upLoadedData=a.data,t.closeDialog(),t.$emit("upLoadFileFunc")):t.$refs.alerts.show({msg:a.message})}).on("filecleared",function(e,t,o){}).on("fileerror",function(e,o,a){var i=$("<span>");t.$parent.msgShow(i.html(a).text())})},getAllowExtensions:function(){return this.upLoadAttrite.extensions.join(",")},close:function(){this.showDialog=!1,this.$refs.uploadFile.close()}},components:{},mounted:function(){if(null!==this.upLoadAttrParam)for(var e in this.upLoadAttrite)null!==this.upLoadAttrParam[e]&&(this.upLoadAttrite[e]=this.upLoadAttrParam[e]);null!==this.ForthwithLoadParam&&(this.ForthwithLoad=this.ForthwithLoadParam)},watch:{}}},571:function(e,t,o){"use strict";var a=(o(161),o(162),o(163),[]);t.a={name:"item",component:{},props:{noCheck:{},isInit:{},model:{},textKey:{default:"orgName"},isLastLeaf:{},onBrother:{default:!0},valueKey:{default:"orgNo"}},data:function(){return{sel:!1,open:!1,selId:0}},computed:{isFolder:function(){return this.model.children&&this.model.children.length}},methods:{isLast:function(){for(var e=0;e<this.model.children.length;e++)if(this.model.children[e].children&&this.model.children[e].children.length>0)return!0;return!1},isSelectNode:function(e,t){var o=t||this.$store.state.currentSelectOrg,a=!0;if("string"==typeof this.valueKey)a=a&&o[this.valueKey]===e[this.valueKey];else if(this.valueKey instanceof Array)for(var i=0;i<this.valueKey.length;i++){var r=this.valueKey[i];a=a&&o[r]===e[r]}return a},toggle:function(e){this.isFolder&&(this.open=!this.open),this.isOpenNode(this.getSaveNode(e))},isOpenNode:function(e,t){if(0===a.length)return void(t?this.open=!1:a.push(e));for(var o=0;o<a.length;o++){if(this.isSelectNode(e,a[o]))return void(t?this.open=!0:a.splice(o,1));if(o===a.length-1)return void(t?this.open=!1:a.push(e))}},getSaveNode:function(e){var t={};for(var o in e)"children"!==o&&(t[o]=e[o]);return t},selClick:function(e){var t=this.getSaveNode(e);this.$store.state.currentSelectOrg=t,this.sel?this.$emit("selClicks",""):this.$emit("selClicks",t)}},created:function(){this.isOpenNode(this.model,!0),this.isInit&&this.selClick(this.model)},watch:{model:{handler:function(e){}}}}},590:function(e,t,o){"use strict";function a(e){o(591)}var i=o(570),r=o(599),s=o(31),n=a,l=s(i.a,r.a,!1,n,"data-v-551cf9f2",null);t.a=l.exports},591:function(e,t,o){var a=o(592);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o(33)("0198be80",a,!0,{})},592:function(e,t,o){t=e.exports=o(32)(!1),t.i(o(593),""),t.push([e.i,".uploadWin[data-v-551cf9f2]{position:absolute;left:30%;top:20%;background-color:#fff;width:400px;border:1px solid #f1f1f1}.formBackIndex[data-v-551cf9f2]{z-index:19}.formIndex[data-v-551cf9f2]{z-index:20}.templatedown[data-v-551cf9f2]{color:#69a4e7;float:right;text-decoration:underline}.templatedown i.hasIcon[data-v-551cf9f2]{margin-top:.2em;margin-right:.8em}.templatedown[data-v-551cf9f2]:hover{color:#fff}",""])},593:function(e,t,o){var a=o(71);t=e.exports=o(32)(!1),t.push([e.i,"/*!\n * bootstrap-fileinput v4.4.2\n * http://plugins.krajee.com/file-input\n *\n * Krajee default styling for bootstrap-fileinput.\n *\n * Author: Kartik Visweswaran\n * Copyright: 2014 - 2017, Kartik Visweswaran, Krajee.com\n *\n * Licensed under the BSD 3-Clause\n * https://github.com/kartik-v/bootstrap-fileinput/blob/master/LICENSE.md\n\n */@font-face{font-family:Glyphicons Halflings;src:url("+a(o(568))+");src:url("+a(o(568))+'?#iefix) format("embedded-opentype"),url('+a(o(594))+') format("woff2"),url('+a(o(595))+') format("woff"),url('+a(o(596))+') format("truetype"),url('+a(o(597))+'#glyphicons_halflingsregular) format("svg")}.file-drop-zone,.krajee-default .file-preview-audio audio,.krajee-default .file-preview-image,.krajee-default .file-preview-other{vertical-align:middle}.file-loading{top:0;right:0;width:25px;height:25px;font-size:999px;text-align:right;color:#fff;background:url('+a(o(569))+") 0 0 no-repeat;border:none}.file-object{margin:0 0 -5px;padding:0;width:100%;overflow:auto}.btn-file{position:relative;overflow:hidden}.btn-file input[type=file]{position:absolute;top:0;right:0;min-width:100%;min-height:100%;text-align:right;opacity:0;background:none;cursor:inherit;display:block}.file-caption-name{display:inline-block;overflow:hidden;height:20px;word-break:break-all}.input-group-lg .file-caption-name{height:25px}.file-zoom-dialog{text-align:left;display:none}.file-error-message{color:#a94442;background-color:#f2dede;margin:5px;border:1px solid #ebccd1;border-radius:4px;padding:15px}.file-error-message pre,.file-error-message ul{margin:0;text-align:left}.file-error-message li{width:100%}.file-error-message pre{margin:5px 0;width:100%}.file-caption-disabled{background-color:#eee;cursor:not-allowed;opacity:1}.file-preview{border-radius:5px;border:1px solid #ddd;padding:5px;width:calc(100% - 12px);margin-bottom:5px}.file-preview-image{font:40px Impact,Charcoal,sans-serif;color:green}.krajee-default.file-preview-frame{position:relative;display:table;margin:8px;border:1px solid #ddd;box-shadow:1px 1px 5px 0 #a2958a;padding:6px;float:left;text-align:center;width:calc(100% - 28px)}.krajee-default.file-preview-frame:not(.file-preview-error):hover{box-shadow:3px 3px 5px 0 #333}.krajee-default.file-preview-frame .kv-file-content{height:170px}.krajee-default.file-preview-frame .file-thumbnail-footer{height:40px}.krajee-default .file-preview-text{display:block;color:#428bca;border:1px solid #ddd;font-family:Menlo,Monaco,Consolas,Courier New,monospace;outline:0;padding:8px;resize:none}.krajee-default .file-preview-html{border:1px solid #ddd;padding:8px;overflow:auto}.krajee-default[data-template=audio] .file-preview-audio{display:table-cell;vertical-align:middle;height:170px;border:1px solid #ddd;border-radius:5px}.krajee-default .file-zoom-dialog .file-preview-text{font-size:1.2em}.krajee-default .file-preview-other{left:0;top:0;right:0;bottom:0;margin:auto;text-align:center;padding:10px}.krajee-default .file-preview-other:hover{opacity:.8}.krajee-default .file-actions,.krajee-default .file-other-error{text-align:left}.krajee-default .file-other-icon{font-size:8em}.krajee-default .file-actions{margin-top:15px}.krajee-default .file-footer-buttons{float:right}.krajee-default .file-footer-caption{display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:160px;text-align:center;padding-top:4px;font-size:11px;color:#777;margin:5px auto}.file-input-ajax-new .fileinput-remove-button,.file-input-ajax-new .fileinput-upload-button,.file-input-ajax-new .no-browse .input-group-btn,.file-input-new .close,.file-input-new .file-preview,.file-input-new .fileinput-remove-button,.file-input-new .fileinput-upload-button,.file-input-new .glyphicon-file,.file-input-new .no-browse .input-group-btn{display:none}.krajee-default .file-preview-error{opacity:.65;box-shadow:none}.krajee-default .file-preview-frame:not(.file-preview-error) .file-footer-caption:hover{color:#000}.krajee-default .file-drag-handle,.krajee-default .file-upload-indicator{position:absolute;text-align:center;bottom:-6px;left:-6px;padding:8px 8px 1px 3px;border-left:none;border-bottom:none;border-right:1px solid #8a6d3b;border-top:1px solid #8a6d3b;border-top-right-radius:24px;font-size:12px}.krajee-default .file-drag-handle{background-color:#d9edf7;border-color:#bce8f1}.krajee-default .file-upload-indicator{font-size:13px;background-color:#fcf8e3;border-color:#faebcc;padding-bottom:0}.krajee-default.file-preview-error .file-upload-indicator{background-color:#f2dede;border-color:#ebccd1}.krajee-default.file-preview-success .file-upload-indicator{background-color:#dff0d8;border-color:#d6e9c6}.krajee-default.file-preview-loading .file-upload-indicator{background-color:#e5e5e5;border-color:#777}.krajee-default .file-thumb-progress .progress,.krajee-default .file-thumb-progress .progress-bar{height:10px;font-size:9px;line-height:10px}.krajee-default .file-thumbnail-footer{position:relative}.krajee-default .file-thumb-progress{height:10px;position:absolute;top:35px;left:0;right:0}.krajee-default.kvsortable-ghost{background:#e1edf7;border:2px solid #a1abff}.file-zoom-dialog .file-other-icon{font-size:22em;font-size:50vmin}.file-caption-main{width:100%}.file-input-ajax-new .no-browse .form-control,.file-input-new .no-browse .form-control{border-top-right-radius:4px;border-bottom-right-radius:4px}.file-thumb-loading{background:url("+a(o(569))+") 50% no-repeat content-box!important}.file-sortable .file-drag-handle{cursor:move;cursor:-webkit-grabbing;opacity:1}.file-sortable .file-drag-handle:hover{opacity:.7}.file-drop-zone{border:1px dashed #aaa;border-radius:4px;height:100%;text-align:center;margin:12px 15px 12px 12px;padding:5px}.file-drop-zone-title{color:#aaa;font-size:1.6em;padding:85px 10px;cursor:default}.clickable .file-drop-zone-title,.file-preview .clickable{cursor:pointer}.file-drop-zone.clickable:hover{border:2px dashed #999}.file-drop-zone.clickable:focus{border:2px solid #5acde2}.file-drop-zone .file-preview-thumbnails{cursor:default}.file-highlighted{border:2px dashed #999!important;background-color:#f0f0f0}.file-uploading{background:url("+a(o(598))+') center bottom 10px no-repeat;opacity:.65}.file-zoom-fullscreen.modal{position:fixed;top:0;right:0;bottom:0;left:0}.file-zoom-fullscreen .modal-dialog{position:fixed;margin:0;width:100%;height:100%;padding:0}.file-zoom-fullscreen .modal-content{border-radius:0;box-shadow:none}.file-zoom-fullscreen .modal-body{overflow-y:auto}.file-zoom-dialog .modal-body{position:relative!important}.file-zoom-dialog .btn-navigate{position:absolute;padding:0;margin:0;background:0 0;text-decoration:none;outline:0;opacity:.7;top:45%;font-size:4em;color:#1c94c4}.file-zoom-dialog .floating-buttons{position:absolute;top:5px;right:10px}.floating-buttons,.floating-buttons .btn{z-index:3000}.file-zoom-dialog .kv-zoom-actions .btn,.floating-buttons .btn{margin-left:3px}.file-zoom-dialog .btn-navigate:not([disabled]):focus,.file-zoom-dialog .btn-navigate:not([disabled]):hover{outline:0;box-shadow:none;opacity:.5}.file-zoom-dialog .btn-navigate[disabled]{opacity:.3}.file-zoom-dialog .btn-prev{left:1px}.file-zoom-dialog .btn-next{right:1px}.file-zoom-content{height:480px;text-align:center}.file-zoom-content .file-preview-image,.file-zoom-content .file-preview-video{max-height:100%}.file-zoom-content>.file-object.type-image{width:auto;height:auto;min-height:inherit;max-width:100%;max-height:100%}.file-zoom-content>.file-object.type-flash,.file-zoom-content>.file-object.type-video{width:auto;height:100%;max-width:100%;max-height:100%}.file-zoom-content>.file-object.type-audio{width:auto;height:30px}.file-zoom-content>.file-object.type-default,.file-zoom-content>.file-object.type-html,.file-zoom-content>.file-object.type-pdf,.file-zoom-content>.file-object.type-text{width:100%}.file-preview-initial.sortable-chosen{background-color:#d9edf7}.btn-file ::-ms-browse{font-size:10000px;width:100%;height:100%}.rotate-2{transform:rotateY(180deg)}.rotate-3{transform:rotate(180deg)}.rotate-4{transform:rotate(180deg) rotateY(180deg)}.rotate-5{transform:rotate(270deg) rotateY(180deg)}.rotate-6{transform:rotate(90deg)}.rotate-7{transform:rotate(90deg) rotateY(180deg)}.rotate-8{transform:rotate(270deg)}.file-zoom-content .is-portrait-gt4{margin-top:60px}.hide{display:none!important}.progress{height:20px;margin-bottom:10px;overflow:hidden;background-color:#f5f5f5;border-radius:4px;-webkit-box-shadow:inset 0 1px 2px rgba(0,0,0,.1);box-shadow:inset 0 1px 2px rgba(0,0,0,.1)}.progress-bar.active,.progress.active .progress-bar{-webkit-animation:progress-bar-stripes 2s linear infinite;-o-animation:progress-bar-stripes 2s linear infinite;animation:progress-bar-stripes 2s linear infinite}.progress-bar-success{background-color:#5cb85c}.progress-bar-striped,.progress-striped .progress-bar{background-image:-webkit-linear-gradient(45deg,hsla(0,0%,100%,.15) 25%,transparent 0,transparent 50%,hsla(0,0%,100%,.15) 0,hsla(0,0%,100%,.15) 75%,transparent 0,transparent);background-image:-o-linear-gradient(45deg,hsla(0,0%,100%,.15) 25%,transparent 25%,transparent 50%,hsla(0,0%,100%,.15) 50%,hsla(0,0%,100%,.15) 75%,transparent 75%,transparent);background-image:linear-gradient(45deg,hsla(0,0%,100%,.15) 25%,transparent 0,transparent 50%,hsla(0,0%,100%,.15) 0,hsla(0,0%,100%,.15) 75%,transparent 0,transparent);-webkit-background-size:40px 40px;background-size:40px 40px}.progress-bar{float:left;width:0;height:100%;font-size:12px;line-height:20px;color:#fff;text-align:center;background-color:#337ab7;-webkit-box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);-webkit-transition:width .6s ease;-o-transition:width .6s ease;transition:width .6s ease}.btn-group-vertical>.btn-group:after,.btn-group-vertical>.btn-group:before,.btn-toolbar:after,.btn-toolbar:before,.clearfix:after,.clearfix:before,.container-fluid:after,.container-fluid:before,.container:after,.container:before,.dl-horizontal dd:after,.dl-horizontal dd:before,.form-horizontal .form-group:after,.form-horizontal .form-group:before,.modal-footer:after,.modal-footer:before,.modal-header:after,.modal-header:before,.nav:after,.nav:before,.navbar-collapse:after,.navbar-collapse:before,.navbar-header:after,.navbar-header:before,.navbar:after,.navbar:before,.pager:after,.pager:before,.panel-body:after,.panel-body:before,.row:after,.row:before{display:table;content:" ";box-sizing:border-box}.btn-group-vertical>.btn-group:after,.btn-toolbar:after,.clearfix:after,.container-fluid:after,.container:after,.dl-horizontal dd:after,.form-horizontal .form-group:after,.modal-footer:after,.modal-header:after,.nav:after,.navbar-collapse:after,.navbar-header:after,.navbar:after,.pager:after,.panel-body:after,.row:after{clear:both}.input-group{position:relative;display:table;border-collapse:separate}.input-group-addon:first-child,.input-group-btn:first-child>.btn,.input-group-btn:first-child>.btn-group>.btn,.input-group-btn:first-child>.dropdown-toggle,.input-group-btn:last-child>.btn-group:not(:last-child)>.btn,.input-group-btn:last-child>.btn:not(:last-child):not(.dropdown-toggle),.input-group .form-control:first-child{border-top-right-radius:0;border-bottom-right-radius:0}.input-group-btn{position:relative;font-size:0;white-space:nowrap}.input-group-addon,.input-group-btn{width:1%;white-space:nowrap;vertical-align:middle}.input-group-addon,.input-group-btn,.input-group .form-control{display:table-cell}.input-group .form-control{position:relative;z-index:2;float:left;width:100%;margin-bottom:0}.form-control{display:block;width:100%;height:34px;padding:6px 12px;font-size:14px;line-height:1.42857143;color:#555;background-color:#fff;background-image:none;border:1px solid #ccc;border-radius:4px;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075);-webkit-transition:border-color .15s ease-in-out,-webkit-box-shadow .15s ease-in-out;-o-transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.input-group-btn>.btn+.btn{margin-left:-1px}.input-group-addon:last-child,.input-group-btn:first-child>.btn-group:not(:first-child)>.btn,.input-group-btn:first-child>.btn:not(:first-child),.input-group-btn:last-child>.btn,.input-group-btn:last-child>.btn-group>.btn,.input-group-btn:last-child>.dropdown-toggle,.input-group .form-control:last-child{border-top-left-radius:0;border-bottom-left-radius:0}.input-group-btn>.btn{position:relative}fileinput.min.css:\\14 .btn-file{position:relative;overflow:hidden}.btn-primary{color:#fff;background-color:#337ab7;border-color:#2e6da4}.btn{padding:6px 12px;margin-bottom:0;font-size:14px;line-height:1.42857143;text-align:center;white-space:nowrap;vertical-align:middle;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-image:none;border:1px solid transparent;border-radius:4px}.btn,.glyphicon{display:inline-block;font-weight:400}.glyphicon{position:relative;top:1px;font-family:Glyphicons Halflings;font-style:normal;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.btn-default{color:#333;background-color:#fff;border-color:#ccc}.close{float:right;font-size:21px;font-weight:700;line-height:1;color:#000;text-shadow:0 1px 0 #fff;filter:alpha(opacity=20);opacity:.2;cursor:pointer}.file-upload-indicator,.krajee-default .file-actions{display:none!important}.glyphicon-trash:before{content:"\\E020"}.glyphicon-upload:before{content:"\\E027"}.glyphicon-folder-open:before{content:"\\E118"}.glyphicon-exclamation-sign:before{content:"\\E101"}.glyphicon-file:before{content:"\\E022"}.file-object::-webkit-scrollbar{display:none}.file-input .file-caption-main .input-group-btn .fileinput-cancel-button{border-radius:0!important;height:2.45em;color:#333!important}',""])},594:function(e,t,o){e.exports=o.p+"glyphicons-halflings-regular.woff2?448c34a56d699c29117adc64c43affeb"},595:function(e,t,o){e.exports=o.p+"glyphicons-halflings-regular.woff?fa2772327f55d8198301fdb8bcfc8158"},596:function(e,t,o){e.exports=o.p+"glyphicons-halflings-regular.ttf?e18bbf611f2a2e43afc071aa2f4e1512"},597:function(e,t,o){e.exports=o.p+"glyphicons-halflings-regular.svg?89889688147bd7575d6327160d64e760"},598:function(e,t,o){e.exports=o.p+"loading-sm.gif?e5ad074b7969cc386b387f08dba4fcec"},599:function(e,t,o){"use strict";var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"myDialog"},[e.showDialog?o("dialogs",{ref:"uploadFile",attrs:{type:"customer",width:"45em",overflow:"auto",maxHeight:"25em",isPadding:"true"}},[o("div",{attrs:{slot:"header"},slot:"header"},[e._v("\n      上传文件\n    ")]),e._v(" "),o("div",{attrs:{slot:"content"},slot:"content"},[o("input",{attrs:{name:"fileName",multiple:"",type:"file","data-show-caption":"true","data-min-file-count":"1",id:"upfilectrl"}}),e._v(" "),o("p",{staticClass:"help-block"},[o("span",[e._v("支持 "+e._s(e.getAllowExtensions())+" 格式，大小不超过 "+e._s(e.upLoadAttrite.fileSize/1e3)+" M ")]),e._v(" "),""!==e.upLoadAttrite.templateUrl?o("a",{staticClass:"templatedown",attrs:{href:e.upLoadAttrite.templateUrl,target:"_blank"}},[o("i",{staticClass:"hasIcon"},[o("icon",{attrs:{name:"download",scale:"1.2"}})],1),e._v(" 模板下载\n         ")]):e._e()])])]):e._e(),e._v(" "),o("dialogs",{ref:"alerts",attrs:{type:"alert"}})],1)},i=[],r={render:a,staticRenderFns:i};t.a=r},600:function(e,t,o){"use strict";o(9).a.register({"sign-in":{width:1536,height:1792,paths:[{d:"M1184 896q0 26-19 45l-544 544q-19 19-45 19t-45-19-19-45v-288h-448q-26 0-45-19t-19-45v-384q0-26 19-45t45-19h448v-288q0-26 19-45t45-19 45 19l544 544q19 19 19 45zM1536 544v704q0 119-84.5 203.5t-203.5 84.5h-320q-13 0-22.5-9.5t-9.5-22.5q0-4-1-20t-0.5-26.5 3-23.5 10-19.5 20.5-6.5h320q66 0 113-47t47-113v-704q0-66-47-113t-113-47h-288-11-13t-11.5-1-11.5-3-8-5.5-7-9-2-13.5q0-4-1-20t-0.5-26.5 3-23.5 10-19.5 20.5-6.5h320q119 0 203.5 84.5t84.5 203.5z"}]}})},601:function(e,t,o){"use strict";o(9).a.register({indent:{width:1792,height:1792,paths:[{d:"M352 832q0 14-9 23l-288 288q-9 9-23 9-13 0-22.5-9.5t-9.5-22.5v-576q0-13 9.5-22.5t22.5-9.5q14 0 23 9l288 288q9 9 9 23zM1792 1312v192q0 13-9.5 22.5t-22.5 9.5h-1728q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1728q13 0 22.5 9.5t9.5 22.5zM1792 928v192q0 13-9.5 22.5t-22.5 9.5h-1088q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1088q13 0 22.5 9.5t9.5 22.5zM1792 544v192q0 13-9.5 22.5t-22.5 9.5h-1088q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1088q13 0 22.5 9.5t9.5 22.5zM1792 160v192q0 13-9.5 22.5t-22.5 9.5h-1728q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1728q13 0 22.5 9.5t9.5 22.5z"}]}})},602:function(e,t,o){"use strict";function a(e){o(603)}var i=o(571),r=o(607),s=o(31),n=a,l=s(i.a,r.a,!1,n,null,null);t.a=l.exports},603:function(e,t,o){var a=o(604);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o(33)("796279d2",a,!0,{})},604:function(e,t,o){var a=o(71);t=e.exports=o(32)(!1),t.push([e.i,".item{font-size:1em;width:100%;padding:0;position:relative}.rowPanle{padding:.2em 0}.rowPanle .folder-panel{display:inline-block;cursor:pointer;float:left;width:1.5em;height:1.5em;margin-top:-.15em;background-color:#227fdf;border-radius:.2em;text-align:center}.rowPanle .folder-panel .folder-style{font-size:1.3em}.rowPanle .folder-panel .icon.folder{background-image:url("+a(o(158))+")}.rowPanle .folder-panel .icon.folder-open{background-image:url("+a(o(159))+")}.rowPanle .folder-panel .icon.file-text{background-image:url("+a(o(160))+')}.rowPanle .unfolder-width{background-color:transparent}.rowPanle .liItem{float:left;display:inline-block;cursor:pointer;width:calc(100% - 6em);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-align:left}.rowPanle .liItemSel{color:#d38642}.rowPanle:after{content:"";display:block;width:0;height:1px;clear:both}.hasBackItem:before{content:"";display:block;width:1px;height:calc(100% - 2em);background:url('+a(o(605))+");background-position:-94px 34%;background-position-x:100%;background-repeat-y:repeat;top:24px;position:absolute;left:9px;background-size:initial}.itemLeaf .rowPanle{padding-left:1.3em}.itemLastLeaf{background:url("+a(o(606))+");background-position:-94px -32px;display:inline-table;float:left;width:1em;height:30px;margin-left:9px;background-size:auto;margin-top:-10px}.itemBrotherLeaf{background-position:-94px -11px;height:35px}",""])},605:function(e,t,o){e.exports=o.p+"point.png?1fb913863011223c4f867fe150e75121"},606:function(e,t,o){e.exports=o.p+"metro.png?453f17f877fc82ce6de87181ed111cc1"},607:function(e,t,o){"use strict";var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("li",{class:{hasBackItem:!e.onBrother&&e.isFolder&&!e.isLastLeaf},on:{click:function(t){t.stopPropagation(),e.selClick(e.model)}}},[e._v("\n  "+e._s(e.isOpenNode(e.model,!0))+"\n  "),o("div",{staticClass:"rowPanle"},[e.isInit&&e.onBrother?e._e():o("span",{class:{itemBrotherLeaf:!e.isLastLeaf&&!e.onBrother,itemLastLeaf:!e.isInit}}),e._v(" "),e.isFolder?o("div",{staticClass:"folder-panel",class:e.isFolder?"":" unfolder-width",on:{click:function(t){t.stopPropagation(),e.toggle(e.model)}}},[o("span",{staticClass:"folder-style"},[e._v(e._s(e.open?"-":"+"))])]):e._e(),e._v(" "),e.isFolder?o("i",{staticClass:"hasIcon",staticStyle:{margin:"0.1em 0.5em 0em 0.5em"}},[o("icon",{attrs:{name:e.open?"folder-open":"folder",scale:"1.2"}})],1):e._e(),e._v(" "),e.isFolder?e._e():o("i",{staticClass:"hasIcon",staticStyle:{margin:"0.1em 0.5em 0em 0.5em"}},[o("icon",{attrs:{name:"file-text",scale:"1.2"}})],1),e._v(" "),o("div",{staticClass:"liItem",class:e.isSelectNode(e.model)?"liItemSel":"",attrs:{title:e.model[e.textKey]}},[e._v(e._s(e.model[e.textKey]))])]),e._v(" "),e.isFolder?o("ul",{directives:[{name:"show",rawName:"v-show",value:e.open,expression:"open"}],staticStyle:{"margin-left":"1.7em"}},[e._l(e.model.children,function(t,a){return[o("item",{staticClass:"item",attrs:{textKey:e.textKey,valueKey:e.valueKey,isLastLeaf:a===e.model.children.length-1&&e.model.children.length>1||1==e.model.children.length&&0==a,onBrother:1===e.model.children.length,noCheck:e.noCheck,model:t},on:{selClicks:e.selClick}})]})],2):e._e()])},i=[],r={render:a,staticRenderFns:i};t.a=r},641:function(e,t,o){"use strict";var a=o(515),i=o(590),r=o(746),s=o(762),n=o(602);t.a={data:function(){return{treeKey:["nodeNo","pNodeNo"],treeData:[],tableHeight:"",interVal:"",Guid:"",row:"",showAdd:!1,showInfo:!1,showTable:!1,importInfo:{importId:"",successCount:20,failCount:20},searchParam:{customerName:"",propertyName:"",customerContact:"",customerAddr:"",customerId:"",deviceNo:"",nodeNo:"",pNodeNo:"",nodeType:"",nodeName:""},controls:[],signMsg:"start",searchType:"",selected:"",FormOpt:[{type:"input",options:{type:"typeSearch",key:"searchParam",value:"",selectOpt:{width:"7em",cs:"client",data:[{text:"用户姓名",value:"customerName"},{text:"门牌编号",value:"propertyName"},{text:"联系电话",value:"customerContact"},{text:"用户地址",value:"customerAddr"},{text:"表计户号",value:"meterUserNo"},{text:"用户表号",value:"deviceNo"}],text:"text",value:"value",key:"searchType",constant:{value:"customerName"}}}}],TableOpt:{method:"post",url:"customerInfo/queryListNew",column:[{field:"state",type:"checkBox",textAlign:"center",width:"60"},{title:"用户状态",field:"isEnabled",textAlign:"center",width:"100",sortable:!1,type:"string",formatter:function(e,t,o){return 1===e?'<span class="green">正常</span>':'<span class="red">销户</span>'}},{title:"下发状态",field:"sendFlag",textAlign:"center",width:"100",sortable:!1,type:"string",formatter:function(e,t,o){return 1===e?'<span style="color: #0A9DE2">已下发</span>':'<span style="color: #F34B4A">未下发</span>'}},{title:"用户姓名",field:"customerName",textAlign:"center",width:"160",sortable:!1},{title:"门牌编号",field:"propertyName",textAlign:"center",width:"180",sortable:!1},{title:"电表",field:"electricDeviceNo",textAlign:"center",width:"180",sortable:!1,type:"string",formatter:function(e,t,o){if(o.deviceNoParam)return o.deviceNoParam.electricDeviceNo||""}},{title:"水表",field:"waterDeviceNo",textAlign:"center",width:"180",sortable:!1,type:"string",formatter:function(e,t,o){if(o.deviceNoParam)return o.deviceNoParam.waterDeviceNo||""}},{title:"气表",field:"gasDeviceNo",textAlign:"center",width:"180",sortable:!1,type:"string",formatter:function(e,t,o){if(o.deviceNoParam)return o.deviceNoParam.gasDeviceNo||""}},{title:"联系电话",field:"customerContact",textAlign:"center",width:"140",sortable:!1},{title:"用户地址",field:"customerAddr",textAlign:"center",width:"200",sortable:!1},{title:"商家品牌",field:"customerBrand",textAlign:"center",width:"200",sortable:!1},{title:"部门机构",field:"orgName",textAlign:"center",width:"150"},{title:"创建时间",field:"createTime",textAlign:"center",width:"160",sortable:!1,type:"string",formatter:function(e){return e.substr(0,19)}},{title:"创建人",field:"createUserName",textAlign:"center",width:"100"}],queryParam:{isSearchChild:1},pageSize:20,pageNumber:1,pageList:[20,40,60],sortName:"createTime",sortOrder:"desc",rowName:"data",isExport:!0,exportURL:"customerInfo/downloadCustomerInfo",noExportCurrent:!0},deepSearchData:[],upLoadFile:{ForthwithLoad:!0,upLoadAttrite:{url:"customerInfo/uploadFile",extensions:["xls","xlsx"],fileSize:3e4,templateUrl:"dist/modal/用户档案模板.xls"}},styleParams:"",showDialog:!1}},computed:{alerts:function(){return this.$refs.alerts},loadings:function(){return this.$refs.loadings},progress:function(){return this.$refs.progress}},components:{fileInput:i.a,staffInfo:r.a,staffAdd:s.a,items:n.a},methods:{removeTreeSelect:function(){var e={};for(var t in this.treeData[0])"children"!==t&&(e[t]=this.treeData[0][t]);this.$store.state.currentSelectOrg=e,this.searchParam.nodeNo=e.nodeNo,this.searchParam.nodeType=e.nodeType,this.searchParam.pNodeNo=e.pNodeNo,this.searchParam.nodeName=e.nodeName,this.getParams(1)},selNodeClick:function(e){switch(this.searchParam.nodeType=e.nodeType,this.searchParam.nodeNo=e.nodeNo,this.searchParam.nodeName=e.nodeName,e.nodeType){case 1:this.searchParam.pNodeNo="";break;case 2:this.searchParam.pNodeNo=e.pNodeNo}this.getParams(1)},getTreeData:function(){var e=this;e.getRequest({url:"tree/buildingTree",method:"get",success:function(t){if(e.treeData=t.data,!e.showTable){e.TableOpt.isExport=e.controls[6];var o=t.data[0];e.TableOpt.queryParam.nodeNo=e.searchParam.nodeNo=o.nodeNo,e.TableOpt.queryParam.nodeType=e.searchParam.nodeType=o.nodeType,e.TableOpt.queryParam.pNodeNo=e.searchParam.pNodeNo=o.pNodeNo,e.TableOpt.queryParam.nodeName=e.searchParam.nodeName=o.nodeName,e.showTable=!0}}})},getFrom:function(e){e.combine?this.searchParam[e.key.split(".")[1]]!==e.val&&(this.searchParam=this.cleanSearchData(this.searchParam,["nodeType","nodeNo","pNodeNo","nodeName"]),this.getOption(e,!0),this.getParams(1)):this.getOption(e,!0)},removeSearchData:function(e){var t=this.deepSearchData[e].key;this.searchParam[t]=this.$refs.inputs[0].search="",this.getParams(1)},closeDiv:function(e){this.showAdd=!1,this.showInfo=!1,e?(this.searchParam=this.cleanSearchData(this.searchParam,["nodeType","nodeNo","pNodeNo","nodeName"]),this.$refs.inputs[0].search="",this.getParams(1),this.getTreeData()):this.getParams()},closeDialog:function(){this.showDialog=!1,this.$refs.resolute.close()},centerDialog:function(){var e=this;e.showDialog=!0,setTimeout(function(){e.$refs.resolute.show()},0)},analyzeExcel:function(){var e=this,t={saveName:e.$refs.uploadTarget.upLoadedData.saveName,fileName:e.$refs.uploadTarget.upLoadedData.fileName};e.loadings.show({msg:"正在解析excel文件,请稍后..."}),e.getRequest({url:"customerInfo/batchSave",method:"post",param:t,success:function(t){e.loadings.close();var o=t.data;e.importInfo.importId=e.$refs.uploadTarget.upLoadedData.importId,e.importInfo.successCount=o.successCount,e.importInfo.failCount=o.failCount,e.centerDialog(),e.getTreeData(),e.$nextTick(function(){e.removeTreeSelect()})},error:function(t){e.loadings.close(),e.alerts.show({msg:t.message})}},!0)},importFailExcel:function(){if(this.importInfo.failCount>0){var e={importId:this.importInfo.importId,isDown:1};this.downLoad({url:"customerInfo/downloadErrorData",data:e})}},addUser:function(){this.showAdd=!0},issuedUser:function(){var e=this;this.getConfirm({emptyMsg:"您还未选择任何用户，不能进行下发!",confirmMsg:"您确定要下发选中用户的档案吗？",callback:{confirm:function(){for(var t=[],o=0;o<e.selected.length;o++)for(var i=e.selected[o],r=i.cnoList,s=0;s<r.length;s++){var n=r[s];void 0!==n&&null!==n&&""!==n&&"undefined"!==n&&t.push(n)}e.Guid=(new a.a).newGUID(),e.signMsg="start",e.getData(e.Guid,t)}}})},reCall:function(e,t){var o=this;o.interVal=setInterval(function(){"start"===o.signMsg&&(o.signMsg="",o.getRequest({url:"customerInfo/readSyncState",method:"post",param:{guid:e.guid},success:function(e){101===e.data?o.signMsg="start":(t?o.$refs.infoDetail.getStaffInfo():o.getParams(),clearInterval(o.interVal),o.selected="",o.progress.close(),o.signMsg="start",o.alerts.show({msg:e.message}))},error:function(e){o.getParams(),clearInterval(o.interVal),o.selected="start",o.progress.close(),o.alerts.show({msg:e.message})}},!0))},1e3)},getData:function(e,t,o){var a=this;a.progress.show({msg:"正在下发数据，请稍后......",hasClose:!0,action:{cancel:function(){a.getParams(1),a.progress.close(),a.getRequest({url:"customerInfo/cancelSyncMeterInfo",method:"post",param:{guid:e}},!0),a.signMsg="",clearInterval(a.interVal)}}});var i={cnos:t,guid:e};a.getRequest({url:"customerInfo/syncMeterInfo",method:"post",param:i,success:function(){var e=!!o;a.reCall(i,e)},error:function(e){a.progress.close(),a.getParams(),a.alerts.show({msg:e.message})}})},importUser:function(){this.$refs.uploadTarget.show()},removeUser:function(){var e=this;this.getConfirm({emptyMsg:"请先选择要删除的用户!",confirmMsg:"确定要对选中的用户档案进行删除操作吗？",callback:{confirm:function(){e.deleteData({url:"customerInfo/batchDelete",params:["customerNo"],callback:function(){e.searchParam=e.cleanSearchData(e.searchParam,["nodeType","nodeNo","pNodeNo","nodeName"]),e.$refs.inputs[0].search="",e.getParams(1),e.getTreeData()}})}}})},getParams:function(e){var t=this.getSearchData(this.searchParam);t.isSearchChild=1,this.getHeight(),this.searchTable(t,e)},clickTableRow:function(e){this.row=e.val,this.showInfo=!0},init:function(){},windowChange:function(){this.getHeight()}},created:function(){this.getTreeData()},mounted:function(){var e=this;e.isIn(),e.getAction()},watch:{}}},642:function(e,t,o){"use strict";var a=o(515),i=o(643),r=o(547),s=o(645);o(757),o(600),o(601),o(527),o(758),o(759),o(760),o(557);t.a={data:function(){return{showCompare:!1,showChangeInfo:!1,setRecall:null,customerInfoEdit:!1,showCstPhone:!1,showWxBind:!1,wxBinds:[],customerInfo:{customerName:"",customerContact:"",customerAddr:"",propertyName:"",dictItemName:"",alarmThreshold:"",alarmThreshold1:"",initAmount:"",alarmThreshold2:"",overdraftAmount:"",orgNo:"",orgName:"",createTime:"",remark:""},tabIndex:0,noCardShow:!1,noData:!0,show:!0,selected:{},deviceInfo:{deviceNo:"",jzqNo:"",customerNo:"",commPort:32,deviceFactory:"",alarmThreshold:"",installAddr:"",remark:""},cardInfo:{iCCardType:"",cardID:"",payCount:"",remainAmount:"",alertFee1:"",alertFee2:"",overdraftFee:"",cornerFee:"",priceSolsCode:"",volTranfRto:"",curTranfRto:""},deviceRecords:[],showOperate:!1,showOperates:!1,oldDevice:{deviceNo:"",paramFlag:"",remainAmount:0,lastReadValue:0,lastReadValue1:0,lastReadValue2:0,lastReadValue3:0,lastReadValue4:0},newDevice:{deviceFactoryValue:"",commFactorCnt:"",deviceNo:"",initAmount:0,paramFlag:"",remainAmount:0},changeDevice:{changeRemark:""},currentConfigDevice:"",cstTabIndex:0}},props:["row","controls"],components:{openCard:r.a,operateDevice:i.a,msgPhone:s.a},computed:{tabCustomerInfos:function(){return[{name:"基础信息"},{name:"联系方式"},{name:"微信解绑"}]},deviceConfigRowData:function(){return[{name:"计量点",value1:"",value2:"",key:"commSetupSn"},{name:"测量点",value1:"",value2:"",key:"commPointCode"},{name:"端口号",value1:"",value2:"",key:"commPort"},{name:"规约",value1:"",value2:"",key:"commRule"},{name:"波特率",value1:"",value2:"",key:"commBaudrate"},{name:"采集器",value1:"",value2:"",key:"cjqNo"},{name:"表号",value1:"",value2:"",key:"deviceNo"},{name:"费率",value1:"",value2:"",key:"ratio"}]},tabs:function(){return[{name:"电表",num:0,img:"dist/img/face/elec.png",deviceType:"07",key:"electricDeviceNo"},{name:"水表",num:0,img:"dist/img/face/water.png",deviceType:"08",key:"waterDeviceNo"},{name:"气表",num:0,img:"dist/img/face/gas.png",deviceType:"09",key:"gasDeviceNo"}]},changeUserInfo:function(){var e="calc(100% - 6.5em)";return[{label:"用户姓名",classes:"halfWidth",isEmpty:!1,width:e,type:"input",option:{key:"customerInfo.customerName",width:e,value:this.customerInfo.customerName,type:"normalInput",regular:"",length:20,errorMsg:"任意字符"}},{label:"联系电话",width:e,classes:"halfWidth hasMarginLi",isEmpty:!1,type:"input",option:{key:"customerInfo.customerContact",width:e,value:this.customerInfo.customerContact,type:"disabledInput",length:13,regular:"phone",errorMsg:"联系电话：11位手机号",limit:"phone"}},{label:"门牌编号",width:e,classes:"halfWidth ",isEmpty:!1,type:"input",option:{key:"customerInfo.propertyName",width:e,value:this.customerInfo.propertyName,type:"normalInput",length:50,limit:"NCO"}},{label:"预留金额",width:e,classes:"halfWidth hasMarginLi",isEmpty:!1,type:"input",option:{key:"customerInfo.initAmount",width:e,value:this.customerInfo.initAmount,type:"disabledInput",placeHolder:"0-1000之间任意数字,允许两位小数",errorMsg:"预留金额：0-1000之间任意数字,允许两位小数",length:6,limit:"float",regular:"recharge",dataType:"+float"}},{label:"透支金额",width:e,classes:"halfWidth ",isEmpty:!0,type:"input",option:{key:"customerInfo.overdraftAmount",width:e,value:this.customerInfo.overdraftAmount,type:"normalInput",placeHolder:"0-999999之间任意整数",errorMsg:"透支金额： 0-999999之间任意整数",length:6,limit:"number",dataType:"int"}},{label:"告警阀值1",width:e,classes:"halfWidth hasMarginLi",isEmpty:!1,type:"input",option:{key:"customerInfo.alarmThreshold",width:e,value:this.customerInfo.alarmThreshold,type:"normalInput",placeHolder:"0-99999.99之间任意数，允许两位小数",errorMsg:"告警阀值1： 0-99999.99之间任意数，允许两位小数",length:8,regular:"recharges",dataType:"+float"}},{label:"告警阀值2",width:e,classes:"halfWidth ",isEmpty:!1,type:"input",option:{key:"customerInfo.alarmThreshold1",width:e,value:this.customerInfo.alarmThreshold1,type:"normalInput",placeHolder:"0-99999.99之间任意数，允许两位小数",errorMsg:"告警阀值2： 0-99999.99之间任意数，允许两位小数",length:8,dataType:"+float",regular:"recharges"}},{label:"告警阀值3",width:e,classes:"halfWidth hasMarginLi",isEmpty:!1,type:"input",option:{key:"customerInfo.alarmThreshold2",width:e,value:this.customerInfo.alarmThreshold2,type:"normalInput",placeHolder:"0-99999.99之间任意数，允许两位小数",errorMsg:"告警阀值3： 0-99999.99之间任意数，允许两位小数",length:8,dataType:"+float",regular:"recharges"}},{label:"商家品牌",classes:"halfWidth ",isEmpty:!0,width:e,type:"input",option:{key:"customerInfo.customerBrand",width:e,value:this.customerInfo.customerBrand,type:"normalInput",regular:"",length:50,errorMsg:"任意字符"}},{label:"楼栋编号",classes:"halfWidth hasMarginLi",type:"select",isEmpty:!1,option:{width:e,cs:"server",method:"post",url:"dictItem/queryByDictCode",param:{dictCode:"15"},rowName:"data",text:"dictItemName",value:"dictItemValue",constant:this.customerInfo.buildNo&&""!=this.customerInfo.buildNo?{dictItemValue:this.customerInfo.buildNo}:"",key:"customerInfo.buildNo"}},{label:"部门机构",width:e,classes:"allWidth",isEmpty:!1,type:"select",option:{type:"complexSelect",key:"customerInfo.orgNo",cs:"server",url:"org/queryOrgTreeByOrgNo",noCheck:{key:"leaf",value:0},method:"post",width:e,constant:{orgNo:this.customerInfo.orgNo,orgName:this.customerInfo.orgName},text:"orgName",oText:"orgName",value:"orgNo",rowName:"data"}},{type:"select",isEmpty:!1,classes:1!=this.customerInfo.offScheme?"allWidth":"halfWidth",label:"关断策略",option:{width:e,cs:"client",data:this.getEnumItem("offScheme").obj,constant:""!==this.customerInfo.offScheme?{value:this.customerInfo.offScheme}:"",key:"customerInfo.offScheme"}},{type:"input",unShow:1!=this.customerInfo.offScheme,isEmpty:!1,label:"延时时长",classes:"halfWidth hasMarginLi",option:{type:"normalInput",value:this.customerInfo.offParam||1,placeHolder:"小时为单位，1-2位整数，最小为1",errorMsg:"小时为单位，1-2位整数，最小为1",length:2,limit:"number",regular:"offParam",width:e,key:"customerInfo.offParam"}},{label:"用户地址",width:e,classes:"allWidth",isEmpty:!1,type:"input",option:{key:"customerInfo.customerAddr",width:e,value:this.customerInfo.customerAddr,type:"textArea",length:50}},{label:"备注信息",width:e,classes:"allWidth",isEmpty:!0,type:"input",option:{key:"customerInfo.remark",width:e,value:this.customerInfo.remark,type:"textArea",length:200}}]},alerts:function(){return this.$refs.alerts},confirms:function(){return this.$refs.confirms},loadings:function(){return this.$refs.loadings},lists:function(){return{customerInfo:[{name:"用户姓名",width:"80px",value:this.customerInfo.customerName},{name:"联系电话",width:"80px",value:this.customerInfo.mobilePhones},{name:"门牌编号",width:"80px",value:this.customerInfo.propertyName},{name:"商家品牌",width:"80px",value:this.customerInfo.customerBrand},{name:"透支金额",width:"80px",value:this.customerInfo.overdraftAmount},{name:"预留金额",value:this.customerInfo.initAmount},{name:"告警阀值1",width:"80px",value:this.customerInfo.alarmThreshold},{name:"告警阀值2",width:"80px",value:this.customerInfo.alarmThreshold1},{name:"告警阀值3",width:"80px",value:this.customerInfo.alarmThreshold2},{name:"关断策略",width:"80px",value:this.getEnumItem("offScheme",this.customerInfo.offScheme).text},{name:"延时时间",unShow:1!=this.customerInfo.offScheme,width:"80px",value:this.customerInfo.offParam},{name:"部门机构",width:"80px",value:this.customerInfo.orgName},{name:"楼栋编号",width:"80px",value:this.customerInfo.buildName},{name:"用户地址",width:"80px",value:this.customerInfo.customerAddr},{name:"建档时间",width:"80px",value:this.customerInfo.createTime},{name:"备注信息",width:"80px",value:this.customerInfo.remark}]}},deviceType:function(){return this.tabs[this.tabIndex].deviceType},changeDeviceList:function(){var e=this.deviceInfo;this.oldDevice.paramFlag=e.paramFlag,this.oldDevice.commFactorCnt=e.commFactorCnt;var t=this.getEnumItem("deviceType",this.deviceType||"07").text,o="calc(100% - 0.5em)",a=12;switch(this.deviceType){case"07":!0,a=t+"表号：1-12位数字",this.getEnumItem("commPort").obj;break;case"08":case"09":!1,a="表号：1-14位数字",this.getEnumItem("commPorts").obj}return[{label:t+"表号",isEmpty:!1,isShow:!0,dataValue1:{type:"text",options:{type:"disabledInput",key:"oldDevice.deviceNo",width:o,value:e.deviceNo}},dataValue2:{type:"07"===this.deviceType?"input":"complexInput",options:"07"===this.deviceType?{type:"normalInput",key:"newDevice.deviceNo",regular:"deviceNo",placeHolder:a,length:12,width:o,errorMsg:t+a,limit:"number",color:"#D38642"}:[{cs:"server",width:"8.5em",url:"dictItem/queryByDictCode",method:"post",param:{dictCode:"08"===this.deviceType?2:3},text:"dictItemName",value:"dictItemValue",key:"08"===this.deviceType?"newDevice.waterType":"newDevice.gasType",rowName:"data",position:"static",ulMinWidth:"10em"},{width:"calc(100% - 9em)",type:"normalInput",key:"newDevice.deviceNo",regular:"deviceNo",placeHolder:a,length:14,errorMsg:t+a,limit:"number",color:"#D38642"}]}},{isEmpty:!0,isShow:!0,label:"生产厂家",dataValue1:{value:e.deviceFactoryName},dataValue2:{type:"select",options:{width:o,position:"static",ulMinWidth:"24em",cs:"server",method:"post",url:"dictItem/queryByDictCode",param:{dictCode:"14"},rowName:"data",text:"dictItemName",value:"dictItemValue",constant:""!==this.newDevice.deviceFactoryValue?{dictItemValue:this.newDevice.deviceFactoryValue}:"",key:"newDevice.deviceFactoryValue"}}},{isEmpty:!0,isShow:!0,label:"设备型号",dataValue1:{value:e.meterModeName},dataValue2:{type:"select",options:{width:o,position:"static",ulMinWidth:"24em",method:"post",url:"meterConfig/queryByFactory",param:{meterFactory:this.newDevice.deviceFactoryValue,deviceType:this.deviceType},rowName:"data",text:"meterMode",value:"paramFlag",constant:""!==this.newDevice.paramFlag?{paramFlag:this.newDevice.paramFlag}:"",key:"newDevice.paramFlag"}}},{isEmpty:!1,isShow:!0,label:"总示数",dataValue1:{type:"input",options:{type:"normalInput",key:"oldDevice.readValue",width:o,length:10,placeHolder:"0-9999999.99之间任意数，允许两位小数",dataType:"+float",regular:"float7",errorMsg:"总示数：0-9999999.99之间任意数，允许两位小数",color:"#D38642"}},dataValue2:{type:"input",options:{type:"normalInput",width:o,value:"0.00",key:"newDevice.readValue",placeHolder:"0-9999999.99之间任意数，允许两位小数",dataType:"+float",regular:"float7",length:10,errorMsg:"总示数： 0-9999999.99之间任意数，允许两位小数",color:"#D38642"}},dataValue3:this.oldDevice.lastReadValue.toString()},{isEmpty:!1,isShow:"07"==this.deviceType&&!(1==parseInt(this.oldDevice.commFactorCnt)&&1==parseInt(this.newDevice.commFactorCnt)),label:"尖示数",dataValue1:{type:"input",unshow:1==parseInt(this.oldDevice.commFactorCnt),options:{type:"normalInput",key:"oldDevice.readValue1",width:o,placeHolder:"0-9999999.99之间任意数，允许两位小数",length:10,dataType:"+float",regular:"float7",errorMsg:"尖示数： 0-9999999.99之间任意数，允许两位小数",color:"#D38642"}},dataValue2:{type:"input",unshow:1==parseInt(this.newDevice.commFactorCnt),options:{type:"normalInput",width:o,key:"newDevice.readValue1",placeHolder:"0-9999999.99之间任意数，允许两位小数",length:10,dataType:"+float",regular:"float7",errorMsg:"尖示数： 0-9999999.99之间任意数，允许两位小数",color:"#D38642"}},dataValue3:this.oldDevice.lastReadValue1.toString()},{isEmpty:!1,isShow:"07"==this.deviceType&&!(1==parseInt(this.oldDevice.commFactorCnt)&&1==parseInt(this.newDevice.commFactorCnt)),label:"峰示数",dataValue1:{type:"input",unshow:1==parseInt(this.oldDevice.commFactorCnt),options:{type:"normalInput",key:"oldDevice.readValue2",width:o,placeHolder:"0-9999999.99之间任意数，允许两位小数",length:10,dataType:"+float",regular:"float7",errorMsg:"峰示数： 0-9999999.99之间任意数，允许两位小数",color:"#D38642"}},dataValue2:{type:"input",unshow:1==parseInt(this.newDevice.commFactorCnt),options:{type:"normalInput",width:o,key:"newDevice.readValue2",placeHolder:"0-9999999.99之间任意数，允许两位小数",length:10,dataType:"+float",regular:"float7",errorMsg:"峰示数： 0-9999999.99之间任意数，允许两位小数",color:"#D38642"}},dataValue3:this.oldDevice.lastReadValue2.toString()},{isEmpty:!1,isShow:"07"==this.deviceType&&!(1==parseInt(this.oldDevice.commFactorCnt)&&1==parseInt(this.newDevice.commFactorCnt)),label:"平示数",dataValue1:{type:"input",unshow:1==parseInt(this.oldDevice.commFactorCnt),options:{type:"normalInput",key:"oldDevice.readValue3",width:o,placeHolder:"0-9999999.99之间任意数，允许两位小数",length:10,dataType:"+float",regular:"float7",errorMsg:"平示数： 0-9999999.99之间任意数，允许两位小数",color:"#D38642"}},dataValue2:{type:"input",unshow:1==parseInt(this.newDevice.commFactorCnt),options:{type:"normalInput",width:o,key:"newDevice.readValue3",placeHolder:"0-9999999.99之间任意数，允许两位小数",length:10,dataType:"+float",regular:"float7",errorMsg:"平示数： 0-9999999.99之间任意数，允许两位小数",color:"#D38642"}},dataValue3:this.oldDevice.lastReadValue3.toString()},{isEmpty:!1,isShow:"07"==this.deviceType&&!(1==parseInt(this.oldDevice.commFactorCnt)&&1==parseInt(this.newDevice.commFactorCnt)),label:"谷示数",dataValue1:{type:"input",unshow:1==parseInt(this.oldDevice.commFactorCnt),options:{type:"normalInput",key:"oldDevice.readValue4",width:o,placeHolder:"0-9999999.99之间任意数，允许两位小数",length:10,dataType:"+float",regular:"float7",errorMsg:"谷示数： 0-9999999.99之间任意数，允许两位小数",color:"#D38642"}},dataValue2:{type:"input",unshow:1==parseInt(this.newDevice.commFactorCnt),options:{type:"normalInput",width:o,key:"newDevice.readValue4",placeHolder:"0-9999999.99之间任意数，允许两位小数",length:10,dataType:"+float",regular:"float7",errorMsg:"谷示数： 0-9999999.99之间任意数，允许两位小数",color:"#D38642"}},dataValue3:this.oldDevice.lastReadValue4.toString()},{isEmpty:!1,label:"剩余金额",isShow:!1,dataValue1:{type:"input",options:{type:"normalInput",width:o,key:"oldDevice.remainAmount",dataType:"float",placeHolder:"-999999.99-999999.99之间，允许两位小数",length:14,value:this.oldDevice.remainAmount,regular:"-float",errorMsg:"旧表剩余金额：-999999.99-999999.99之间，允许两位小数",color:"#D38642"}},dataValue2:{type:"input",options:{type:"normalInput",key:"newDevice.remainAmount",dataType:"float",width:o,placeHolder:"剩余金额：0-1000之内",length:7,regular:"recharge",errorMsg:"新表剩余金额：0-1000之内",limit:"float",color:"#D38642"}}}]},changeRemark:function(){return{isEmpty:!1,type:"textArea",placeHolder:"50个字符内",length:50,width:"calc(100% - 8em)",key:"changeDevice.changeRemark"}}},methods:{cstTabClick:function(e){this.cstTabIndex=e},getSelectPhone:function(e,t){this.wxBinds[t].isSel=!this.wxBinds[t].isSel},cstPhoneDel:function(e){this.submitDelWx([e.id])},delWxBind:function(){for(var e=this,t=[],o=0;o<this.wxBinds.length;o++){var a=this.wxBinds[o];a.isSel&&t.push(a.id)}t.length>0?e.submitDelWx(t):e.alerts.show({msg:"请选择需要解绑的手机号码!"})},submitDelWx:function(e){var t=this;t.$refs.confirms.show({msg:"确定解绑微信？",action:{confirm:function(){t.getRequest({url:"appPay/unbindWeChat",param:{ids:e.join()},method:"post",success:function(e){1==e.code&&t.seachWxBind(),t.alerts.show({msg:e.message})},error:function(e){t.alerts.show({msg:e.message})}},!0)}}})},seachWxBind:function(){var e=this;e.getRequest({url:"/customerInfo/selWXBind",param:{customerNo:this.customerInfo.customerNo,cno:""},method:"post",success:function(t){if(e.wxBinds=[],t.data&&t.data.length>0)for(var o=t.data,a=o.length,i=0;i<a;i++)e.wxBinds.push(o[i]),e.wxBinds[i].isSel=!1},error:function(t){e.alerts.show({msg:t.message})}},!0)},getValues:function(e){return""!==e&&void 0!==e&&null!==e?e.toString().replace(/<\/?.+?>/g,"").replace(/ /g,""):"--"},btnEvent:function(e,t){this[e](t)},getJZQInfo:function(e){var t=this;t.getWebsocket({keyMsg:"jzqReadCustomerInfo",keyStatus:"jzqReadCustomerInfoStatus",paramStatus:{guid:e,dataFlag:"jzqReadCustomerInfoStatus"},funMsg:function(e){t.resetDialogData(e)}})},resetDialogData:function(e){var t=this;t.loadings.close(),t.getItemConfig(e.data,"value2"),t.showCompare=!0,setTimeout(function(){t.$refs.showDevieConfig.show({hasClose:!0,action:{cancel:function(){t.showCompare=!1}}})},0)},getConfig:function(e){var t=this,o=(new a.a).newGUID();t.loadings.show({msg:"正在读取数据，请稍后。。。",hasClose:!0,action:{cancel:function(){t.loadings.close(),t.$store.state.callback.jzqReadCustomerInfoStatus=null,t.$store.state.callback.jzqReadCustomer=null,clearInterval(t.$store.state.setRecall)}}}),t.currentConfigDevice=e,t.getItemConfig(e,"value1"),t.getRequest({url:"customerInfo/jzqReadCustomerInfo",param:{cno:e.cno,jzqNo:e.jzqNo,commSetupSn:e.commSetupSn,guid:o},method:"post",success:function(e){t.getJZQInfo(o)},error:function(e){t.loadings.close(),t.alerts.show({msg:e.message})}},!0)},getItemConfig:function(e,t){for(var o=this,a=o.deviceConfigRowData.length,i=0;i<a;i++){var r=o.deviceConfigRowData[i],s=e[r.key];"commPort"==r.key&&"value1"==t?s=this.getEnumItem("commPort",e[r.key]).text:"commRule"==r.key&&"value1"==t?s=30==s?"DL/T645-2007":"DL/T645-1997":"ratio"==r.key&&"value2"==t?s=e.feeRateNum:"ratio"==r.key&&"value1"==t&&(s=4),o.$set(o.deviceConfigRowData[i],t,s)}},setImportant:function(e){var t=this;t.getRequest({url:"importantCustomer/setImportant",method:"post",param:{cno:e.cno,isImportant:1==e.isImportant?0:1},success:function(e){t.alerts.show({msg:e.message}),t.getStaffInfo()},error:function(e){t.alerts.show({msg:e.message})}},!0)},getDeviceAccountInfo:function(e){return[{name:"计费类型",value:e.accountInfo.dictItemName},{name:"预留金额",value:e.accountInfo.initAmount},{name:"缴费金额",value:e.accountInfo.payment},{name:"充值金额",value:e.accountInfo.payMoney},{name:"购电次数",value:e.accountInfo.payCount},{name:"告警金额1",value:e.accountInfo.alertFee1},{name:"告警金额2",value:e.accountInfo.alertFee2},{name:"剩余金额",value:e.accountInfo.remainAmount},{name:"透支金额",value:e.accountInfo.overdraftFee},{name:"电流互感器变比",value:e.accountInfo.curTranfRto},{name:"囤积金额限",value:e.accountInfo.cornerFee},{name:"电压互感器变比",value:e.accountInfo.volTranfRto}]},issueDevice:function(e){this.$parent.getData((new a.a).newGUID(),[e.cno],!0)},getDeviceDetail:function(e){var t=[],o=1===e.sendFlag?"已下发":'<span style="color: #EC3935">未下发</span>';switch(this.deviceType){case"07":t=[{name:"电表表号",value:e.deviceNo},{name:"计费类型",value:e.dictItemName},{name:"下发状态",show:"html",value:o},{name:"表计户号",value:e.meterUserNo},{name:"集中器号",unShow:32==e.commPort,value:e.jzqNo},{unShow:1==e.commPort,name:"采集器号",value:e.cjqNo+"("+(1===e.collectDevType?"节点":"采集器")+")"},{name:"采集方式",value:this.getEnumItem("commPort",e.commPort).text},{name:"费控方式",value:this.getEnumItem("localControl",e.localControl).text},{name:"电表规约",value:this.getEnumItem("commRule",e.commRule+"-"+e.meterType).text},{name:"用电类别",value:e.elecTypeName},{name:"计量类型",value:e.elecMeterCategoryName},{name:"电流互感变比",value:e.ratio},{name:"测量点号",value:e.commPointCode},{name:"波特率",value:e.commBaudrate},{name:"上级总表",unShow:""==e.parentDeviceNo||void 0===e.parentDeviceNo||null==e.parentDeviceNo,value:e.parentDeviceNo}];break;case"08":t=[{name:"水表表号",value:e.deviceNo},{name:"计费类型",value:e.dictItemName},{name:"下发状态",value:o},{name:"表计户号",value:e.meterUserNo},{name:"集中器号",value:e.jzqNo},{name:"采集器号",value:e.cjqNo+"("+(1===e.collectDevType?"节点":"转换器")+")"},{name:"采集方式",value:this.getEnumItem("commPorts",e.commPort).text},{name:"水表规约",value:this.getEnumItem("commRules",e.commRule).text}];break;case"09":t=[{name:"气表表号",value:e.deviceNo},{name:"计费类型",value:e.dictItemName},{name:"下发状态",value:o},{name:"表计户号",value:e.meterUserNo},{name:"集中器号",value:e.jzqNo},{name:"采集器号",value:e.cjqNo+"("+(1===e.collectDevType?"节点":"转换器")+")"},{name:"采集方式",value:this.getEnumItem("commPorts",e.commPort).text},{name:"气表规约",value:this.getEnumItem("commRules",e.commRule).text}]}return t.push({name:"重点用户",value:0==e.isImportant?"否":"是",event:"setImportant"}),t.push({name:"生产厂家",value:e.deviceFactoryName}),t.push({name:"设备型号",value:e.meterModeName}),t.push({name:"楼栋编号",value:e.buildingNo}),t.push({name:"变压器号",value:e.transformerNo}),t.push({name:"安装位置",value:e.installAddr}),t.push({name:"备注信息",value:e.remark}),t},removeRelative:function(e){var t=this;t.getRequest({url:"customerInfo/weChatUnBind",method:"post",param:{cno:e.cno},success:function(e){t.alerts.show({msg:e.message}),t.getStaffInfo()},error:function(e){t.alerts.show({msg:e.message})}},!0)},closeChangeInfo:function(){this.$refs.editUserInfo.close(),this.getStaffInfo(),this.showChangeInfo=!1},getFrom:function(e){"newDevice.paramFlag"===e.key&&(this.newDevice.commFactorCnt=e.currentSelect.commFactorCnt),this.getOption(e,this)},getTab:function(e){this.tabIndex=this.$store.state.customerDeviceIndex=e,this.getDeviceInfo()},operateDevice:function(e,t,o){1===e&&(this.deviceInfo=o,this.deviceInfo.orgNo=this.customerInfo.orgNo);var a=this;a.showOperate=!0,setTimeout(function(){a.$refs.operateDevices.show(e,t)},0)},copyNewDeviceType:function(e){this.submitData(e.device,e.type)},submitData:function(e,t){var o=this,a=e;a.customerNo=o.customerInfo.customerNo,a.orgNo=o.customerInfo.orgNo;var i="";if(0===t)switch(a.offScheme=o.customerInfo.offScheme,1==a.offScheme&&(a.offParam=o.customerInfo.offParam),e.deviceType){case"07":i="customerInfo/addSingleElectricDevice";break;case"08":i="customerInfo/addSingleWaterDevice";break;case"09":i="customerInfo/addSingleGasDevice"}else switch(e.deviceType){case"07":i="customerInfo/editElectricDevice";break;case"08":i="customerInfo/editWaterDevice";break;case"09":i="customerInfo/editGasDevice"}o.getRequest({url:i,method:"post",param:a,success:function(e){o.alerts.show({msg:e.message}),o.getStaffInfo()},error:function(e){o.alerts.show({msg:e.message})}})},deleteDevice:function(){var e=this;e.loadings.show({msg:"正在提交档案，请稍后..."});var t={deviceType:e.deviceType,deviceNo:e.deviceInfo.deviceNo,customerNo:e.customerInfo.customerNo};e.getRequest({url:"customerInfo/deleteSingleDevice",param:t,method:"post",success:function(t){e.loadings.close(),e.alerts.show({msg:t.message}),e.getStaffInfo()},error:function(t){e.loadings.close(),e.alerts.show({msg:t.message})}},!0)},changeDeviceInfo:function(e){this.deviceInfo=e;var t=this;t.showOperates=!0,t.getRequest({url:"changeMeter/queryOldReadValue",method:"post",param:{customerNo:t.customerInfo.customerNo,oldCno:t.deviceInfo.cno},success:function(e){var o=e.data;for(var a in o)t.oldDevice[a]=o[a];setTimeout(function(){t.$refs.changeDevice.show()},0)}},!0)},submitChange:function(){var e=[];this.changeDevice.customerNo=this.customerInfo.customerNo;var t="";switch(this.deviceType){case"07":this.newDevice.localControl=this.deviceInfo.localControl,e=["newDevice.deviceNo","newDevice.readValue","oldDevice.readValue","changeDevice.changeRemark"],t="changeMeter/changeElectricMeter",parseInt(this.newDevice.commFactorCnt)>1&&(e.push("newDevice.readValue1"),e.push("newDevice.readValue2"),e.push("newDevice.readValue3"),e.push("newDevice.readValue4")),parseInt(this.oldDevice.commFactorCnt)>1&&(e.push("oldDevice.readValue1"),e.push("oldDevice.readValue2"),e.push("oldDevice.readValue3"),e.push("oldDevice.readValue4"));break;case"08":t="changeMeter/changeWaterMeter",e=["newDevice.deviceNo","newDevice.readValue","oldDevice.readValue","changeDevice.changeRemark"];break;case"09":t="changeMeter/changeGasMeter",e=["newDevice.deviceNo","newDevice.readValue","oldDevice.readValue","changeDevice.changeRemark"]}this.newDevice.remainAmount=this.oldDevice.remainAmount="0";var o=this;o.regularTest({emptyKey:e,callback:function(){switch(o.newDevice=o.getSearchData(o.newDevice),o.oldDevice=o.getSearchData(o.oldDevice),o.deviceType){case"07":o.changeDevice.newElectricMeter=o.newDevice,o.changeDevice.oldElectricMeter=o.oldDevice;break;case"08":o.changeDevice.newWaterMeter=o.newDevice,o.changeDevice.oldWaterMeter=o.oldDevice;break;case"09":o.changeDevice.newGasMeter=o.newDevice,o.changeDevice.oldGasMeter=o.oldDevice}o.newDevice.deviceNo===o.deviceInfo.deviceNo?o.alerts.show({msg:"旧表号与新表号相同，不能进行换表操作！"}):void 0===o.newDevice.paramFlag||""===o.newDevice.paramFlag?o.$refs.alerts.show({msg:"设备型号不能为空！"}):o.judegeReadValue(o.newDevice,t,!1)&&o.judegeReadValue(o.oldDevice,t,!0)&&o.changeSubmit(t)}})},changeSubmit:function(e){var t=this;t.loadings.show({msg:"正在进行换表，请稍后。。。"}),t.getRequest({url:e,param:t.changeDevice,method:"post",success:function(e){t.loadings.close(),t.alerts.show({msg:e.message}),t.changeDevice={changeRemark:""},t.getStaffInfo(),t.closeDialog()},error:function(e){t.loadings.close(),t.alerts.show({msg:e.message})}})},juegeEveryData:function(e,t,o,a){return!(parseFloat(this.oldDevice[t].toString())>parseFloat(e[o].toString()))||(this.alerts.show({msg:a+"的值应大于上一次抄表示数"+this.oldDevice[t].toString()}),!1)},judegeReadValue:function(e,t,o){var a=!0;if(o&&(1==parseInt(e.commFactorCnt)?a=this.juegeEveryData(e,"lastReadValue","readValue","总示数"):parseInt(e.commFactorCnt)>1&&"07"==this.deviceType&&(a=this.juegeEveryData(e,"lastReadValue","readValue","总示数")&&this.juegeEveryData(e,"lastReadValue1","readValue1","尖示数")&&this.juegeEveryData(e,"lastReadValue2","readValue2","峰示数")&&this.juegeEveryData(e,"lastReadValue3","readValue3","平示数")&&this.juegeEveryData(e,"lastReadValue4","readValue4","谷示数"))),!a)return!1;if(!(parseInt(e.commFactorCnt)>1&&"07"==this.deviceType))return!0;var i=this,r=parseFloat(e.readValue.toString()),s=parseFloat(e.readValue1.toString()),n=parseFloat(e.readValue2.toString()),l=parseFloat(e.readValue3.toString()),c=parseFloat(e.readValue4.toString()),d=Math.abs(r-(s+n+l+c)).toFixed(4);return 0==d||(d<=.02&&d>0?void i.$refs.confirms.show({msg:"尖峰平谷之和与总示数之间存在 "+d+" 的偏差，确定保存吗？",action:{confirm:function(){return i.changeSubmit(t),!0}}}):(i.alerts.show({msg:"尖峰平谷之和与总示数之间偏差不能大于0.02！"}),!1))},getAccountInfo:function(e){this.getStaffInfo()},resetComponent:function(){var e=this;e.show=!1,e.$emit("closeDiv",!0),setTimeout(function(){e.show=!1},0)},deleteUser:function(){var e=this;e.confirms.show({msg:"您确定要删除该用户吗？",action:{confirm:function(){e.getRequest({url:"customerInfo/batchDelete",method:"post",param:[e.customerInfo.customerNo],success:function(t){e.alerts.show({msg:t.message}),setTimeout(function(){e.resetComponent()},500)},error:function(t){e.alerts.show({msg:t.message})}})}}},!0)},disabledUser:function(){var e=this;e.confirms.show({msg:"您确定要对当前用户执行销户操作，销户后不能对该用户充值缴费？",action:{confirm:function(){e.getRequest({url:"icCard/closeAccount",method:"post",param:{customerNo:e.customerInfo.customerNo},success:function(t){e.alerts.show({msg:t.message}),e.resetComponent()},error:function(t){e.alerts.show({msg:t.message})}},!0)}}})},removeDeviceInfo:function(e){for(var t=this.tabs[this.tabIndex].name,o=0,a=0;a<this.tabs.length;a++)o+=this.tabs[a].num;if(o>1){var i=this;this.confirms.show({msg:"确定要删除该"+t,action:{confirm:function(){i.deviceInfo=e,i.deleteDevice()}}})}else this.alerts.show({msg:"一个用户至少拥有一台设备，若想删除"+t+"，请删除该用户"})},openAccount:function(e){this.deviceInfo=e,this.$refs.openCards.show({customerNo:this.customerInfo.customerNo,cno:this.deviceInfo.cno},0)},closeDialog:function(){this.showOperates=!1,this.newDevice.deviceFactoryValue="",this.newDevice.paramFlag="",this.$refs.changeDevice.close()},eidtCstContact:function(e,t){void 0===e||""===e?this.alerts.show({msg:"请至少添加一个手机号"}):this.customerInfo.customerContact==e?t():(this.customerInfo.customerContact=e,this.submitSaveEdit(t))},saveEdit:function(){var e=this;e.regularTest({emptyKey:["customerName","customerContact","customerAddr","propertyName","initAmount","alarmThreshold","alarmThreshold1","alarmThreshold2"],prefix:"customerInfo",callback:function(){parseFloat(e.customerInfo.alarmThreshold2)>parseFloat(e.customerInfo.alarmThreshold1)||parseFloat(e.customerInfo.alarmThreshold1)>parseFloat(e.customerInfo.alarmThreshold)||parseFloat(e.customerInfo.alarmThreshold2)>parseFloat(e.customerInfo.alarmThreshold)?e.alerts.show({msg:"告警阀值之间的大小关系应为（告警阀值1 >= 告警阀值2 >= 告警阀值3）"}):e.submitSaveEdit()}})},submitSaveEdit:function(e){var t=this;t.loadings.show({msg:"正在提交资料,请稍后.."}),t.getRequest({url:"customerInfo/edit",param:t.customerInfo,method:"post",success:function(o){t.loadings.close(),t.customerInfoEdit=!1,(o.code=void 0!==e)?e():(t.alerts.show({msg:o.message}),t.closeChangeInfo())},error:function(e){t.loadings.close(),t.customerInfoEdit=!1,t.alerts.show({msg:e.message}),t.closeChangeInfo()}})},editUserInfo:function(){var e=this;e.showChangeInfo=!0,e.$nextTick(function(){e.$refs.editUserInfo.show()})},editUserPhone:function(){var e=this;e.showCstPhone=!0,e.$nextTick(function(){e.$refs.editCstPhones.show()})},getDeviceInfo:function(e){var t=this.deviceRecords[this.deviceType];""===t?(this.noData=!0,this.noCardShow=!0):(this.noData=!1,0!==t.isAccount?null===t.accountInfo?this.noCardShow=!0:(this.noCardShow=!1,this.cardInfo=t.accountInfo):e&&0===t.isAccount?(this.noCardShow=!1,this.cardInfo=t.accountInfo=this.deviceRecords[this.deviceType].accountInfo=e):(this.noCardShow=!0,this.cardInfo=this.cleanSearchData(this.cardInfo)),this.deviceInfo=t)},getStaffInfo:function(e){var t=this;this.getRequest({url:"customerInfo/queryDetails",method:"post",param:{customerNo:t.selected.customerNo},success:function(e){var o=e.data,a=o.customerInfo;t.customerInfo={};for(var i in a)t.$set(t.customerInfo,i,a[i]);t.customerInfo.createTime=t.customerInfo.createTime?t.customerInfo.createTime.substr(0,19):"--",o.electricMeter?(t.deviceRecords["07"]=o.electricMeter,t.tabs[0].num=o.electricMeter.length):(t.deviceRecords["07"]=[],t.tabs[0].num=0),o.waterMeter?(t.deviceRecords["08"]=o.waterMeter,t.tabs[1].num=o.waterMeter.length):(t.deviceRecords["08"]=[],t.tabs[1].num=0),o.gasMeter?(t.deviceRecords["09"]=o.gasMeter,t.tabs[2].num=o.gasMeter.length):(t.deviceRecords["09"]=[],t.tabs[2].num=0),t.getTab(t.$store.state.customerDeviceIndex),t.seachWxBind()},error:function(e){t.alerts.show({msg:e.message})}},!0)},init:function(){this.selected=this.row,this.getStaffInfo()}},mounted:function(){this.isIn(),this.init(),this.$store.state.customerDeviceIndex=0},watch:{}}},643:function(e,t,o){"use strict";function a(e){o(749)}var i=o(644),r=o(751),s=o(31),n=a,l=s(i.a,r.a,!1,n,null,null);t.a=l.exports},644:function(e,t,o){"use strict";function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}t.a={data:function(){return{showDialog:!0,currentDevice:{localControl:2,commPort:32,jzqNo:"999999999",deviceType:"07",deviceFactoryValue:"",ratio:1,collectDevType:1,readValue:0,commFactorCnt:"",elecType:"",elecMeterCategory:""},showFrom:!0,operate:0,sign1:!0,jzqType:"disabledInput",sign:!0}},props:{deviceList:{default:function(){return[]}},deviceType:{type:String,required:!0,default:"07"},deviceInfo:{default:function(){return null}}},created:function(){null!==this.deviceInfo&&this.copyDevice()},computed:{formList:function(){var e,t,o="calc(100% - 7em)",i="calc(100% - 15.6em)";return{"07":[{classes:"halfWidth",label:"电表表号",isEmpty:!1,show:!0,type:"input",option:{width:o,type:this.sign?"normalInput":"disabledInput",value:this.currentDevice.deviceNo||"",key:"currentDevice.deviceNo",regular:"deviceNo",placeHolder:"1-12位数字",length:12,errorMsg:"1-12位数字",limit:"number"}},{classes:"halfWidth hasMarginLi",type:"input",isEmpty:!1,show:!0,label:"表计户号",option:(e={type:"normalInput"},a(e,"type",this.sign?"normalInput":"disabledInput"),a(e,"value",this.currentDevice.meterUserNo||""),a(e,"length",12),a(e,"placeHolder","1-12位数字"),a(e,"width",o),a(e,"limit","number"),a(e,"errorMsg","1-12位数字"),a(e,"key","currentDevice.meterUserNo"),e)},{classes:"halfWidth",type:"select",isEmpty:!0,show:!0,label:"生产厂家",option:{width:o,cs:"server",method:"post",url:"dictItem/queryByDictCode",param:{dictCode:"14"},rowName:"data",text:"dictItemName",value:"dictItemValue",constant:this.currentDevice.deviceFactoryValue?{dictItemValue:this.currentDevice.deviceFactoryValue}:"",key:"currentDevice.deviceFactoryValue"}},{classes:"halfWidth hasMarginLi",type:"select",show:void 0!==this.currentDevice.deviceFactoryValue&&""!==this.currentDevice.deviceFactoryValue,isEmpty:!0,label:"设备型号",option:{width:o,cs:"server",method:"post",url:"meterConfig/queryByFactory",param:{meterFactory:this.currentDevice.deviceFactoryValue,deviceType:this.deviceType},rowName:"data",text:"meterMode",value:"paramFlag",constant:this.currentDevice.paramFlag?{paramFlag:this.currentDevice.paramFlag}:"",key:"currentDevice.paramFlag"}},{classes:"halfWidth ",type:"select",isEmpty:!1,show:!0,label:"采集方式",option:{cs:"client",width:o,data:this.getEnumItem("commPort").obj,constant:{val:this.currentDevice.commPort||32},value:"val",key:"currentDevice.commPort"}},{classes:"halfWidth hasMarginLi",type:"select",show:!0,isEmpty:!1,label:"计费方式",option:{width:o,cs:"server",method:"post",url:"dictItem/queryByDictCode",param:{dictCode:"1"},rowName:"data",text:"dictItemName",value:"dictItemValue",constant:this.currentDevice.dictItemValue?{dictItemValue:this.currentDevice.dictItemValue}:"",key:"currentDevice.dictItemValue"}},{classes:"halfWidth ",type:"select",show:!0,isEmpty:!1,label:"费控方式",option:{cs:"client",width:o,value:"val",data:this.getEnumItem("localControl").obj,constant:{val:this.currentDevice.localControl},key:"currentDevice.localControl"}},{classes:"halfWidth hasMarginLi",type:"input",isEmpty:!1,show:!0,label:"电流变比",option:{type:"normalInput",dataType:"int",value:this.currentDevice.ratio,length:10,placeHolder:"大于0的整数",width:o,key:"currentDevice.ratio",regular:"ratio",errorMsg:"电流变比-10位数字",limit:"number"}},{classes:"halfWidth ",type:"input",show:!(32==this.currentDevice.commPort),isEmpty:32==this.currentDevice.commPort,label:"集中器号",option:{type:32==this.currentDevice.commPort?this.jzqType:"normalInput",width:o,key:"currentDevice.jzqNo",value:32==this.currentDevice.commPort?"999999999":"999999999"===this.currentDevice.jzqNo?"":this.currentDevice.jzqNo,regular:"zdNo",length:9,placeHolder:"9位数字，如 000100001",errorMsg:"集中器号：9位数字，取值规则：前4位[0001-9999]，后5位[00001-65535]",limit:"number"}},{classes:32!=this.currentDevice.commPort?"halfWidth hasMarginLi":"halfWidth ",type:"input",isEmpty:!0,label:"楼栋编号",show:!0,option:{width:o,type:"normalInput",value:this.currentDevice.buildingNo||"",length:50,placeHolder:"50个字符内",key:"currentDevice.buildingNo"}},{classes:32!=this.currentDevice.commPort?"halfWidth ":"halfWidth hasMarginLi",type:"select",show:!0,isEmpty:!0,label:"重点用户",option:{width:o,cs:"client",data:[{text:"否",value:0},{text:"是",value:1}],constant:this.currentDevice.isImportant?{value:this.currentDevice.isImportant}:"",key:"currentDevice.isImportant"}},{classes:32==this.currentDevice.commPort?"halfWidth  ":"halfWidth hasMarginLi",type:"input",show:!0,isEmpty:!0,label:"变压器号",option:{type:"normalInput",width:o,placeHolder:"20个字符内",key:"currentDevice.transformerNo",value:this.currentDevice.transformerNo||"",length:20}},{label:"用电类别",classes:32==this.currentDevice.commPort?"  halfWidth hasMarginLi":"halfWidth ",type:"select",show:!0,isEmpty:!1,option:{width:o,cs:"server",method:"post",url:"dictItem/queryByDictCode",param:{dictCode:"19"},text:"dictItemName",value:"dictItemValue",constant:""!=this.currentDevice.elecType?{dictItemValue:this.currentDevice.elecType}:"",key:"currentDevice.elecType"}},{label:"计量类型",classes:32==this.currentDevice.commPort?"  halfWidth ":"halfWidth hasMarginLi",type:"select",show:!0,isEmpty:!1,option:{width:o,cs:"server",method:"post",url:"dictItem/queryByDictCode",param:{dictCode:"20"},text:"dictItemName",value:"dictItemValue",constant:""!=this.currentDevice.elecMeterCategory?{dictItemValue:this.currentDevice.elecMeterCategory}:"",key:"currentDevice.elecMeterCategory"}},{classes:32==this.currentDevice.commPort?"  halfWidth hasMarginLi":"allWidth",type:"input",show:!0,isEmpty:2!=this.currentDevice.elecMeterCategory||!0,label:"上级总表",option:{width:o,type:"normalInput",value:this.currentDevice.parentDeviceNo||"",key:"currentDevice.parentDeviceNo",regular:"deviceNo",placeHolder:"1-12位数字",length:12,errorMsg:"1-12位数字",limit:"number"}},{classes:"allWidth",type:"complexInput",label:"采集器号",isEmpty:32!=this.currentDevice.commPort,show:31==this.currentDevice.commPort||32==this.currentDevice.commPort,option:[{width:"8.1em",cs:"server",method:"post",param:{deviceType:this.deviceType,commPort:this.currentDevice.commPort},rowName:"data",url:"dictItem/queryCollectDevType",text:"dictItemName",value:"dictItemValue",constant:this.currentDevice.collectDevType?{dictItemValue:this.currentDevice.collectDevType}:"",key:"currentDevice.collectDevType"},{type:"normalInput",key:"currentDevice.cjqNo",value:this.currentDevice.cjqNo,width:i,regular:"otherDeviceNo",placeHolder:31!=this.currentDevice.commPort?"1-16位数字和字母（a-f、A-F）组合":"1-12位数字字母（a-f、A-F）组合",length:31!=this.currentDevice.commPort?16:12,errorMsg:31!=this.currentDevice.commPort?"采集器： 1-16位数字和字母（a-f、A-F）组合":"采集器：1-12位数字字母（a-f、A-F）组合",limit:"moteEUI"}]}],"08":[{classes:"allWidth",label:"水表表号",type:"complexInput",isEmpty:!1,show:this.sign,option:[{cs:"server",width:"8.1em",url:"dictItem/queryByDictCode",method:"post",param:{dictCode:2},text:"dictItemName",value:"dictItemValue",constant:this.currentDevice.waterType?{dictItemValue:this.currentDevice.waterType}:"",key:"currentDevice.waterType",rowName:"data"},{width:this.sign?i:o,type:this.sign?"normalInput":"disabledInput",value:this.currentDevice.deviceNo||"",key:"currentDevice.deviceNo",regular:"deviceNo",placeHolder:"1-14位数字",length:14,errorMsg:"水表表号：1-14位数字",limit:"number"}]},{classes:"halfWidth",label:"水表表号",isEmpty:!1,show:!this.sign,type:"input",option:{width:o,type:"disabledInput",value:this.currentDevice.deviceNo||"",key:"currentDevice.deviceNo",regular:"deviceNo",placeHolder:"1-16位数字",length:16,errorMsg:"水表表号：1-16位数字",limit:"number"}},{classes:this.sign?"halfWidth":"halfWidth hasMarginLi",type:"input",isEmpty:!1,show:!0,label:"表计户号",option:(t={type:"normalInput"},a(t,"type",this.sign?"normalInput":"disabledInput"),a(t,"value",this.currentDevice.meterUserNo||""),a(t,"length",12),a(t,"placeHolder","1-12位数字"),a(t,"width",o),a(t,"limit","number"),a(t,"errorMsg","1-12位数字"),a(t,"key","currentDevice.meterUserNo"),t)},{classes:this.sign?"halfWidth hasMarginLi":"halfWidth",type:"select",isEmpty:!0,show:!0,label:"生产厂家",option:{width:o,cs:"server",method:"post",url:"dictItem/queryByDictCode",param:{dictCode:"14"},rowName:"data",text:"dictItemName",value:"dictItemValue",constant:this.currentDevice.deviceFactoryValue?{dictItemValue:this.currentDevice.deviceFactoryValue}:"",key:"currentDevice.deviceFactoryValue"}},{classes:this.sign?"halfWidth ":"halfWidth hasMarginLi",type:"select",show:void 0!==this.currentDevice.deviceFactoryValue&&""!==this.currentDevice.deviceFactoryValue,isEmpty:!0,label:"设备型号",option:{width:o,cs:"server",method:"post",url:"meterConfig/queryByFactory",param:{meterFactory:this.currentDevice.deviceFactoryValue,deviceType:this.deviceType},rowName:"data",text:"meterMode",value:"paramFlag",constant:this.currentDevice.paramFlag?{paramFlag:this.currentDevice.paramFlag}:"",key:"currentDevice.paramFlag"}},{classes:this.sign?"halfWidth hasMarginLi":"halfWidth",type:"select",isEmpty:!1,show:!0,label:"采集方式",option:{cs:"client",width:o,data:this.getEnumItem("commPorts").obj,constant:this.currentDevice.commPort?{val:this.currentDevice.commPort}:{val:32},value:"val",key:"currentDevice.commPort"}},{classes:this.sign?"halfWidth ":"halfWidth hasMarginLi",type:"select",show:!0,isEmpty:!1,label:"计费方式",option:{width:o,cs:"server",method:"post",url:"dictItem/queryByDictCode",param:{dictCode:"10"},rowName:"data",text:"dictItemName",value:"dictItemValue",constant:this.currentDevice.dictItemValue?{dictItemValue:this.currentDevice.dictItemValue}:"",key:"currentDevice.dictItemValue"}},{classes:this.sign?"halfWidth hasMarginLi":"halfWidth ",type:"input",isEmpty:!0,label:"楼栋编号",show:!0,option:{width:o,type:"normalInput",value:this.currentDevice.buildingNo||"",length:50,placeHolder:"50个字符内",key:"currentDevice.buildingNo"}},{classes:this.sign?"halfWidth ":"halfWidth hasMarginLi",type:"select",show:!0,isEmpty:!0,label:"重点用户",option:{width:o,cs:"client",data:[{text:"否",value:0},{text:"是",value:1}],constant:this.currentDevice.isImportant?{value:this.currentDevice.isImportant}:"",key:"currentDevice.isImportant"}},{classes:this.sign?"halfWidth hasMarginLi":"halfWidth ",type:"input",show:!0,isEmpty:!0,label:"变压器号",option:{type:"normalInput",width:o,placeHolder:"20个字符内",key:"currentDevice.transformerNo",value:this.currentDevice.transformerNo||"",length:20}},{classes:"allWidth",type:"input",show:!(32==this.currentDevice.commPort),isEmpty:32==this.currentDevice.commPort,label:"集中器号",option:{type:32==this.currentDevice.commPort?this.jzqType:"normalInput",width:o,key:"currentDevice.jzqNo",value:32==this.currentDevice.commPort?"999999999":"999999999"===this.currentDevice.jzqNo?"":this.currentDevice.jzqNo,regular:"zdNo",length:9,placeHolder:"9位数字，如 000100001",errorMsg:"集中器号：9位数字，取值规则：前4位[0001-9999]，后5位[00001-65535]",limit:"number"}},{classes:"allWidth",type:"complexInput",label:"采集器号",isEmpty:31==this.currentDevice.commPort,show:!0,option:[{width:"8.1em",cs:"server",method:"post",param:{deviceType:this.deviceType,commPort:this.currentDevice.commPort},rowName:"data",url:"dictItem/queryCollectDevType",text:"dictItemName",value:"dictItemValue",constant:this.currentDevice.collectDevType?{dictItemValue:this.currentDevice.collectDevType}:"",key:"currentDevice.collectDevType"},{type:"normalInput",key:"currentDevice.cjqNo",value:this.currentDevice.cjqNo,width:i,regular:2==this.currentDevice.collectDevType&&32==this.currentDevice.commPort?"cjqDeviceNo":"otherDeviceNo",placeHolder:2==this.currentDevice.collectDevType?32==this.currentDevice.commPort?"13-16位数字和字母组合":"1-12位数字和字母组合":"1-16位数字字母组合",length:32==this.currentDevice.commPort?16:12,errorMsg:2==this.currentDevice.collectDevType?32==this.currentDevice.commPort?"转换器：13-16位数字和字母组合":"转换器：1-12位数字和字母组合":"节点：1-16位数字字母组合",limit:"moteEUI"}]}],"09":[{classes:"allWidth",label:"气表表号",type:"complexInput",isEmpty:!1,show:this.sign,option:[{cs:"server",width:"8.1em",url:"dictItem/queryByDictCode",method:"post",param:{dictCode:3},text:"dictItemName",value:"dictItemValue",constant:this.currentDevice.gasType?{dictItemValue:this.currentDevice.gasType}:"",key:"currentDevice.gasType",rowName:"data"},{width:this.sign?i:o,type:this.sign?"normalInput":"disabledInput",value:this.currentDevice.deviceNo||"",key:"currentDevice.deviceNo",regular:"deviceNo",placeHolder:"1-14位数字",length:14,errorMsg:"水表表号：1-14位数字",limit:"number"}]},{classes:"halfWidth",label:"气表表号",show:!this.sign,isEmpty:!1,type:"input",option:{width:o,type:"disabledInput",value:this.currentDevice.deviceNo||"",key:"currentDevice.deviceNo",regular:"deviceNo",placeHolder:"1-16位数字",length:16,errorMsg:"气表表号：1-16位数字",limit:"number"}},{classes:this.sign?"halfWidth":"halfWidth hasMarginLi",type:"input",isEmpty:!1,show:!0,label:"表计户号",option:{type:this.sign?"normalInput":"disabledInput",value:this.currentDevice.meterUserNo||"",length:12,placeHolder:"1-12位数字",width:o,limit:"number",errorMsg:"1-12位数字",key:"currentDevice.meterUserNo"}},{classes:this.sign?"halfWidth hasMarginLi":"halfWidth",type:"select",isEmpty:!0,show:!0,label:"生产厂家",option:{width:o,cs:"server",method:"post",url:"dictItem/queryByDictCode",param:{dictCode:"14"},rowName:"data",text:"dictItemName",value:"dictItemValue",constant:this.currentDevice.deviceFactoryValue?{dictItemValue:this.currentDevice.deviceFactoryValue}:"",key:"currentDevice.deviceFactoryValue"}},{classes:this.sign?"halfWidth ":"halfWidth hasMarginLi",type:"select",show:void 0!==this.currentDevice.deviceFactoryValue&&""!==this.currentDevice.deviceFactoryValue,isEmpty:!0,label:"设备型号",option:{width:o,cs:"server",method:"post",url:"meterConfig/queryByFactory",param:{meterFactory:this.currentDevice.deviceFactoryValue,deviceType:this.deviceType},rowName:"data",text:"meterMode",value:"paramFlag",constant:this.currentDevice.paramFlag?{paramFlag:this.currentDevice.paramFlag}:"",key:"currentDevice.paramFlag"}},{classes:this.sign?"halfWidth hasMarginLi":"halfWidth",type:"select",isEmpty:!1,show:!0,label:"采集方式",option:{cs:"client",width:o,data:this.getEnumItem("commPorts").obj,constant:this.currentDevice.commPort?{val:this.currentDevice.commPort}:{val:32},value:"val",key:"currentDevice.commPort"}},{classes:this.sign?"halfWidth ":"halfWidth hasMarginLi",type:"select",show:!0,isEmpty:!1,label:"计费方式",option:{width:o,cs:"server",method:"post",url:"dictItem/queryByDictCode",param:{dictCode:"11"},rowName:"data",text:"dictItemName",value:"dictItemValue",constant:this.currentDevice.dictItemValue?{dictItemValue:this.currentDevice.dictItemValue}:"",key:"currentDevice.dictItemValue"}},{classes:this.sign?"halfWidth hasMarginLi":"halfWidth ",type:"input",isEmpty:!0,label:"楼栋编号",show:!0,option:{width:o,type:"normalInput",value:this.currentDevice.buildingNo||"",length:50,placeHolder:"50个字符内",key:"currentDevice.buildingNo"}},{classes:this.sign?"halfWidth ":"halfWidth hasMarginLi",type:"select",show:!0,isEmpty:!0,label:"重点用户",option:{width:o,cs:"client",data:[{text:"否",value:0},{text:"是",value:1}],constant:this.currentDevice.isImportant?{value:this.currentDevice.isImportant}:"",key:"currentDevice.isImportant"}},{classes:this.sign?"halfWidth hasMarginLi":"halfWidth ",type:"input",show:!0,isEmpty:!0,label:"变压器号",option:{type:"normalInput",width:o,placeHolder:"20个字符内",key:"currentDevice.transformerNo",value:this.currentDevice.transformerNo||"",length:20}},{classes:"allWidth",type:"input",show:!(32==this.currentDevice.commPort),isEmpty:32==this.currentDevice.commPort,label:"集中器号",option:{type:32==this.currentDevice.commPort?this.jzqType:"normalInput",width:o,key:"currentDevice.jzqNo",value:32==this.currentDevice.commPort?"999999999":"999999999"===this.currentDevice.jzqNo?"":this.currentDevice.jzqNo,regular:"zdNo",length:9,placeHolder:"9位数字，如 000100001",errorMsg:"集中器号：9位数字，取值规则：前4位[0001-9999]，后5位[00001-65535]",limit:"number"}},{classes:"allWidth",type:"complexInput",label:"采集器号",isEmpty:31==this.currentDevice.commPort,show:!0,option:[{width:"8.1em",cs:"server",method:"post",param:{deviceType:this.deviceType,commPort:this.currentDevice.commPort},rowName:"data",url:"dictItem/queryCollectDevType",text:"dictItemName",value:"dictItemValue",constant:this.currentDevice.collectDevType?{dictItemValue:this.currentDevice.collectDevType}:"",key:"currentDevice.collectDevType"},{type:"normalInput",key:"currentDevice.cjqNo",value:this.currentDevice.cjqNo,width:i,regular:2==this.currentDevice.collectDevType&&32==this.currentDevice.commPort?"cjqDeviceNo":"otherDeviceNo",placeHolder:2==this.currentDevice.collectDevType?32==this.currentDevice.commPort?"13-16位数字和字母组合":"1-12位数字和字母组合":"1-16位数字字母组合",length:32==this.currentDevice.commPort?16:12,errorMsg:2==this.currentDevice.collectDevType?32==this.currentDevice.commPort?"转换器：13-16位数字和字母组合":"转换器：1-12位数字和字母组合":"节点：1-16位数字字母组合",limit:"moteEUI"}]}],all:[{classes:"allWidth",type:"input",show:!0,isEmpty:!1,label:"安装位置",option:{type:"textArea",value:this.currentDevice.installAddr||"",placeHolder:"50个字符内",length:50,width:o,key:"currentDevice.installAddr"}},{classes:"allWidth",type:"input",show:!0,isEmpty:!0,label:this.getEnumItem("deviceType",this.deviceType).text+"备注",option:{type:"textArea",value:this.currentDevice.remark||"",width:o,key:"currentDevice.remark"}}]}},RemianList:function(){var e="calc(100% - 7em)";return[{classes:"halfWidth",type:"input",isEmpty:!1,show:!0,label:"总示数",option:{type:"normalInput",value:this.currentDevice.readValue||0,length:10,placeHolder:"0-99999.9999之间任意数，允许4位小数",width:e,dataType:"+float",regular:"float5",errorMsg:"总示数： 0-99999.9999之间任意数，允许4位小数",key:"currentDevice.readValue"}},{classes:"halfWidth hasMarginLi",type:"input",isEmpty:!1,show:"07"==this.deviceType&&parseInt(this.currentDevice.commFactorCnt)>1,label:"尖示数",option:{type:"normalInput",value:this.currentDevice.readValue1||0,length:10,placeHolder:"0-99999.9999之间任意数，允许4位小数",width:e,dataType:"+float",regular:"float5",errorMsg:"尖示数：0-99999.9999之间任意数，允许4位小数",key:"currentDevice.readValue1"}},{classes:"halfWidth",type:"input",isEmpty:!1,show:"07"==this.deviceType&&parseInt(this.currentDevice.commFactorCnt)>1,label:"峰示数",option:{type:"normalInput",value:this.currentDevice.readValue2||0,length:10,placeHolder:"0-99999.9999之间任意数，允许4位小数",width:e,dataType:"+float",regular:"float5",errorMsg:"峰示数：0-99999.9999之间任意数，允许4位小数",key:"currentDevice.readValue2"}},{classes:"halfWidth hasMarginLi",type:"input",isEmpty:!1,show:"07"==this.deviceType&&parseInt(this.currentDevice.commFactorCnt)>1,label:"平示数",option:{type:"normalInput",value:this.currentDevice.readValue3||0,length:10,placeHolder:"0-99999.9999之间任意数，允许4位小数",width:e,dataType:"+float",regular:"float5",errorMsg:"平示数：0-99999.9999之间任意数，允许4位小数",key:"currentDevice.readValue3"}},{classes:"halfWidth",type:"input",isEmpty:!1,show:"07"==this.deviceType&&parseInt(this.currentDevice.commFactorCnt)>1,label:"谷示数",option:{type:"normalInput",value:this.currentDevice.readValue4||0,length:10,placeHolder:"0-99999.9999之间任意数，允许4位小数",width:e,dataType:"+float",regular:"float5",errorMsg:"谷示数： 0-99999.9999之间任意数，允许4位小数",key:"currentDevice.readValue4"}}]}},methods:{emptyArr:function(){switch(this.deviceType){case"07":var e=void 0;return e=["deviceNo","installAddr","ratio","meterUserNo"],32!=this.currentDevice.commPort&&e.unshift("jzqNo"),this.sign&&(e.push("readValue"),parseInt(this.currentDevice.commFactorCnt)>1&&(e.push("readValue1"),e.push("readValue2"),e.push("readValue3"),e.push("readValue4"))),32==this.currentDevice.commPort&&e.unshift("cjqNo"),this.currentDevice.elecMeterCategory,e;case"08":case"09":var t=["deviceNo","installAddr","meterUserNo"];return 32!=this.currentDevice.commPort&&t.push("jzqNo"),this.sign&&t.push("readValue"),32==this.currentDevice.commPort&&t.push("cjqNo"),t}},copyDevice:function(e){var t=this.getSearchData(this.deviceInfo);e&&(t=this.getSearchData(e)),this.currentDevice=this.extendObj(this.currentDevice,t)},saveData:function(){var e=this,t=e.emptyArr();32==e.currentDevice.commPort?e.currentDevice.jzqNo="999999999":2==e.currentDevice.commPort&&(e.currentDevice.cjqNo="0"),e.regularTest({emptyKey:t,prefix:"currentDevice",callback:function(){if(e.currentDevice.deviceType=e.deviceType,e.deviceList.length>0)for(var t=0;t<e.deviceList.length;t++){if(e.deviceList[t].deviceNo===e.currentDevice.deviceNo&&e.deviceType===e.deviceList[t].deviceType){e.$refs.alerts.show({msg:"该设备已存在，不能重复添加！"});break}if(e.deviceList[t].meterUserNo===e.currentDevice.meterUserNo&&e.deviceType===e.deviceList[t].deviceType){e.$refs.alerts.show({msg:"表计户号已存在，请重新填写！"});break}if(t===e.deviceList.length-1){void 0===e.currentDevice.paramFlag||""===e.currentDevice.paramFlag?e.$refs.alerts.show({msg:"设备型号不能为空！"}):"07"==e.deviceType&&parseInt(e.currentDevice.commFactorCnt)>1&&e.sign?e.juedeMeterValue():(e.$emit("getNewDevice",{device:e.getSearchData(e.currentDevice),type:e.operate}),e.cancelDialog());break}}else"07"==e.deviceType&&parseInt(e.currentDevice.commFactorCnt)>1&&e.sign?e.juedeMeterValue():(e.$emit("getNewDevice",{device:e.getSearchData(e.currentDevice),type:e.operate}),e.cancelDialog())}})},juedeMeterValue:function(){var e=this;if(void 0!==e.currentDevice.readValue1&&""!=e.currentDevice.readValue1.toString()&&void 0!==e.currentDevice.readValue2&&""!=e.currentDevice.readValue2.toString()&&void 0!==e.currentDevice.readValue3&&""!=e.currentDevice.readValue3.toString()&&void 0!==e.currentDevice.readValue4&&""!=e.currentDevice.readValue4.toString()){var t=parseFloat(e.currentDevice.readValue.toString()),o=parseFloat(e.currentDevice.readValue1.toString()),a=parseFloat(e.currentDevice.readValue2.toString()),i=parseFloat(e.currentDevice.readValue3.toString()),r=parseFloat(e.currentDevice.readValue4.toString()),s=parseFloat(Math.abs(t-(o+a+i+r)).toFixed(4));0==s?(e.$emit("getNewDevice",{device:e.getSearchData(e.currentDevice),type:e.operate}),e.cancelDialog()):s<=.02&&s>0?e.$refs.confirms.show({msg:"尖峰平谷之和与总示数之间存在 "+s+" 的偏差，确定保存吗？",action:{confirm:function(){e.$emit("getNewDevice",{device:e.getSearchData(e.currentDevice),type:e.operate}),e.cancelDialog()}}}):e.$refs.alerts.show({msg:"尖峰平谷之和与总示数之间偏差不能大于0.02！"})}else e.$refs.alerts.show({msg:"尖峰平谷都不能为空，且四个值的和等于总示数的值！"})},getForm:function(e){if("currentDevice.paramFlag"===e.key&&""!==e&&void 0!==e){var t=e.currentSelect;this.currentDevice.commFactorCnt=t.commFactorCnt}"07"!==this.deviceType&&"currentDevice.collectDevType"===e.key?"1"==e.val?this.currentDevice.moteType="A":this.currentDevice.moteType="C":"07"==this.deviceType&&"currentDevice.commPort"===e.key&&32!=e.val&&31!=e.val&&(this.currentDevice.collectDevType=0),this.getOption(e,this)},cancelDialog:function(){this.$refs.deviceShow.close(),this.currentDevice={moteType:"",deviceFactoryValue:"",localControl:2,commPort:32,readValue:0,collectDevType:1,commFactorCnt:"",elecType:"",elecMeterCategory:""},this.showFrom=!1},show:function(e,t,o){if(this.showFrom=!0,this.sign=0===e||1===e&&t,this.operate=e,1===e)o?this.copyDevice(o):this.copyDevice();else switch(this.currentDevice={localControl:2,commPort:32,jzqNo:"999999999",readValue:0,deviceType:this.deviceType,ratio:1,commFactorCnt:"",elecType:"",elecMeterCategory:""},this.deviceType){case"07":this.currentDevice.moteType="C"}var a=this;this.$nextTick(function(){a.$refs.deviceShow.show()})},testCJQ:function(){var e=this;this.$nextTick(function(){e.$refs["currentDevice.cjqNo"]&&e.$refs["currentDevice.cjqNo"][0]&&e.$refs["currentDevice.cjqNo"][0].regularTest()})}},watch:{"currentDevice.localControl":function(e){this.sign1=2!==e,this.emptyArr()},"currentDevice.commPort":function(e){this.showDialog=!1;var t=this;delete this.currentDevice.collectDevType,2==e&&(this.currentDevice.collectDevType=1),this.$nextTick(function(){t.showDialog=!0})},"currentDevice.collectDevType":function(){this.testCJQ()}}}},645:function(e,t,o){"use strict";function a(e){o(752)}var i=o(646),r=o(756),s=o(31),n=a,l=s(i.a,r.a,!1,n,null,null);t.a=l.exports},646:function(e,t,o){"use strict";var a=o(754);t.a={data:function(){return{cstPhones:{mobilePhones:null}}},components:{phoneChild:a.a},props:["customerInfo","optType"],methods:{saveCstPhones:function(e){var t=this;if(t.cstPhones.mobilePhones=e,0==t.cstPhones.mobilePhones.length)t.$refs.alerts.show({msg:"请至少添加一个手机号!"});else if("edit"==this.optType){for(var o="",a=0;a<t.cstPhones.mobilePhones.length;a++){var i=t.cstPhones.mobilePhones[a];if("add"==i.optType){o=i.phone;break}}t.$emit("eidtContact",o,function(){t.$refs.confirms.show({msg:"确认提交客户电话号码修改，电话号码删除将会自动解绑？",action:{confirm:function(){t.submitCstPhoneSave(t.customerInfo.customerNo,t.cstPhones.mobilePhones)}}})})}else this.closePhoneWin(!0)},submitCstPhoneSave:function(e,t){for(var o=this,a={customerNo:e,mobilePhones:[]},i=0;i<t.length;i++){var r=t[i];(0==r.state||1==r.state&&"delete"==r.optType)&&a.mobilePhones.push({phone:r.phone,optType:r.optType}),"delete"==r.optType&&!0}o.getRequest({url:"customerInfo/updatePhoneBind",param:a,method:"post",success:function(e){o.$refs.alerts.show({msg:"客户信息提交成功!"}),o.closePhoneWin()},error:function(e){o.closePhoneWin(),o.$refs.alerts.show({msg:e.message})}})},closePhoneWin:function(e){"add"===this.optType&&this.$refs.editCstPhonesWin.close(),this.$emit("getUserPhone",e?this.cstPhones.mobilePhones:this.customerInfo.mobilePhones)},closePage:function(){this.$emit("closeWin")},show:function(){var e=this;e.$nextTick(function(){e.$refs.editCstPhonesWin.show(),setTimeout(function(){e.$refs.editCstPhonesWin&&e.$refs.editCstPhonesWin.$children[0]&&e.$refs.editCstPhonesWin.$children[0].$children[0].loadPhones()},0)})}},mounted:function(){},watch:{customerInfo:{handler:function(e){}}}}},647:function(e,t,o){"use strict";t.a={data:function(){return{cstPhoneInputs:{key:"cstPhones.mobilePhone",width:"calc(100% - 18em)!important",type:"normalInput",length:11,regular:"phone",errorMsg:"联系电话：11位手机号",limit:"number"},cstPhones:{mobilePhone:"",customerNo:"",mobilePhones:[]}}},props:["customerInfo","optType"],methods:{enter:function(e){this.getOption(e,this),this.saveTbAdd()},saveTbAdd:function(){var e=this;if(this.regularTestForVal({val:e.cstPhones.mobilePhone,regex:"phone",msg:"电话号码格式有误"})&&""!=e.cstPhones.mobilePhone&&void 0!==e.cstPhones.mobilePhone){for(var t=0,o=0;o<e.cstPhones.mobilePhones.length;o++)"add"==e.cstPhones.mobilePhones[o].optType&&(t+=1);if(t>9)e.$refs.alerts.show({msg:"最多只能添加10个电话号码"});else{for(var a=!1,i=0;i<e.cstPhones.mobilePhones.length;i++)if(e.cstPhones.mobilePhones[i].phone==e.cstPhones.mobilePhone){"add"==e.cstPhones.mobilePhones[i].optType&&e.$refs.alerts.show({msg:"已有该号码，请勿重复添加"}),e.cstPhones.mobilePhones[i].optType="add",a=!0;break}a||e.cstPhones.mobilePhones.push({phone:e.cstPhones.mobilePhone,state:0,optType:"add"})}e.$refs["cstPhones.mobilePhone"].resetSearch("")}},cstPhoneDel:function(e){var t=this;if(0==e.state){for(var o=0;o<t.cstPhones.mobilePhones.length;o++)if(t.cstPhones.mobilePhones[o].phone==e.phone){t.cstPhones.mobilePhones.splice(o,1);break}}else e.optType="delete"},saveCstPhones:function(){var e=this;0==e.cstPhones.mobilePhones.length?e.$refs.alerts.show({msg:"请至少添加一个号码"}):e.$emit("submit",e.cstPhones.mobilePhones)},loadPhones:function(){this.cstPhones.mobilePhones=[];var e="add"==this.optType?0:1;if(this.customerInfo.mobilePhones&&""!=this.customerInfo.mobilePhones)for(var t=this.customerInfo.mobilePhones.split(","),o=0;o<t.length;o++)this.cstPhones.mobilePhones.push({phone:t[o],state:e,optType:"add"})},closePhoneWin:function(){this.$refs["cstPhones.mobilePhone"].resetSearch(""),this.$emit("closeWin")},getFrom:function(e){this.getOption(e,this)}},mounted:function(){this.loadPhones()},beforeUpdate:function(){},watch:{customerInfo:{handler:function(e){this.loadPhones()}}}}},648:function(e,t,o){"use strict";var a=o(643),i=o(645),r=(o(527),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e});t.a={data:function(){return{showCstPhone:!1,sendChildDevices:[],currentIndex:0,clickEvent:!0,noDataTips:!1,tabIndex:-1,deviceData:[],customerInfo:{customerBrand:"",customerName:"",customerContact:"",mobilePhones:"",customerAddr:"",customerNo:"",remark:"",buildName:"",orgNo:"",buildNo:"",initAmount:0,overdraftAmount:"",alarmThreshold:0,alarmThreshold1:0,alarmThreshold2:0,offScheme:""},deviceInfo:{},showOperate:!1,tabOpt:[{text:"电表",deviceType:"07"},{text:"水表",deviceType:"08"},{text:"气表",deviceType:"09"}],currentDeviceType:"07"}},methods:{getUserPhone:function(e){var t=[];if("object"===(void 0===e?"undefined":r(e))){for(var o=0;o<e.length;o++)t.push(e[o].phone);this.$refs["customerInfo.customerContact"][0].resetSearch(t.join(",")),this.customerInfo.mobilePhones=t.join(",")}},editUserPhone:function(){var e=this;e.showCstPhone=!0,e.$nextTick(function(){e.$refs.editCstPhones.show()})},getFrom:function(e){"customerInfo.buildNo"===e.key&&(this.customerInfo.buildName=e.currentSelect.dictItemName),this.getOption(e,this)},resetComponent:function(){this.$emit("closeDiv",!0)},deviceSubmit:function(){var e=this,t=this.loadings,o=this.alerts;if(e.clickEvent){if(e.clickEvent=!1,""==this.customerInfo.mobilePhones)return o.show({msg:"请输入电话号码！"}),void(e.clickEvent=!0);this.customerInfo.customerContact=this.customerInfo.mobilePhones.split(",")[0];var a=["customerName","customerAddr","orgNo","propertyName","initAmount","buildNo","alarmThreshold","alarmThreshold1","alarmThreshold2"];1==this.customerInfo.offScheme&&a.push("offParam"),e.regularTest({emptyKey:a,prefix:"customerInfo",callback:function(){if(parseFloat(e.customerInfo.alarmThreshold2)>parseFloat(e.customerInfo.alarmThreshold1)||parseFloat(e.customerInfo.alarmThreshold1)>parseFloat(e.customerInfo.alarmThreshold)||parseFloat(e.customerInfo.alarmThreshold2)>parseFloat(e.customerInfo.alarmThreshold))o.show({msg:"告警阀值之间的大小关系应为（告警阀值1 >= 告警阀值2 >= 告警阀值3）"});else if(0===e.deviceData.length)o.show({msg:"请至少添加一种设备！"});else{t.show({msg:"正在提交资料,请稍后.."});for(var a={customerInfo:e.customerInfo,electricMeter:[],waterMeter:[],gasMeter:[]},i=0;i<e.deviceData.length;i++){var r=e.deviceData[i];switch(r.deviceType){case"07":a.electricMeter.push(r);break;case"08":a.waterMeter.push(r);break;case"09":a.gasMeter.push(r)}}e.getRequest({url:"customerInfo/add",method:"post",param:a,success:function(a){t.close(),o.show({msg:a.message}),e.$emit("closeDiv",!0),e.$refs.editCstPhones.submitCstPhoneSave(a.data,e.$refs.editCstPhones.cstPhones.mobilePhones)},error:function(e){t.close(),o.show({msg:e.message})}})}}}),setTimeout(function(){e.clickEvent=!0},500)}},removeDevice:function(e){this.deviceData.splice(e,1),0===this.deviceData.length&&(this.noDataTips=!1)},editDevice:function(e){this.sendChildDevices=[],this.deviceInfo=this.deviceData[e];for(var t=this.deviceData.length,o=0;o<t;o++)o!==e&&this.sendChildDevices.push(this.deviceData[o]);this.currentIndex=e,this.currentDeviceType=this.deviceInfo.deviceType,this.operateDevice(1)},getTab:function(e,t){var o=e.deviceType;this.tabIndex=t,this.currentDeviceType=o,this.sendChildDevices=this.deviceData,this.operateDevice(0)},getTabText:function(e){var t=void 0;switch(e){case"07":t="电表";break;case"08":t="水表";break;case"09":t="气表"}return t},operateDevice:function(e){var t=this;t.showOperate=!0,setTimeout(function(){t.$refs.operateDevices.show(e,!0)},0)},copyNewDeviceType:function(e){switch(this.noDataTips=!0,e.type){case 0:this.deviceData.splice(0,0,e.device);break;case 1:this.deviceData.splice(this.currentIndex,1,e.device)}}},components:{operateDevice:a.a,msgPhone:i.a},props:["buildNo","departNo"],computed:{deviceType:function(){return this.tabOpt[this.tabIndex].deviceType},formOpt:function(){var e="calc(100% - 6.5em)";return[{name:"用户姓名",style:"input",classes:"halfWidth",isEmpty:!1,option:{key:"customerInfo.customerName",width:e,value:"",type:"normalInput",regular:"",length:20,placeHolder:"请输入用户姓名",errorMsg:"任意字符"}},{name:"联系电话",style:"input",isEmpty:!1,classes:"halfWidth",option:{key:"customerInfo.customerContact",width:e,value:this.customerInfo.mobilePhones,type:"combineInput"}},{name:"用户地址",style:"input",classes:"halfWidth",isEmpty:!1,option:{key:"customerInfo.customerAddr",value:"",width:e,length:50,placeHolder:"50个字符内",type:"normalInput"}},{name:"门牌编号",style:"input",classes:"halfWidth",isEmpty:!1,option:{key:"customerInfo.propertyName",value:"",width:e,length:20,placeHolder:"可输入字母数字、下划线、-",type:"normalInput",errorMsg:"格式：字母、数字、下划线、-",limit:"NCO"}},{name:"商家品牌",style:"input",classes:"halfWidth",isEmpty:!0,option:{key:"customerInfo.customerBrand",value:"",width:e,type:"normalInput",length:50,placeHolder:"50个字符内"}},{name:"部门机构",style:"select",classes:"halfWidth",isEmpty:!1,option:{type:"complexSelect",key:"customerInfo.orgNo",cs:"server",url:"org/queryOrgTreeByOrgNo",constant:this.departNo&&""!=this.departNo?{orgNo:this.departNo}:"",method:"post",noCheck:{key:"leaf",value:0},width:e,text:"orgName",value:"orgNo",rowName:"data"}},{name:"楼栋编号",style:"select",isEmpty:!1,option:{width:e,cs:"server",method:"post",url:"dictItem/queryByDictCode",param:{dictCode:"15"},rowName:"data",text:"dictItemName",value:"dictItemValue",constant:this.buildNo&&""!=this.buildNo?{dictItemValue:this.buildNo}:"",key:"customerInfo.buildNo"}},{name:"告警阀值1",style:"input",isEmpty:!1,option:{width:e,type:"normalInput",value:0,dataType:"+float",placeHolder:"0-99999.99之间任意数，允许两位小数",key:"customerInfo.alarmThreshold",length:8,regular:"recharges",errorMsg:"告警阀值1：0-99999.99之间任意数，允许两位小数"}},{name:"告警阀值2",style:"input",isEmpty:!1,option:{width:e,type:"normalInput",value:0,dataType:"+float",placeHolder:"0-99999.99之间任意数，允许两位小数",key:"customerInfo.alarmThreshold1",length:8,regular:"recharges",errorMsg:"告警阀值2：0-99999.99之间任意数，允许两位小数"}},{name:"告警阀值3",style:"input",isEmpty:!1,option:{width:e,type:"normalInput",value:0,dataType:"+float",placeHolder:"0-99999.99之间任意数，允许两位小数",key:"customerInfo.alarmThreshold2",length:8,regular:"recharges",errorMsg:"告警阀值3：0-99999.99之间任意数，允许两位小数"}},{name:"预留金额",style:"input",isEmpty:!1,option:{key:"customerInfo.initAmount",width:e,type:"normalInput",dataType:"+float",placeHolder:"预留金额：0-1000之间任意数字,允许两位小数",length:6,value:0,regular:"recharge",errorMsg:"预留金额：0-1000之间任意数字,允许两位小数",limit:"float"}},{name:"透支金额",style:"input",isEmpty:!0,option:{key:"customerInfo.overdraftAmount",width:e,type:"normalInput",dataType:"int",placeHolder:"0-999999之间任意整数",length:6,errorMsg:"透支金额：0-999999之间任意整数",limit:"number"}},{style:"select",isEmpty:!1,name:"关断策略",option:{width:e,cs:"client",data:this.getEnumItem("offScheme").obj,constant:""!==this.customerInfo.offScheme?{value:this.customerInfo.offScheme}:"",key:"customerInfo.offScheme"}},{style:"input",unShow:1!=this.customerInfo.offScheme,isEmpty:!1,name:"延时时长",option:{type:"normalInput",value:this.customerInfo.offParam||1,placeHolder:"小时为单位，1-2位整数，最小为1",errorMsg:"小时为单位，1-2位整数，最小为1",length:2,limit:"number",regular:"offParam",width:e,key:"customerInfo.offParam"}},{name:"备注信息",classes:"allWidth",isEmpty:!0,style:"input",option:{key:"customerInfo.remark",width:e,placeHolder:"200个字符内",length:200,value:"",type:"normalInput"}}]},alerts:function(){return this.$parent.$refs.alerts},loadings:function(){return this.$parent.$refs.loadings}}}},744:function(e,t,o){var a=o(745);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o(33)("0aded68e",a,!0,{})},745:function(e,t,o){t=e.exports=o(32)(!1),t.push([e.i,"button.buttonComL{margin:0;border-top-right-radius:0;border-bottom-right-radius:0}button.buttonComR{margin:0 0 0 -3px;border-top-left-radius:0;border-bottom-left-radius:0}button.buttonComS{color:#fff;background:#0a9de2}.formBackIndex{z-index:19}.formIndex{z-index:20}.leftTrees{width:20em;border-radius:.5em;padding:1em!important}.con_centers{width:calc(100% - 20em - 4em - .5em);border-radius:.5em;height:100%;padding:0 1em!important}.con_centers .info-div{margin-top:2em;height:calc(100% - 2em)!important}.con_centers .info-div .detail-content{padding:.5em!important}.con_centers .info-div .info-container{height:calc(100% - 0em);margin-top:0}.right-container .center-container .noBackAll{padding:0;width:100%;background:transparent}",""])},746:function(e,t,o){"use strict";function a(e){o(747)}var i=o(642),r=o(761),s=o(31),n=a,l=s(i.a,r.a,!1,n,null,null);t.a=l.exports},747:function(e,t,o){var a=o(748);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o(33)("4e184993",a,!0,{})},748:function(e,t,o){t=e.exports=o(32)(!1),t.push([e.i,'.clearElement,.detailInfo-div .angle-device:after,i.hasIcon:after{content:"";width:.1px;height:0;clear:both;display:block}.myThead tr td,.myThead tr th,.textOverflow,.th-td-border td,.th-td-border th{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}svg{font-size:1em;height:1em;width:1.1em}.hover-select{background:#227fde;color:#fff}.hover-select svg{color:#fff;-webkit-text-stroke:1px gray}.hasRadius{border-radius:.4em}.float-right{margin-right:.4em;float:right}button,input,textarea{padding:.4em .9em;border:1px solid #b3b3b3;font-size:.94em;font-weight:200;line-height:1;border-radius:.2em;display:inline-block;background:#0276d9;color:#fff;height:2.75em;font-family:Avenir,Helvetica,Arial,sans-serif}textarea{border-radius:.4em}input,textarea{-moz-box-sizing:border-box;box-sizing:border-box}button{cursor:pointer;border:0;box-shadow:none}h4{margin:8px 0}h3{margin:9px 0}h2{margin:10px 0}h1{margin:12px 0}a.has-decoration:hover,a.has-decoration:visited{text-decoration:underline}a,a:hover,a:visited{cursor:pointer}a,a:hover,a:visited{text-decoration:none}table{border-collapse:collapse}button:focus,input:focus,textarea:focus{outline:none}li,ul{margin:0;list-style-type:none}.myThead tr th,.th-td-border th{position:relative}.myThead tr td,.myThead tr th,.th-td-border td,.th-td-border th{padding:6px;border-right:.08em solid #d3d3d3;border-bottom:.08em solid #d3d3d3;display:table-cell;vertical-align:middle}.myThead tr td:last-child,.myThead tr th:last-child,.th-td-border td:last-child,.th-td-border th:last-child{border-right:0}.line-split{display:block;margin:0 auto;width:.2em;background:linear-gradient(0deg,#fff,#aaa,#fff)}i.hasIcon{display:block;width:1em;height:1.3em;float:left;margin-top:-.3em;margin-right:1em}i.hasIcon img{width:1.8em;height:1.7em}i.hasImg{width:1.502em;height:1.502em;margin-right:.3em;margin-top:0}i.hasImg img{width:100%;height:100%}i.headerImg{width:1.579em;height:1.579em}button.make-cancel,button.make-sure{padding:6px 35px;margin:5px 12px;border:0;color:#fff}.button-operate{margin-right:10px}.button-operate svg{margin-right:.8em;margin-top:0}.button-operate{color:#fff}.button-operate,.make-sure{background:#227fdf}.button-operate:hover{background:#27a5ff}.button-operate:visited{background:#2291e0}button.button-default{height:3em;border-radius:.4em;background-size:100% 100%;min-width:9em;margin:1em 2em;border:0;background:#227fdf}.label-show{float:left;min-width:5em;height:2.79em;padding-right:5px;line-height:2.79;text-align:right;margin-left:-.9em;margin-right:.2em}.label-show+.myInput{float:left}button.button-noBack{background:transparent;border:1px solid #b3b3b3;color:#4d4d4d}button.make-cancel{background:#ee891f}button.button-noBack:hover{background:#f2faff;color:#1793eb;border-color:#59b0ee}button.btn-group-left{margin:0 -4px 0 0!important;border-top-right-radius:0!important;border-bottom-right-radius:0!important}button.btn-group-right{margin:0!important;border-left:0;border-top-left-radius:0!important;border-bottom-left-radius:0!important}button.btn-group-left.selected,button.btn-group-right.selected{background:#1793eb;color:#fff;border:0}button.cancel-button{background:#d38642}i.special{float:right;margin-top:-2px;margin-right:-8px;color:#fff}.button-remove{background:transparent;color:#ff6943;border:1px solid #ff6943}.button-remove:hover{background:#f76945;color:#fff}.split-span{float:left;color:#fff;margin:5px 8px;font-size:1.6em}.myThead{-moz-user-select:none;-webkit-user-select:none;user-select:none}.myThead,.myThead tr{border-top-left-radius:.6em;border-top-right-radius:.6em}.myThead tr{color:#fcfefd}.myThead tr th{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;padding:1em .8em 1em .4em;border:0}.myThead tr th .trBorder{cursor:e-resize}.myThead tr th:first-child{border-top-left-radius:.6em}.myThead tr th:last-child{border-top-right-radius:.6em}.myThead tr div.sortIcon{position:absolute;right:.7em;top:calc(50% - .45em);color:#fff;cursor:default}.myThead tr div.sortIcon span{cursor:pointer;display:block;width:0;height:0;border-left:.35em solid transparent;border-right:.35em solid transparent}.myThead tr div.sortIcon span.sortUp{border-bottom:.47em solid #fffdfe}.myThead tr div.sortIcon span.ascSelected,.myThead tr div.sortIcon span.sortUp:hover{border-bottom:.47em solid #1793eb}.myThead tr div.sortIcon span.sortDown{border-top:.47em solid #fffdfe;margin-top:.118em}.myThead tr div.sortIcon span.descSelected,.myThead tr div.sortIcon span.sortDown:hover{border-top:.47em solid #1793eb}input:-ms-input-placeholder{color:hsla(0,0%,100%,.4)}input::-webkit-input-placeholder{color:hsla(0,0%,100%,.4)}input::-moz-placeholder{color:hsla(0,0%,100%,.4)}textarea:-ms-input-placeholder{color:hsla(0,0%,100%,.4);font-family:Avenir,Helvetica,Arial,sans-serif}textarea::-webkit-input-placeholder{color:hsla(0,0%,100%,.4);font-family:Avenir,Helvetica,Arial,sans-serif}textarea::-moz-placeholder{color:hsla(0,0%,100%,.4);font-family:Avenir,Helvetica,Arial,sans-serif}input.checkBox+.myCheckbox{top:-.2em;margin:0 1.5em 0 .5em;position:relative}.myCheckbox:before{content:"";display:block;position:absolute;background:#fff;left:-1em;top:0;width:1em;height:1em;border:1px solid hsla(0,0%,100%,.7);border-radius:30%}input:checked+.myCheckbox:before{content:"\\2714";font-size:1em;text-align:center;line-height:.9;color:#3a7dc3}.myCheckBox:before{border-width:1.5px;border-color:#3a7dc3}input:checked+.myCheckBox:before{color:#3a7dc3}input.checkBox{position:relative;top:0;left:.4em;z-index:2;opacity:0;cursor:pointer;height:2em}@media screen and (max-width:1366px){body{font-size:12px}body .login-input input{width:21em}}@media screen and (min-width:1367px) and (max-width:1700px){body{font-size:14px}}@media screen and (min-width:1701px) and (max-width:1920px){body{font-size:17px}}.ps{-ms-touch-action:auto;touch-action:auto;overflow:hidden!important;-ms-overflow-style:none}@supports (-ms-overflow-style:none){.ps{overflow:auto!important}}@media (-ms-high-contrast:none),screen and (-ms-high-contrast:active){.ps{overflow:auto!important}}.ps.ps--active-x>.ps__scrollbar-x-rail,.ps.ps--active-y>.ps__scrollbar-y-rail{display:block;background-color:transparent}.ps.ps--in-scrolling.ps--x>.ps__scrollbar-x-rail{background-color:transparent;opacity:.9}.ps.ps--in-scrolling.ps--x>.ps__scrollbar-x-rail>.ps__scrollbar-x{background-color:hsla(0,0%,100%,.2);height:8px}.ps.ps--in-scrolling.ps--y>.ps__scrollbar-y-rail{background-color:transparent;opacity:.9}.ps.ps--in-scrolling.ps--y>.ps__scrollbar-y-rail>.ps__scrollbar-y{background-color:hsla(0,0%,100%,.2);width:10px}.ps>.ps__scrollbar-x-rail{display:none;position:absolute;opacity:0;transition:background-color .2s linear,opacity .2s linear;bottom:0;height:12px;z-index:2}.ps>.ps__scrollbar-x-rail>.ps__scrollbar-x{position:absolute;background-color:hsla(0,0%,100%,.2);border-radius:6px;transition:background-color .2s linear,height .2s linear,width .2s ease-in-out,border-radius .2s ease-in-out;bottom:2px;height:6px}.ps>.ps__scrollbar-x-rail:active>.ps__scrollbar-x,.ps>.ps__scrollbar-x-rail:hover>.ps__scrollbar-x{height:11px}.ps>.ps__scrollbar-y-rail{display:none;position:absolute;opacity:0;transition:background-color .2s linear,opacity .2s linear;right:0;width:11px;z-index:2}.ps>.ps__scrollbar-y-rail>.ps__scrollbar-y{position:absolute;background-color:hsla(0,0%,100%,.2);border-radius:6px;transition:background-color .2s linear,height .2s linear,width .2s ease-in-out,border-radius .2s ease-in-out;right:2px;width:6px}.ps>.ps__scrollbar-y-rail:active>.ps__scrollbar-y,.ps>.ps__scrollbar-y-rail:hover>.ps__scrollbar-y{width:11px}.ps:hover.ps--in-scrolling.ps--x>.ps__scrollbar-x-rail{background-color:transparent;opacity:.9}.ps:hover.ps--in-scrolling.ps--x>.ps__scrollbar-x-rail>.ps__scrollbar-x{background-color:hsla(0,0%,100%,.2);height:11px}.ps:hover.ps--in-scrolling.ps--y>.ps__scrollbar-y-rail{background-color:transparent;opacity:.9}.ps:hover.ps--in-scrolling.ps--y>.ps__scrollbar-y-rail>.ps__scrollbar-y{background-color:hsla(0,0%,100%,.2);width:11px}.ps:hover>.ps__scrollbar-x-rail,.ps:hover>.ps__scrollbar-y-rail{opacity:.6}.ps:hover>.ps__scrollbar-x-rail:hover{background-color:transparent;opacity:.9}.ps:hover>.ps__scrollbar-x-rail:hover>.ps__scrollbar-x{background-color:hsla(0,0%,100%,.2)}.ps:hover>.ps__scrollbar-y-rail:hover{background-color:transparent;opacity:.9}.ps:hover>.ps__scrollbar-y-rail:hover>.ps__scrollbar-y{background-color:hsla(0,0%,100%,.2)}.ps-container{position:relative}.emptyShowPic{text-align:center;font-size:.875em;display:table;width:100%;height:100%}.emptyShowPic div.emptyContent{display:table-cell;vertical-align:middle}.emptyShowPic div.emptyContent img{width:17.75em;height:11.75em}.emptyShowPic div.emptyContent p{margin-top:1em;font-size:.875em}.emptyTips{color:#eb3b3b;font-weight:900;line-height:2.5!important}.emptyDivShow{text-align:left;padding-left:.3em;font-size:.83em}.operate-container{width:6em!important;margin:0!important;position:absolute;height:100%;right:0}.operate-container .device-div{position:absolute;right:0;top:calc(50% - 5em);width:100%;text-align:center}.operate-container .device-div button{font-size:.84em}.detailInfo-div{margin-top:.7em;height:calc(100% - 5.7em);padding:0 .5em;position:relative;float:left;margin-bottom:.5em;width:calc(100% - 1.2em)}.detailInfo-div .angle-device{margin-bottom:0;padding-bottom:1em;width:100%;position:relative}.detailInfo-div .angle-device .list-header{margin-bottom:0;padding:1em 0;border:0}.detailInfo-div .angle-device:last-child{border-bottom:0!important}.noBorderTab li{margin-right:0}.noBorderTab li img{float:none!important}.changeTable .special-table{border:0!important;font-size:1em}.changeTable .special-table td{padding:.4em;background:transparent;border-bottom:0;border-color:#4d5f76;text-align:left;padding-left:.2%}.changeTable .special-table td .selectBtn span{top:11px}.changeTable .special-table td:last-child{border:0}.changeTable .special-table .table-header{border-bottom:1px solid #4d5f76;background:transparent}.changeTable .special-table .table-header th{border:0!important;font-weight:100}.hasAction{text-decoration:underLine;color:#69a4e7;cursor:pointer}.simpleCstTab{font-size:1.05em}.simpleCstTab li{margin:0 .2em;float:left;cursor:pointer;color:#fff;background:#15254b}.simpleCstTab li span{color:inherit;display:block;height:100%;padding:.7em 2.3em .5em;border-bottom:.2em solid transparent}.simpleCstTab li:first-child{margin-left:0}.simpleCstTab .selTab,.simpleCstTab li span:hover{border-bottom:.2em solid #227fdf;background:hsla(0,0%,100%,.1)}.simpleCstTab .router-link-exact-active,.simpleCstTab li a.router-link-exact-active:hover{background:#227fdf;border-color:transparent}.simpleCstTab:after{clear:both;content:"";display:block;width:1px;height:0}.tabCstContent{width:100%;height:calc(100% - 4em)}',""])},749:function(e,t,o){var a=o(750);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o(33)("1b44a024",a,!0,{})},750:function(e,t,o){t=e.exports=o(32)(!1),t.push([e.i,"",""])},751:function(e,t,o){"use strict";var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e.showFrom?o("dialogs",{ref:"deviceShow",attrs:{type:"customer",width:"46em",overflow:"auto"}},[o("div",{attrs:{slot:"header"},slot:"header"},[e._v("\n        "+e._s(0===e.operate?"添加":"编辑")+e._s(e.getEnumItem("deviceType",e.deviceType).text)+"\n    ")]),e._v(" "),o("div",{staticStyle:{"font-size":"1.13em"},attrs:{slot:"content"},slot:"content"},[e.showDialog?o("ul",{staticClass:"form-list dialog-ul"},[e._l(e.formList[e.deviceType],function(t,a){return t.show?o("li",{class:t.classes},[o("label",{staticClass:"label-span",staticStyle:{"min-width":"6.5em","text-align":"right"}},[t.isEmpty?e._e():o("span",{staticClass:"emptyTips"},[e._v("*")]),e._v(" "),t.isEmpty?o("span",[e._v("  ")]):e._e(),e._v("\n             "+e._s(t.label)+"   \n           ")]),e._v(" "),"input"===t.type?[o("inputs",{ref:t.option.key,refInFor:!0,attrs:{option:t.option,isEmpty:t.isEmpty},on:{getInput:e.getForm}})]:"select"===t.type?[o("selects",{ref:t.option.key,refInFor:!0,attrs:{option:t.option},on:{getSelect:e.getForm}})]:"complexInput"===t.type?[o("selects",{ref:t.option[0].key,refInFor:!0,attrs:{option:t.option[0]},on:{getSelect:e.getForm}}),e._v(" "),o("inputs",{ref:t.option[1].key,refInFor:!0,staticStyle:{"margin-left":"0.5em"},attrs:{option:t.option[1],isEmpty:t.isEmpty},on:{getInput:e.getForm}})]:e._e()],2):e._e()}),e._v(" "),e._l(e.formList.all,function(t,a){return t.show?o("li",{class:t.classes},[o("label",{staticClass:"label-span ",staticStyle:{"min-width":"6.5em","text-align":"right"},attrs:{title:t.label}},[t.isEmpty?e._e():o("span",{staticClass:"emptyTips"},[e._v("*")]),e._v(" "),t.isEmpty?o("span",[e._v("  ")]):e._e(),e._v("\n             "+e._s(t.label)+"   ")]),e._v(" "),"input"===t.type?[o("inputs",{ref:t.option.key,refInFor:!0,attrs:{option:t.option,isEmpty:t.isEmpty},on:{getInput:e.getForm}})]:"select"===t.type?[o("selects",{ref:t.option.key,refInFor:!0,attrs:{option:t.option},on:{getSelect:e.getForm}})]:e._e()],2):e._e()})],2):e._e(),e._v(" "),e.showDialog&&e.sign?o("ul",{staticClass:"form-list dialog-ul",staticStyle:{"border-top":"1px solid rgba(255,255,255,0.2)","margin-top":"0.3em","padding-top":"0.3em"}},e._l(e.RemianList,function(t,a){return t.show?o("li",{class:t.classes},[o("label",{staticClass:"label-span",staticStyle:{"min-width":"6.5em","text-align":"right"}},[t.isEmpty?e._e():o("span",{staticClass:"emptyTips"},[e._v("*")]),e._v(" "),t.isEmpty?o("span",[e._v("  ")]):e._e(),e._v("\n             "+e._s(t.label)+"   \n           ")]),e._v(" "),o("inputs",{ref:t.option.key,refInFor:!0,attrs:{option:t.option,isEmpty:t.isEmpty},on:{getInput:e.getForm}})],1):e._e()})):e._e()]),e._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("button",{staticClass:"button-default",on:{click:e.saveData}},[e._v("提交")]),e._v(" "),o("button",{staticClass:"button-default cancel-button",on:{click:e.cancelDialog}},[e._v("取消")])])]):e._e(),e._v(" "),o("dialogs",{ref:"alerts",attrs:{type:"alert"}}),e._v(" "),o("dialogs",{ref:"confirms",attrs:{type:"confirm"}})],1)},i=[],r={render:a,staticRenderFns:i};t.a=r},752:function(e,t,o){var a=o(753);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o(33)("64a74b38",a,!0,{})},753:function(e,t,o){t=e.exports=o(32)(!1),t.push([e.i,"",""])},754:function(e,t,o){"use strict";var a=o(647),i=o(755),r=o(31),s=r(a.a,i.a,!1,null,null,null);t.a=s.exports},755:function(e,t,o){"use strict";var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",[o("div",{attrs:{slot:"content"},slot:"content"},[o("ul",{staticClass:"dialog-ul"},[o("li",{staticClass:"formList allWidth"},[o("label",{staticClass:"label-show",staticStyle:{"min-width":"5em"}},[o("span",[e._v(" 电话号码")])]),e._v(" "),o("inputs",{ref:"cstPhones.mobilePhone",attrs:{isEmpty:!1,option:e.cstPhoneInputs},on:{getInput:e.getFrom,enter:e.enter}}),e._v(" "),o("button",{staticClass:"button-default",staticStyle:{margin:"0",float:"left","margin-left":"1em",height:"2.8em","min-width":"11em"},on:{click:e.saveTbAdd}},[e._v("添加\n          ")])],1)]),e._v(" "),o("table",{staticClass:"table-list",staticStyle:{margin:"0.5em 0.5em",width:"calc(100% - 1em)"}},[e._m(0),e._v(" "),e._l(e.cstPhones.mobilePhones,function(t){return"add"==t.optType?o("tr",{},[o("td",[e._v(e._s(t.phone))]),e._v(" "),o("td",{attrs:{width:"3em"},on:{click:function(o){e.cstPhoneDel(t)}}},[o("button",{staticClass:"list-operate",staticStyle:{height:"22px",padding:"0",cursor:"pointer",color:"#69A4E7!important","margin-top":"0"}},[o("i",{staticClass:"hasIcon "},[o("icon",{attrs:{name:"trash"}})],1),e._v("删除\n            ")])])]):e._e()})],2)]),e._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("button",{staticClass:"button-default",on:{click:e.saveCstPhones}},[e._v("确定")]),e._v(" "),o("button",{staticClass:"button-default cancel-button",on:{click:e.closePhoneWin}},[e._v("关闭")])])]),e._v(" "),o("dialogs",{ref:"alerts",attrs:{type:"alert"}})],1)},i=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("tr",{staticClass:"table-header"},[o("th",[e._v("电话号码")]),e._v(" "),o("th",{staticStyle:{width:"8em"}},[e._v("操作")])])}],r={render:a,staticRenderFns:i};t.a=r},756:function(e,t,o){"use strict";var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",["add"==e.optType?o("dialogs",{ref:"editCstPhonesWin",attrs:{type:"customer",width:"36em",overflow:"auto"}},[o("div",{attrs:{slot:"header"},slot:"header"},[e._v("\n      管理客户联系电话\n    ")]),e._v(" "),o("div",{attrs:{slot:"content"},slot:"content"},[o("phoneChild",{attrs:{customerInfo:e.customerInfo,optType:e.optType},on:{closeWin:e.closePhoneWin,submit:e.saveCstPhones}})],1)]):e._e(),e._v(" "),"add"!==e.optType?o("div",[o("phoneChild",{attrs:{customerInfo:e.customerInfo,optType:e.optType},on:{closeWin:e.closePage,submit:e.saveCstPhones}})],1):e._e(),e._v(" "),o("dialogs",{ref:"alerts",attrs:{type:"alert"}}),e._v(" "),o("dialogs",{ref:"confirms",attrs:{type:"confirm"}})],1)},i=[],r={render:a,staticRenderFns:i};t.a=r},757:function(e,t,o){"use strict";o(9).a.register({retweet:{width:1920,height:1792,paths:[{d:"M1280 1504q0 13-9.5 22.5t-22.5 9.5h-960q-8 0-13.5-2t-9-7-5.5-8-3-11.5-1-11.5v-13-11-160-416h-192q-26 0-45-19t-19-45q0-24 15-41l320-384q19-22 49-22t49 22l320 384q15 17 15 41 0 26-19 45t-45 19h-192v384h576q16 0 25 11l160 192q7 10 7 21zM1920 1088q0 24-15 41l-320 384q-20 23-49 23t-49-23l-320-384q-15-17-15-41 0-26 19-45t45-19h192v-384h-576q-16 0-25-12l-160-192q-7-9-7-20 0-13 9.5-22.5t22.5-9.5h960q8 0 13.5 2t9 7 5.5 8 3 11.5 1 11.5v13 11 160 416h192q26 0 45 19t19 45z"}]}})},758:function(e,t,o){"use strict";o(9).a.register({"toggle-off":{width:2048,height:1792,paths:[{d:"M1152 896q0-104-40.5-198.5t-109.5-163.5-163.5-109.5-198.5-40.5-198.5 40.5-163.5 109.5-109.5 163.5-40.5 198.5 40.5 198.5 109.5 163.5 163.5 109.5 198.5 40.5 198.5-40.5 163.5-109.5 109.5-163.5 40.5-198.5zM1920 896q0-104-40.5-198.5t-109.5-163.5-163.5-109.5-198.5-40.5h-386q119 90 188.5 224t69.5 288-69.5 288-188.5 224h386q104 0 198.5-40.5t163.5-109.5 109.5-163.5 40.5-198.5zM2048 896q0 130-51 248.5t-136.5 204-204 136.5-248.5 51h-768q-130 0-248.5-51t-204-136.5-136.5-204-51-248.5 51-248.5 136.5-204 204-136.5 248.5-51h768q130 0 248.5 51t204 136.5 136.5 204 51 248.5z"}]}})},759:function(e,t,o){"use strict";o(9).a.register({"toggle-on":{width:2048,height:1792,paths:[{d:"M0 896q0-130 51-248.5t136.5-204 204-136.5 248.5-51h768q130 0 248.5 51t204 136.5 136.5 204 51 248.5-51 248.5-136.5 204-204 136.5-248.5 51h-768q-130 0-248.5-51t-204-136.5-136.5-204-51-248.5zM1408 1408q104 0 198.5-40.5t163.5-109.5 109.5-163.5 40.5-198.5-40.5-198.5-109.5-163.5-163.5-109.5-198.5-40.5-198.5 40.5-163.5 109.5-109.5 163.5-40.5 198.5 40.5 198.5 109.5 163.5 163.5 109.5 198.5 40.5z"}]}})},760:function(e,t,o){"use strict";o(9).a.register({tags:{width:1920,height:1792,paths:[{d:"M448 448q0-53-37.5-90.5t-90.5-37.5-90.5 37.5-37.5 90.5 37.5 90.5 90.5 37.5 90.5-37.5 37.5-90.5zM1515 1024q0 53-37 90l-491 492q-39 37-91 37-53 0-90-37l-715-716q-38-37-64.5-101t-26.5-117v-416q0-52 38-90t90-38h416q53 0 117 26.5t102 64.5l715 714q37 39 37 91zM1899 1024q0 53-37 90l-491 492q-39 37-91 37-36 0-59-14t-53-45l470-470q37-37 37-90 0-52-37-91l-715-714q-38-38-102-64.5t-117-26.5h224q53 0 117 26.5t102 64.5l715 714q37 39 37 91z"}]}})},761:function(e,t,o){"use strict";var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"info-div"},[o("div",{staticClass:"info-header",staticStyle:{top:"2%",left:"2em"}},[o("span",{staticClass:"callback",on:{click:e.resetComponent}},[e._v("用户档案 ")]),e._v(" "),o("span",[e._v(" > 档案详情")])]),e._v(" "),e.show?o("div",{staticClass:"info-container"},[o("div",{staticClass:"list-content detail-content "},[o("div",{staticClass:"list-header"},[e._m(0),e._v("用户信息\n        "),e._v(" "),e.controls[3]?o("button",{staticClass:"list-operate",on:{click:e.deleteUser}},[o("i",{staticClass:"hasIcon "},[o("icon",{attrs:{name:"trash"}})],1),e._v("\n          删除用户\n        ")]):e._e(),e._v(" "),0!=e.customerInfo.isEnabled&&e.controls[2]?o("button",{staticClass:"list-operate",on:{click:e.editUserInfo}},[o("i",{staticClass:"hasIcon"},[o("icon",{attrs:{name:"edit"}})],1),e._v("\n          "+e._s("编辑")+"\n        ")]):e._e()]),e._v(" "),o("ul",{staticClass:"form-list detail-list"},e._l(e.lists.customerInfo,function(t,a){return t.unShow?e._e():o("li",[o("span",{staticClass:"label-span",staticStyle:{"min-width":"7.2em"}},[e._v(e._s(t.name)+" :  ")]),e._v(" "),o("span",{staticClass:"label-span",staticStyle:{"max-width":"calc(100% - 8em)"},attrs:{title:t.value}},[e._v(e._s(e.getValue(t.value)))])])}))]),e._v(" "),o("div",{staticClass:"list-content detail-content",staticStyle:{height:"calc(100% - 15em)"}},[o("div",{staticClass:" tabs-show tab-div",staticStyle:{margin:"0!important"}},[o("ul",{staticClass:"noBorderTab"},e._l(e.tabs,function(t,a){return o("li",{class:{selectedLi:a==e.tabIndex},staticStyle:{"margin-top":"-1px",padding:"0.136em 0.5em"},on:{click:function(t){e.getTab(a)}}},[o("img",{attrs:{src:t.img}}),e._v(" "),o("span",[e._v(e._s(t.name)+"("+e._s(t.num)+")")])])}))]),e._v(" "),e.deviceRecords[e.deviceType]&&0===e.deviceRecords[e.deviceType].length?e._e():o("div",{staticClass:"emptyDivShow",staticStyle:{"padding-top":"0.5em"}},[e.controls[2]?o("button",{staticClass:"list-operate",staticStyle:{float:"right"},on:{click:function(t){e.operateDevice(0)}}},[o("i",{staticClass:"hasIcon"},[o("icon",{attrs:{name:"plus-circle"}})],1),e._v("\n          添加设备\n        ")]):e._e()]),e._v(" "),o("VuePerfectScrollbar",{staticClass:"detailInfo-div"},[e._l(e.deviceRecords[e.deviceType],function(t,a){return e.deviceRecords[e.deviceType].length>0?[o("div",{staticClass:"angle-device",style:{"padding-bottom":"07"===e.deviceType?"1em":"2em","border-bottom":e.deviceRecords[e.deviceType].length>1&&a!==e.deviceRecords[e.deviceType].length-1?"1px solid #4D5F76":"none"}},[o("div",{staticClass:"list-header",style:{"padding-top":0==a?0:"1em"}},[o("i",{staticClass:"hasIcon hasImg"},[o("img",{attrs:{src:"dist/img/file/electric.png"}})]),e._v("\n              "+e._s(e.tabs[e.tabIndex].name)+"资料 "+e._s(e.deviceRecords[e.deviceType].length>1?a+1:"")+"\n              "),0!=e.customerInfo.isEnabled?o("div",{staticClass:"operate-div",style:{"margin-top":"-0.3em",padding:0}},["07"===e.deviceType&&32!==t.commPort&&e.controls[38]?o("button",{staticClass:"list-operate",on:{click:function(o){e.getConfig(t)}}},[o("i",{staticClass:"hasIcon hasImg",staticStyle:{"margin-top":"0"}},[o("icon",{attrs:{name:"tags"}})],1),e._v("\n                  读取\n                ")]):e._e(),e._v(" "),1==t.isRelationWeChat&&e.controls[2]?o("button",{staticClass:"list-operate",on:{click:function(o){e.removeRelative(t)}}},[o("i",{staticClass:"hasIcon hasImg",staticStyle:{"margin-top":"0"}},[o("icon",{attrs:{name:"ban"}})],1),e._v("\n                  微信解绑\n                ")]):e._e(),e._v(" "),e.controls[2]?o("button",{staticClass:"list-operate",on:{click:function(o){e.setImportant(t)}}},[o("i",{staticClass:"hasIcon hasImg",staticStyle:{"margin-top":"0"}},[o("icon",{attrs:{name:0==t.isImportant?"toggle-off":"toggle-on"}})],1),e._v("\n                  "+e._s(1==t.isImportant?"取消重点用户":"设置重点用户")+"\n                ")]):e._e(),e._v(" "),e.controls[8]?o("button",{staticClass:"list-operate",on:{click:function(o){e.issueDevice(t)}}},[o("i",{staticClass:"hasIcon hasImg",staticStyle:{"margin-top":"0"}},[o("icon",{attrs:{name:"sign-in"}})],1),e._v("\n                  下发\n                ")]):e._e(),e._v(" "),e.controls[22]?o("button",{staticClass:"list-operate",on:{click:function(o){e.changeDeviceInfo(t)}}},[o("i",{staticClass:"hasIcon hasImg",staticStyle:{"margin-top":"0"}},[o("icon",{attrs:{name:"retweet"}})],1),e._v("\n                  换表\n                ")]):e._e(),e._v(" "),e.controls[2]?o("button",{staticClass:"list-operate",on:{click:function(o){e.removeDeviceInfo(t)}}},[o("i",{staticClass:"hasIcon hasImg",staticStyle:{"margin-top":"0"}},[o("icon",{attrs:{name:"trash"}})],1),e._v("\n                  删除\n                ")]):e._e(),e._v(" "),e.controls[2]?o("button",{staticClass:"list-operate",on:{click:function(o){e.operateDevice(1,!1,t)}}},[o("i",{staticClass:"hasIcon hasImg",staticStyle:{"margin-top":"0"}},[o("icon",{attrs:{name:"edit"}})],1),e._v("\n                  编辑\n                ")]):e._e()]):e._e()]),e._v(" "),[o("ul",{staticClass:"form-list detail-list",staticStyle:{background:"#305ea0",position:"relative"}},e._l(e.getDeviceDetail(t),function(t,a){return t.unShow?e._e():o("li",[o("span",{staticClass:"label-span",staticStyle:{"min-width":"7.2em"}},[o("span",[e._v(e._s(t.name)+" :  ")])]),e._v(" "),o("span",{staticClass:"label-span",staticStyle:{"max-width":"calc(100% - 8em)"},attrs:{title:e.getValues(e.getValue(t.value))},domProps:{innerHTML:e._s("html"===t.show?t.value:e.getValue(t.value))}})])}))],e._v(" "),"07"===e.deviceType&&2!=t.localControl?[o("div",{staticClass:"list-header",staticStyle:{border:"0","margin-top":"0.4em"}},[o("i",{staticClass:"hasIcon hasImg"},[o("img",{attrs:{src:"dist/img/file/user-information.png"}})]),e._v("\n                开户资料\n              ")]),e._v(" "),0!==t.isAccount?[o("ul",{staticClass:"form-list detail-list"},e._l(e.getDeviceAccountInfo(t),function(t,a){return o("li",{staticStyle:{margin:"0.05em 1em 0.05em 0"}},[o("span",{staticClass:"label-span",staticStyle:{"min-width":"7.2em"}},[o("span",[e._v(e._s(t.name)+" :  ")])]),e._v(" "),o("span",{staticClass:"label-span",staticStyle:{"max-width":"calc(100% - 8em)"},attrs:{title:t.value}},[e._v(e._s(e.getValue(t.value)))])])}))]:[o("div",{staticClass:"emptyDivShow",staticStyle:{"padding-left":"2em"}},[o("span",[e._v(" 您还没有开户！ ")]),e._v(" "),e.controls[14]?o("button",{staticClass:"list-operate",on:{click:function(o){e.openAccount(t)}}},[o("i",{staticClass:"hasIcon"},[o("icon",{attrs:{name:"credit-card-alt"}})],1),e._v("\n                    开户\n                  ")]):e._e()])]]:e._e()],2)]:e._e()}),e._v(" "),e.deviceRecords[e.deviceType]&&0===e.deviceRecords[e.deviceType].length?[o("div",{staticClass:"list-header",staticStyle:{border:"0"}},[o("i",{staticClass:"hasIcon hasImg"},[o("img",{attrs:{src:"dist/img/file/electric.png"}})]),e._v("\n            "+e._s(e.tabs[e.tabIndex].name)+"资料\n          ")]),e._v(" "),o("div",{staticClass:"emptyDivShow",staticStyle:{"padding-left":"2em"}},[o("span",[e._v(" 您还没有"+e._s(e.tabs[e.tabIndex].name))]),e._v(" "),e.controls[2]?o("button",{staticClass:"list-operate",on:{click:function(t){e.operateDevice(0)}}},[o("i",{staticClass:"hasIcon"},[o("icon",{attrs:{name:"plus-circle"}})],1),e._v("\n              添加\n            ")]):e._e()])]:e._e()],2)],1)]):e._e(),e._v(" "),o("openCard",{ref:"openCards",on:{getAccountInfo:e.getAccountInfo}}),e._v(" "),e.showOperate?o("operateDevice",{ref:"operateDevices",attrs:{deviceType:e.deviceType,deviceInfo:e.deviceInfo},on:{getNewDevice:e.copyNewDeviceType}}):e._e(),e._v(" "),o("dialogs",{ref:"alerts",attrs:{type:"alert"}}),e._v(" "),o("dialogs",{ref:"confirms",attrs:{type:"confirm"}}),e._v(" "),o("dialogs",{ref:"loadings",attrs:{type:"loading"}}),e._v(" "),e.showOperates?o("dialogs",{ref:"changeDevice",staticClass:"changeTable",attrs:{type:"customer",width:"54em",overflow:"auto"}},[o("div",{attrs:{slot:"header"},slot:"header"},[e._v("\n      更换"+e._s(e.getEnumItem("deviceType",e.deviceType||"07").text)+"\n    ")]),e._v(" "),o("div",{staticStyle:{"max-height":"18em","margin-top":"-1em","font-size":"0.94em"},attrs:{slot:"content"},slot:"content"},[o("table",{staticClass:"form-list table-list special-table"},[o("tr",{staticClass:"table-header"},[o("th",{attrs:{width:"13%"}},[e._v("类型")]),e._v(" "),o("th",[e._v("旧表信息")]),e._v(" "),o("th",[e._v("新表信息")])]),e._v(" "),e._l(e.changeDeviceList,function(t,a){return t.isShow?o("tr",[o("td",[t.isEmpty?e._e():o("label",{staticClass:"label-span emptyTips"},[e._v(" * ")]),e._v(" "),t.isEmpty?o("label",{staticClass:"label-span emptyTips"},[e._v("   ")]):e._e(),e._v("\n            "+e._s(t.label)+"\n          ")]),e._v(" "),o("td",{staticStyle:{"text-align":"left"},style:{padding:"0.2em 0.4em 0.2em 1em"}},[t.dataValue1.value?o("label",{staticClass:"label-span",staticStyle:{"padding-left":"0.6em"}},[e._v(e._s(t.dataValue1.value))]):e._e(),e._v(" "),t.dataValue1.options&&!t.dataValue1.unshow?[void 0!==t.dataValue3?o("span",{staticStyle:{"padding-left":"0.5em","font-size":"12px"}},[e._v(" "+e._s(t.dataValue3)+"（"+e._s(e.oldDevice.localDataTime)+"）")]):e._e(),e._v(" "),t.dataValue1.unshow?e._e():o("inputs",{ref:t.dataValue1.options.key,refInFor:!0,attrs:{isEmpty:t.isEmpty,option:t.dataValue1.options},on:{getInput:e.getFrom}})]:e._e()],2),e._v(" "),o("td",{style:{padding:void 0!==t.dataValue3?"1.6em 0.4em 0.4em 1em":"0.2em 0.4em 0.3em 1em"}},["input"===t.dataValue2.type?[o("inputs",{directives:[{name:"show",rawName:"v-show",value:!t.dataValue2.unshow,expression:"!value.dataValue2.unshow"}],ref:t.dataValue2.options.key,refInFor:!0,attrs:{option:t.dataValue2.options,isEmpty:t.isEmpty},on:{getInput:e.getFrom}})]:e._e(),e._v(" "),"select"===t.dataValue2.type?[o("selects",{ref:t.dataValue2.options.key,refInFor:!0,attrs:{option:t.dataValue2.options},on:{getSelect:e.getFrom}})]:"complexInput"===t.dataValue2.type?[o("selects",{ref:t.dataValue2.options[0].key,refInFor:!0,attrs:{option:t.dataValue2.options[0]},on:{getSelect:e.getFrom}}),e._v(" "),o("inputs",{ref:t.dataValue2.options[1].key,refInFor:!0,attrs:{option:t.dataValue2.options[1],isEmpty:t.isEmpty},on:{getInput:e.getFrom}})]:e._e()],2)]):e._e()})],2)]),e._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("ul",{staticClass:"form-list",staticStyle:{padding:"0.5em 1.5em","font-size":"0.94em"}},[o("li",{staticStyle:{width:"100%"}},[o("label",{staticClass:"label-span"},[o("span",{staticClass:"emptyTips"},[e._v(" * ")]),e._v("更换原因： ")]),e._v(" "),o("inputs",{ref:e.changeRemark.key,staticStyle:{"font-size":"1.19em"},attrs:{option:e.changeRemark,isEmpty:e.changeRemark.isEmpty},on:{getInput:e.getFrom}})],1)]),e._v(" "),o("button",{staticClass:"button-default",staticStyle:{"margin-top":"0"},on:{click:e.submitChange}},[e._v("提交")]),e._v(" "),o("button",{staticClass:"button-default cancel-button",staticStyle:{"margin-top":"0"},on:{click:e.closeDialog}},[e._v("取消")])])]):e._e(),e._v(" "),e.showChangeInfo?o("dialogs",{ref:"editUserInfo",attrs:{type:"customer",width:"45em",overflow:"auto",maxHeight:"600px"}},[o("div",{attrs:{slot:"header"},slot:"header"},[e._v("\n      用户信息修改\n    ")]),e._v(" "),o("div",{attrs:{slot:"content"},slot:"content"},[o("div",{staticClass:"list-header",staticStyle:{"padding-bottom":"0.5px"}},[o("ul",{staticClass:"simpleCstTab"},e._l(e.tabCustomerInfos,function(t,a){return o("li",{on:{click:function(t){e.cstTabClick(a)}}},[o("span",{class:{selTab:a==e.cstTabIndex}},[e._v(e._s(t.name))])])}))]),e._v(" "),o("div",{staticClass:"tabCstContent"},[0==e.cstTabIndex?o("div",[o("ul",{staticClass:"dialog-ul",staticStyle:{"font-size":"0.94em"}},e._l(e.changeUserInfo,function(t,a){return t.unShow?e._e():o("li",{staticClass:" formList ",class:t.classes},[t.isEmpty?e._e():o("label",{staticClass:"label-show",staticStyle:{"min-width":"6em"}},[o("span",{staticClass:"emptyTips"},[e._v(" * ")]),e._v(" "+e._s(t.label)+" ")]),e._v(" "),t.isEmpty?o("label",{staticClass:"label-show",staticStyle:{"min-width":"6em"}},[o("span",[e._v(" ")]),e._v(e._s(t.label)+" ")]):e._e(),e._v(" "),"input"===t.type?o("inputs",{ref:t.option.key,refInFor:!0,attrs:{isEmpty:t.isEmpty,option:t.option},on:{getInput:e.getFrom}}):e._e(),e._v(" "),"select"===t.type?o("selects",{ref:t.option.key,refInFor:!0,attrs:{option:t.option},on:{getSelect:e.getFrom}}):e._e()],1)}))]):e._e(),e._v(" "),1==e.cstTabIndex?o("div",[o("msgPhone",{ref:"editCstPhones",attrs:{optType:"edit",customerInfo:e.customerInfo},on:{closeWin:e.closeChangeInfo,eidtContact:e.eidtCstContact,getUserPhone:e.getStaffInfo}})],1):e._e(),e._v(" "),2==e.cstTabIndex?o("div",[o("table",{staticClass:"table-list",staticStyle:{margin:"0.5em 0.5em",width:"100%"}},[o("tr",{staticClass:"table-header"},[o("th",{staticStyle:{width:"50px"}}),e._v(" "),o("th",{},[e._v("电话号码")]),e._v(" "),o("th",{},[e._v("用户表号")]),e._v(" "),o("th",{},[e._v("表计户号")]),e._v(" "),o("th",{},[e._v("备注信息")]),e._v(" "),o("th",{},[e._v("操作")])]),e._v(" "),e._l(e.wxBinds,function(t,a){return o("tr",[o("td",[o("input",{attrs:{type:"checkbox"},domProps:{checked:t.isSel},on:{click:function(o){o.stopPropagation(),e.getSelectPhone(t,a)}}})]),e._v(" "),o("td",[e._v(e._s(t.phone))]),e._v(" "),o("td",[e._v(e._s(t.deviceNo))]),e._v(" "),o("td",[e._v(e._s(t.meterUserNo))]),e._v(" "),o("td",[e._v(e._s(t.remark))]),e._v(" "),o("td",{staticStyle:{cursor:"pointer",color:"rgb(105, 164, 231)","text-decoration":"underline"},on:{click:function(o){e.cstPhoneDel(t)}}},[e._v("解绑")])])})],2),e._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("button",{staticClass:"button-default",on:{click:e.delWxBind}},[e._v("解绑")]),e._v(" "),o("button",{staticClass:"button-default cancel-button",on:{click:e.closeChangeInfo}},[e._v("关闭")])])]):e._e()])]),e._v(" "),0==e.cstTabIndex?o("div",{attrs:{slot:"footer"},slot:"footer"},[o("button",{staticClass:"button-default",on:{click:e.saveEdit}},[e._v("提交")]),e._v(" "),o("button",{staticClass:"button-default cancel-button",on:{click:e.closeChangeInfo}},[e._v("关闭")])]):e._e()]):e._e(),e._v(" "),e.showCompare?o("dialogs",{ref:"showDevieConfig",staticClass:"cogs",attrs:{type:"customer",width:"46em",overflow:"auto"}},[o("div",{attrs:{slot:"header"},slot:"header"},[e._v("\n      读取结果显示\n    ")]),e._v(" "),o("div",{attrs:{slot:"content"},slot:"content"},[o("table",{staticClass:"table-list",staticStyle:{width:"90%",margin:"0 5%"}},[o("tr",{staticClass:"table-header"},[o("th",{staticStyle:{width:"100px"}}),e._v(" "),o("th",{staticStyle:{width:"100px"}},[e._v("主站")]),e._v(" "),o("th",{staticStyle:{width:"120px"}},[e._v("集中器")])]),e._v(" "),e._l(e.deviceConfigRowData,function(t){return o("tr",[o("td",[e._v(e._s(t.name))]),e._v(" "),o("td",[e._v(e._s(t.value1))]),e._v(" "),o("td",{style:{color:t.value2!=t.value1?"#EC3935":"white"}},[e._v(e._s(t.value2))])])})],2)]),e._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("button",{staticClass:"button-default",attrs:{type:"button"},on:{click:function(t){e.issueDevice(e.currentConfigDevice)}}},[o("i",{staticClass:"hasIcon"},[o("icon",{staticStyle:{"font-size":"1.5em"},attrs:{name:"indent"}})],1),e._v("\n        重新下发\n      ")])])]):e._e()],1)},i=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("i",{staticClass:"hasIcon hasImg"},[o("img",{attrs:{src:"dist/img/file/user-message.png"}})])}],r={render:a,staticRenderFns:i};t.a=r},762:function(e,t,o){"use strict";function a(e){o(763)}var i=o(648),r=o(765),s=o(31),n=a,l=s(i.a,r.a,!1,n,null,null);t.a=l.exports},763:function(e,t,o){var a=o(764);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o(33)("3a90415c",a,!0,{})},764:function(e,t,o){t=e.exports=o(32)(!1),t.push([e.i,".form-list .tabSelected{background:transparent!important;color:#fff;outline:none}.hasDeviceOpe{font-size:.875em}",""])},765:function(e,t,o){"use strict";var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"info-div"},[o("div",{staticClass:"info-header",staticStyle:{top:"2%",left:"2em"}},[o("span",{staticClass:"callback",on:{click:e.resetComponent}},[e._v("用户档案 ")]),e._v(" "),o("span",[e._v(" > 添加档案")])]),e._v(" "),o("VuePerfectScrollbar",{staticClass:"info-container"},[o("div",{staticClass:"list-content detail-content "},[o("div",{staticClass:"list-header"},[o("i",{staticClass:"hasIcon hasImg"},[o("img",{attrs:{src:"dist/img/file/user-message.png"}})]),e._v("\n        用户信息\n        "),o("button",{staticClass:"list-operate",on:{click:e.deviceSubmit}},[o("i",{staticClass:"hasIcon"},[o("icon",{attrs:{name:"save"}})],1),e._v("提交\n        ")])]),e._v(" "),o("ul",{staticClass:"form-list",staticStyle:{"margin-top":"1em"}},e._l(e.formOpt,function(t,a){return t.unShow?e._e():o("li",{staticStyle:{margin:"0.2em 0.5em"}},[t.isEmpty?e._e():o("span",{staticClass:"label-show ",staticStyle:{"min-width":"6em"}},[o("span",{staticClass:"emptyTips"},[e._v("*")]),e._v(e._s(t.name)+"   ")]),e._v(" "),t.isEmpty?o("span",{staticClass:"label-show ",staticStyle:{"min-width":"6em"}},[o("span",[e._v("  ")]),e._v(e._s(t.name)+"   ")]):e._e(),e._v(" "),"input"==t.style&&"combineInput"!==t.option.type?o("inputs",{ref:t.option.key,refInFor:!0,attrs:{isEmpty:t.isEmpty,option:t.option},on:{getInput:e.getFrom}}):e._e(),e._v(" "),"input"==t.style&&"combineInput"===t.option.type?o("inputs",{ref:t.option.key,refInFor:!0,attrs:{option:t.option},on:{editInput:e.editUserPhone}}):e._e(),e._v(" "),"select"==t.style?o("selects",{ref:t.option.key,refInFor:!0,attrs:{option:t.option},on:{getSelect:e.getFrom}}):e._e()],1)}))]),e._v(" "),o("div",{staticClass:"list-content detail-content ",staticStyle:{height:"calc(100% - 18em)"}},[o("div",{staticClass:"list-header"},[o("i",{staticClass:"hasIcon hasImg"},[o("img",{attrs:{src:"dist/img/file/add-equipment-icon.png"}})]),e._v("\n        添加设备\n      ")]),e._v(" "),o("ul",{staticClass:"form-list",staticStyle:{height:"calc(100% - 2.5em)"}},[o("li",{staticStyle:{width:"calc(100% - 2em)"}},[o("span",{directives:[{name:"show",rawName:"v-show",value:!e.noDataTips,expression:"!noDataTips"}]},[e._v("您并没有设备！")]),e._v(" "),e._l(e.tabOpt,function(t,a){return o("button",{staticClass:"list-operate hasDeviceOpe",class:{tabSelected:e.tabIndex==a},on:{click:function(o){e.getTab(t,a)}}},[o("i",{staticClass:"hasIcon"},[o("icon",{attrs:{name:"plus-circle"}})],1),e._v("\n            "+e._s(t.text)+"\n          ")])})],2),e._v(" "),o("li",{staticStyle:{width:"calc(100% - 2em)",height:"calc(100% - 4em)","margin-top":"0"}},[o("table",{directives:[{name:"show",rawName:"v-show",value:e.noDataTips,expression:"noDataTips"}],staticClass:"form-list table-list",staticStyle:{width:"96%","font-size":"0.875em","margin-top":"0","margin-left":"2%"}},[o("thead",[o("tr",[o("th",{staticStyle:{width:"5%"}},[e._v("序号")]),e._v(" "),o("th",{staticStyle:{width:"12%"}},[e._v("设备类型")]),e._v(" "),o("th",{staticStyle:{width:"13%"}},[e._v("表号")]),e._v(" "),o("th",{staticStyle:{width:"13%"}},[e._v("集中器号")]),e._v(" "),o("th",{staticStyle:{width:"14%"}},[e._v("表计户号")]),e._v(" "),o("th",{staticStyle:{width:"23%"}},[e._v("安装位置")]),e._v(" "),o("th",{staticStyle:{width:"20%"}},[e._v("操作")])])])]),e._v(" "),o("VuePerfectScrollbar",{staticStyle:{"max-height":"calc(100% - 4em)",width:"96%",position:"relative",top:"-0.3em","margin-left":"2%"}},[o("table",{directives:[{name:"show",rawName:"v-show",value:e.noDataTips,expression:"noDataTips"}],staticClass:"form-list table-list",staticStyle:{"font-size":"0.875em","margin-top":"0","border-top":"0",width:"100%",margin:"0"}},[o("tbody",e._l(e.deviceData,function(t,a){return o("tr",[o("td",{staticStyle:{width:"5%"}},[e._v(e._s(a+1))]),e._v(" "),o("td",{staticStyle:{width:"12%"}},[e._v(e._s(e.getTabText(t.deviceType)))]),e._v(" "),o("td",{staticStyle:{width:"13%"}},[e._v(e._s(t.deviceNo))]),e._v(" "),o("td",{staticStyle:{width:"13%"}},[e._v(e._s(t.jzqNo))]),e._v(" "),o("td",{staticStyle:{width:"14%"}},[e._v(e._s(t.meterUserNo))]),e._v(" "),o("td",{staticStyle:{width:"23%"}},[e._v(e._s(t.installAddr))]),e._v(" "),o("td",{staticStyle:{width:"20%"}},[o("button",{staticClass:"list-operate",staticStyle:{"margin-top":"2px",height:"2em"},on:{click:function(t){e.removeDevice(a)}}},[o("i",{staticClass:"hasIcon"},[o("icon",{attrs:{name:"trash"}})],1),e._v("删除\n                  ")]),e._v("\n                  |\n                  "),o("button",{staticClass:"list-operate",staticStyle:{"margin-top":"2px",height:"2em"},on:{click:function(t){e.editDevice(a)}}},[o("i",{staticClass:"hasIcon"},[o("icon",{attrs:{name:"edit"}})],1),e._v("修改\n                  ")])])])}))])])],1)])]),e._v(" "),e.showOperate?o("operateDevice",{ref:"operateDevices",attrs:{deviceType:e.currentDeviceType,deviceInfo:e.deviceInfo,deviceList:e.sendChildDevices},on:{getNewDevice:e.copyNewDeviceType}}):e._e()],1),e._v(" "),e.showCstPhone?o("msgPhone",{ref:"editCstPhones",attrs:{optType:"add",customerInfo:e.customerInfo},on:{getUserPhone:e.getUserPhone}}):e._e()],1)},i=[],r={render:a,staticRenderFns:i};t.a=r},766:function(e,t,o){"use strict";var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{ref:"trys",staticStyle:{height:"calc(100%)"}},[o("div",{staticClass:"all-container noBackAll"},[o("div",{staticClass:"con-left leftTree leftTrees"},[o("ul",{staticStyle:{"font-size":"0.88em"}},[e._l(e.treeData,function(t,a){return e.treeData.length>0?[o("items",{staticClass:"item",attrs:{model:t,textKey:"nodeName",valueKey:e.treeKey,onBrother:!0,isInit:!0},on:{selClicks:e.selNodeClick}})]:e._e()})],2)]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:!e.showAdd&&!e.showInfo,expression:"!showAdd && !showInfo"}],staticClass:"con_center con_centers"},[o("div",{ref:"operateDiv",staticClass:"operate-div"},[e._l(e.FormOpt,function(t,a){return["input"==t.type?o("inputs",{ref:"inputs",refInFor:!0,attrs:{option:t.options},on:{getInput:e.getFrom}}):e._e()]})],2),e._v(" "),o("div",{staticClass:"operate-div operateBtn"},[""!==e.searchParam.nodeName?o("button",{staticClass:"button-operate",on:{click:e.removeTreeSelect}},[e._v("\n             已选择"+e._s(e.searchParam.nodeName.replace(/\(.*?\)/g,""))+"\n            "),e._m(0)]):e._e(),e._v(" "),e.controls[1]?o("button",{staticClass:"button-operate",on:{click:e.addUser}},[e._m(1),e._v("添加\n          ")]):e._e(),e._v(" "),e.controls[3]?o("button",{staticClass:"button-operate",on:{click:e.removeUser}},[e._m(2),e._v("删除\n          ")]):e._e(),e._v(" "),e.controls[8]?o("button",{staticClass:"button-operate",on:{click:e.issuedUser}},[e._m(3),e._v("下发\n          ")]):e._e(),e._v(" "),e.controls[9]?o("button",{staticClass:"button-operate",on:{click:e.importUser}},[e._m(4),e._v("导入\n          ")]):e._e()]),e._v(" "),o("div",{ref:"myOwnTable",staticClass:"table-container",style:{height:e.tableHeight||"calc(100% - 4.5em)"}},[e.showTable?o("tables",{ref:"myTable",staticClass:"tablePadding",attrs:{tableOpt:e.TableOpt},on:{rowDbClick:e.clickTableRow}}):e._e()],1)]),e._v(" "),e.showInfo?o("div",{staticClass:"con_center con_centers"},[o("staffInfo",{ref:"infoDetail",attrs:{row:e.row,controls:e.controls},on:{closeDiv:e.closeDiv}})],1):e._e(),e._v(" "),e.showAdd?o("div",{staticClass:"con_center con_centers"},[o("staffAdd",{attrs:{row:e.row,controls:e.controls,buildNo:2==e.searchParam.nodeType?e.searchParam.nodeNo:"",departNo:1==e.searchParam.nodeType?e.searchParam.nodeNo:e.searchParam.pNodeNo},on:{closeDiv:e.closeDiv}})],1):e._e()]),e._v(" "),e.showDialog?o("dialogs",{ref:"resolute",attrs:{type:"customer",width:"30em"}},[o("div",{attrs:{slot:"header"},slot:"header"},[e._v("\n      导入结果\n    ")]),e._v(" "),o("div",{attrs:{slot:"content"},slot:"content"},[o("p",{staticStyle:{"font-size":"16px","text-align":"center","line-height":"40px"}},[e._v(" 客户资料成功导入"),o("b",[e._v("\n        "+e._s(e.importInfo.successCount)+" ")]),e._v("户， 失败 "),o("b",[e._v(e._s(e.importInfo.failCount)+" ")]),e._v("户；")])]),e._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"},[e.importInfo.failCount>0?o("button",{staticClass:"button-default",attrs:{"data-dismiss":"modal"},on:{click:e.importFailExcel}},[e._v("下载失败资料\n      ")]):e._e(),e._v(" "),o("button",{staticClass:"button-default",on:{click:e.closeDialog}},[e._v("关闭")])])]):e._e(),e._v(" "),o("dialogs",{ref:"alerts",attrs:{type:"alert"}}),e._v(" "),o("dialogs",{ref:"loadings",attrs:{type:"loading"}}),e._v(" "),o("dialogs",{ref:"progress",attrs:{type:"loading"}}),e._v(" "),o("dialogs",{ref:"conformDialog",attrs:{type:"confirm"}}),e._v(" "),o("fileInput",{ref:"uploadTarget",attrs:{upLoadAttrParam:e.upLoadFile.upLoadAttrite,ForthwithLoadParam:e.upLoadFile.ForthwithLoad},on:{upLoadFileFunc:e.analyzeExcel}})],1)},i=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("i",{staticClass:"hasIcon hasImg",staticStyle:{float:"right","margin-right":"0","margin-left":"0.6em"}},[o("img",{attrs:{src:"dist/img/face/close-icon.png"}})])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("i",{staticClass:"hasIcon hasImg"},[o("img",{attrs:{src:"dist/img/file/add-user-button.png"}})])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("i",{staticClass:"hasIcon hasImg"},[o("img",{attrs:{src:"dist/img/file/delete-user-button.png"}})])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("i",{staticClass:"hasIcon hasImg"},[o("img",{attrs:{src:"dist/img/file/load-file-button.png"}})])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("i",{staticClass:"hasIcon hasImg"},[o("img",{attrs:{src:"dist/img/file/reload-file-buttton.png"}})])}],r={render:a,staticRenderFns:i};t.a=r}});
//# sourceMappingURL=0.build.js.map