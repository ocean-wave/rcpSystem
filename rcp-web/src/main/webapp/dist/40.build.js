webpackJsonp([40],{478:function(e,t,r){"use strict";function a(e){r(870)}Object.defineProperty(t,"__esModule",{value:!0});var o=r(707),s=r(872),i=r(31),l=a,n=i(o.a,s.a,!1,l,null,null);t.default=n.exports},707:function(e,t,r){"use strict";t.a={data:function(){return{showDialog:!1,operate:0,tableHeight:"",searchParam:{userName:"",userMobile:"",roleName:""},deepSearchData:[],controls:[],searchType:"userName",selected:"",FormOpt:[{type:"input",options:{type:"typeSearch",key:"searchParam",selectOpt:{width:"7em",cs:"client",data:[{text:"人员姓名",value:"userName"},{text:"联系电话",value:"userMobile"},{text:"人员角色",value:"roleName"}],text:"text",value:"value",key:"searchType"}}}],TableOpt:{rowName:"data",column:[{field:"state",type:"checkBox",textAlign:"center",width:"40"},{title:"姓名",field:"userName",textAlign:"center"},{title:"电话",field:"userMobile",textAlign:"center"},{title:"登录名",field:"loginName",textAlign:"center"},{title:"角色",field:"roleName",textAlign:"center"},{title:"部门机构",field:"orgName",textAlign:"center"},{title:"邮箱",field:"userMail",textAlign:"center"}],url:"user/queryList",method:"post",pageSize:20,pageNumber:1,pageList:[20,40,60],height:document.body.clientHeight-360},formData:{remark:"",userName:"",roleId:"",loginName:"",userMobile:"",userMail:"",orgNo:"",orgName:"",userId:0,dataOrgList:"",dataOrgNameList:""}}},component:{},methods:{getFrom:function(e){e.combine?this.searchParam[e.key.split(".")[1]]!==e.val&&(this.searchParam=this.cleanSearchData(this.searchParam),this.getOption(e,!0),this.getParams(1)):("formData.orgNo"==e.key&&(this.formData.orgName=e.text),this.getOption(e,!0))},removeSearchData:function(e){var t=this.deepSearchData[e].key;this.searchParam[t]=this.$refs.inputs[0].search="",this.getParams(1)},submitData:function(){var e=this;if(""==this.formData.dataOrgList.toString())return void e.alerts.show({msg:"管辖区域不能为空"});this.formData.dataOrgList=this.formData.dataOrgList.toString().split(",");var t=void 0,r=void 0;switch(e.operate){case 0:t=["userName","roleId","loginName","userMobile","userPassword","orgNo","dataOrgList"],r="user/add";break;case 1:t=["userName","roleId","loginName","userMobile","orgNo","dataOrgList"],r="user/edit",this.formData.userId=this.formData.id}e.regularTest({emptyKey:t,prefix:"formData",callback:function(){e.getRequest({url:r,method:"post",param:e.formData,success:function(t){e.cancelDialog(),e.alerts.show({msg:t.message}),e.refreshTable()},error:function(t){e.alerts.show({msg:t.message})}})}})},operateUser:function(e){var t=this;null!==e?(t.operate=1,t.formData=t.extendObj(t.formData,e)):(t.operate=0,t.formData=t.cleanSearchData(t.formData)),t.showDialog=!0,setTimeout(function(){t.$refs.addUser.show()})},removeUser:function(){var e=this;this.getConfirm({emptyMsg:"请先选择要删除的人员!",confirmMsg:"确定要删除选中的人员",callback:{confirm:function(){e.deleteUser()}}})},resetSearch:function(){var e=this;e.$refs.inputs[0].search="",e.searchParam=e.cleanSearchData(this.searchParam),e.getParams(1)},deleteUser:function(){var e=this;this.deleteData({url:"user/delete",params:["id"],callback:function(t){e.resetSearch()}})},refreshTable:function(){this.getParams(1)},getParams:function(e){this.deepSearchData=[];var t=this.getSearchData(this.searchParam),r="";for(var a in t){var o=t[a];switch(a){case"userName":r="人员姓名";break;case"userMobile":r="联系电话";break;case"roleName":r="人员角色"}this.deepSearchData.push({label:r,value:o,key:a,flag:!0})}this.getHeight(),this.searchTable(t,e)},clickTableRow:function(e){this.operateUser(e.val)},cancelDialog:function(){this.formData=this.cleanSearchData(this.formData),this.showDialog=!1,this.$refs.addUser.close()},windowChange:function(){this.getHeight()},init:function(){}},computed:{alerts:function(){return this.$refs.alerts},dialogFrom:function(){var e=this.formData;1==this.operate&&e.dataOrgList instanceof Array&&(e.dataOrgList=e.dataOrgList.join(",")),1==this.operate&&e.dataOrgNameList instanceof Array&&(e.dataOrgNameList=e.dataOrgNameList.join(","));var t="calc(100% - 6em)";return[{classes:"halfWidth",type:"select",label:"部门机构",isEmpty:!1,options:{type:"complexSelect",key:"formData.orgNo",cs:"server",width:t,url:"org/queryOrgTreeInfo",method:"post",text:"orgName",value:"orgNo",constant:1===this.operate?{orgName:e.orgName,orgNo:e.orgNo}:"",rowName:"data"}},{classes:"halfWidth hasMarginLi",type:"input",isEmpty:!1,label:"人员姓名",options:{width:t,type:"normalInput",value:e.userName||"",placeHolder:"可包含中英文、下划线",key:"formData.userName",regular:"name",length:20,errorMsg:"人员姓名：不允许输入@、#等特殊字符"}},{classes:"halfWidth",type:"select",isEmpty:!1,label:"人员角色",options:{key:"formData.roleId",cs:"server",url:"role/queryAll",method:"post",width:t,constant:1===this.operate?{id:e.roleId}:"",text:"roleName",value:"id",rowName:"data"}},{classes:"halfWidth hasMarginLi",type:"input",isEmpty:!0,label:"人员邮箱",options:{type:"normalInput",value:e.userMail||"",placeHolder:"如：11636567@qq.com",length:30,width:t,key:"formData.userMail",regular:"email",errorMsg:"邮箱格式：如1139725780@qq.com"}},{classes:"halfWidth",type:"input",isEmpty:!1,label:"联系电话",options:{width:t,type:"normalInput",value:e.userMobile||"",placeHolder:"11位数字",length:13,key:"formData.userMobile",regular:"phone",errorMsg:"联系方式为11位手机号或者座机号",limit:"phone"}},{classes:"halfWidth hasMarginLi",type:"input",isEmpty:!1,label:"登录账号",options:{width:t,type:0===this.operate?"normalInput":"disabledInput",value:e.loginName||"",placeHolder:"不超过20个字符",length:20,key:"formData.loginName",regular:"name",errorMsg:"登录账号：不允许输入@、#等特殊字符"}},{classes:"halfWidth",type:"input",isEmpty:!1,unShow:1===this.operate,label:"登录密码",options:{width:t,type:"normalInput",value:e.userPassword,placeHolder:"至少5位，不包含文字，可输入特殊字符@ # $ ! % ^ & * （英式键盘）",length:20,key:"formData.userPassword",regular:"password",errorMsg:"登录密码：至少5位，不包含文字，可输入特殊字符@ # $ ! % ^ & * （英式键盘）"}},{classes:1===this.operate?"allWidth":"halfWidth hasMarginLi",type:"select",label:"管辖区域",isEmpty:!1,options:{type:"complexSelect",MultiSelect:!0,key:"formData.dataOrgList",cs:"server",width:t,url:"org/queryOrgTreeInfo",param:{orgNo:this.formData.orgNo},method:"post",text:"orgName",value:"orgNo",constant:1===this.operate?{orgNo:e.dataOrgList,orgName:e.dataOrgNameList}:"",rowName:"data"}},{classes:"allWidth",type:"input",isEmpty:!0,label:"备注信息",options:{width:t,type:"textArea",value:e.remark||"",placeHolder:"不超过200个字符",key:"formData.remark",regular:"remark",errorMsg:"备注：200个任意字符"}}]}},mounted:function(){this.isIn(),this.getAction()}}},870:function(e,t,r){var a=r(871);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);r(33)("1466126e",a,!0,{})},871:function(e,t,r){t=e.exports=r(32)(!1),t.push([e.i,'.clearElement,i.hasIcon:after{content:"";width:.1px;height:0;clear:both;display:block}.myThead tr td,.myThead tr th,.textOverflow,.th-td-border td,.th-td-border th{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}svg{font-size:1em;height:1em;width:1.1em}.hover-select{background:#227fde;color:#fff}.hover-select svg{color:#fff;-webkit-text-stroke:1px gray}.hasRadius{border-radius:.4em}.float-right{margin-right:.4em;float:right}button,input,textarea{padding:.4em .9em;border:1px solid #b3b3b3;font-size:.94em;font-weight:200;line-height:1;border-radius:.2em;display:inline-block;background:#0276d9;color:#fff;height:2.75em;font-family:Avenir,Helvetica,Arial,sans-serif}textarea{border-radius:.4em}input,textarea{-moz-box-sizing:border-box;box-sizing:border-box}button{cursor:pointer;border:0;box-shadow:none}h4{margin:8px 0}h3{margin:9px 0}h2{margin:10px 0}h1{margin:12px 0}a.has-decoration:hover,a.has-decoration:visited{text-decoration:underline}a,a:hover,a:visited{cursor:pointer}a,a:hover,a:visited{text-decoration:none}table{border-collapse:collapse}button:focus,input:focus,textarea:focus{outline:none}li,ul{margin:0;list-style-type:none}.myThead tr th,.th-td-border th{position:relative}.myThead tr td,.myThead tr th,.th-td-border td,.th-td-border th{padding:6px;border-right:.08em solid #d3d3d3;border-bottom:.08em solid #d3d3d3;display:table-cell;vertical-align:middle}.myThead tr td:last-child,.myThead tr th:last-child,.th-td-border td:last-child,.th-td-border th:last-child{border-right:0}.line-split{display:block;margin:0 auto;width:.2em;background:linear-gradient(0deg,#fff,#aaa,#fff)}i.hasIcon{display:block;width:1em;height:1.3em;float:left;margin-top:-.3em;margin-right:1em}i.hasIcon img{width:1.8em;height:1.7em}i.hasImg{width:1.502em;height:1.502em;margin-right:.3em;margin-top:0}i.hasImg img{width:100%;height:100%}i.headerImg{width:1.579em;height:1.579em}button.make-cancel,button.make-sure{padding:6px 35px;margin:5px 12px;border:0;color:#fff}.button-operate{margin-right:10px}.button-operate svg{margin-right:.8em;margin-top:0}.button-operate{color:#fff}.button-operate,.make-sure{background:#227fdf}.button-operate:hover{background:#27a5ff}.button-operate:visited{background:#2291e0}button.button-default{height:3em;border-radius:.4em;background-size:100% 100%;min-width:9em;margin:1em 2em;border:0;background:#227fdf}.label-show{float:left;min-width:5em;height:2.79em;padding-right:5px;line-height:2.79;text-align:right;margin-left:-.9em;margin-right:.2em}.label-show+.myInput{float:left}button.button-noBack{background:transparent;border:1px solid #b3b3b3;color:#4d4d4d}button.make-cancel{background:#ee891f}button.button-noBack:hover{background:#f2faff;color:#1793eb;border-color:#59b0ee}button.btn-group-left{margin:0 -4px 0 0!important;border-top-right-radius:0!important;border-bottom-right-radius:0!important}button.btn-group-right{margin:0!important;border-left:0;border-top-left-radius:0!important;border-bottom-left-radius:0!important}button.btn-group-left.selected,button.btn-group-right.selected{background:#1793eb;color:#fff;border:0}button.cancel-button{background:#d38642}i.special{float:right;margin-top:-2px;margin-right:-8px;color:#fff}.button-remove{background:transparent;color:#ff6943;border:1px solid #ff6943}.button-remove:hover{background:#f76945;color:#fff}.split-span{float:left;color:#fff;margin:5px 8px;font-size:1.6em}.myThead{-moz-user-select:none;-webkit-user-select:none;user-select:none}.myThead,.myThead tr{border-top-left-radius:.6em;border-top-right-radius:.6em}.myThead tr{color:#fcfefd}.myThead tr th{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;padding:1em .8em 1em .4em;border:0}.myThead tr th .trBorder{cursor:e-resize}.myThead tr th:first-child{border-top-left-radius:.6em}.myThead tr th:last-child{border-top-right-radius:.6em}.myThead tr div.sortIcon{position:absolute;right:.7em;top:calc(50% - .45em);color:#fff;cursor:default}.myThead tr div.sortIcon span{cursor:pointer;display:block;width:0;height:0;border-left:.35em solid transparent;border-right:.35em solid transparent}.myThead tr div.sortIcon span.sortUp{border-bottom:.47em solid #fffdfe}.myThead tr div.sortIcon span.ascSelected,.myThead tr div.sortIcon span.sortUp:hover{border-bottom:.47em solid #1793eb}.myThead tr div.sortIcon span.sortDown{border-top:.47em solid #fffdfe;margin-top:.118em}.myThead tr div.sortIcon span.descSelected,.myThead tr div.sortIcon span.sortDown:hover{border-top:.47em solid #1793eb}input:-ms-input-placeholder{color:hsla(0,0%,100%,.4)}input::-webkit-input-placeholder{color:hsla(0,0%,100%,.4)}input::-moz-placeholder{color:hsla(0,0%,100%,.4)}textarea:-ms-input-placeholder{color:hsla(0,0%,100%,.4);font-family:Avenir,Helvetica,Arial,sans-serif}textarea::-webkit-input-placeholder{color:hsla(0,0%,100%,.4);font-family:Avenir,Helvetica,Arial,sans-serif}textarea::-moz-placeholder{color:hsla(0,0%,100%,.4);font-family:Avenir,Helvetica,Arial,sans-serif}input.checkBox+.myCheckbox{top:-.2em;margin:0 1.5em 0 .5em;position:relative}.myCheckbox:before{content:"";display:block;position:absolute;background:#fff;left:-1em;top:0;width:1em;height:1em;border:1px solid hsla(0,0%,100%,.7);border-radius:30%}input:checked+.myCheckbox:before{content:"\\2714";font-size:1em;text-align:center;line-height:.9;color:#3a7dc3}.myCheckBox:before{border-width:1.5px;border-color:#3a7dc3}input:checked+.myCheckBox:before{color:#3a7dc3}input.checkBox{position:relative;top:0;left:.4em;z-index:2;opacity:0;cursor:pointer;height:2em}@media screen and (max-width:1366px){body{font-size:12px}body .login-input input{width:21em}}@media screen and (min-width:1367px) and (max-width:1700px){body{font-size:14px}}@media screen and (min-width:1701px) and (max-width:1920px){body{font-size:17px}}.ps{-ms-touch-action:auto;touch-action:auto;overflow:hidden!important;-ms-overflow-style:none}@supports (-ms-overflow-style:none){.ps{overflow:auto!important}}@media (-ms-high-contrast:none),screen and (-ms-high-contrast:active){.ps{overflow:auto!important}}.ps.ps--active-x>.ps__scrollbar-x-rail,.ps.ps--active-y>.ps__scrollbar-y-rail{display:block;background-color:transparent}.ps.ps--in-scrolling.ps--x>.ps__scrollbar-x-rail{background-color:transparent;opacity:.9}.ps.ps--in-scrolling.ps--x>.ps__scrollbar-x-rail>.ps__scrollbar-x{background-color:hsla(0,0%,100%,.2);height:8px}.ps.ps--in-scrolling.ps--y>.ps__scrollbar-y-rail{background-color:transparent;opacity:.9}.ps.ps--in-scrolling.ps--y>.ps__scrollbar-y-rail>.ps__scrollbar-y{background-color:hsla(0,0%,100%,.2);width:10px}.ps>.ps__scrollbar-x-rail{display:none;position:absolute;opacity:0;transition:background-color .2s linear,opacity .2s linear;bottom:0;height:12px;z-index:2}.ps>.ps__scrollbar-x-rail>.ps__scrollbar-x{position:absolute;background-color:hsla(0,0%,100%,.2);border-radius:6px;transition:background-color .2s linear,height .2s linear,width .2s ease-in-out,border-radius .2s ease-in-out;bottom:2px;height:6px}.ps>.ps__scrollbar-x-rail:active>.ps__scrollbar-x,.ps>.ps__scrollbar-x-rail:hover>.ps__scrollbar-x{height:11px}.ps>.ps__scrollbar-y-rail{display:none;position:absolute;opacity:0;transition:background-color .2s linear,opacity .2s linear;right:0;width:11px;z-index:2}.ps>.ps__scrollbar-y-rail>.ps__scrollbar-y{position:absolute;background-color:hsla(0,0%,100%,.2);border-radius:6px;transition:background-color .2s linear,height .2s linear,width .2s ease-in-out,border-radius .2s ease-in-out;right:2px;width:6px}.ps>.ps__scrollbar-y-rail:active>.ps__scrollbar-y,.ps>.ps__scrollbar-y-rail:hover>.ps__scrollbar-y{width:11px}.ps:hover.ps--in-scrolling.ps--x>.ps__scrollbar-x-rail{background-color:transparent;opacity:.9}.ps:hover.ps--in-scrolling.ps--x>.ps__scrollbar-x-rail>.ps__scrollbar-x{background-color:hsla(0,0%,100%,.2);height:11px}.ps:hover.ps--in-scrolling.ps--y>.ps__scrollbar-y-rail{background-color:transparent;opacity:.9}.ps:hover.ps--in-scrolling.ps--y>.ps__scrollbar-y-rail>.ps__scrollbar-y{background-color:hsla(0,0%,100%,.2);width:11px}.ps:hover>.ps__scrollbar-x-rail,.ps:hover>.ps__scrollbar-y-rail{opacity:.6}.ps:hover>.ps__scrollbar-x-rail:hover{background-color:transparent;opacity:.9}.ps:hover>.ps__scrollbar-x-rail:hover>.ps__scrollbar-x{background-color:hsla(0,0%,100%,.2)}.ps:hover>.ps__scrollbar-y-rail:hover{background-color:transparent;opacity:.9}.ps:hover>.ps__scrollbar-y-rail:hover>.ps__scrollbar-y{background-color:hsla(0,0%,100%,.2)}.ps-container{position:relative}.emptyShowPic{text-align:center;font-size:.875em;display:table;width:100%;height:100%}.emptyShowPic div.emptyContent{display:table-cell;vertical-align:middle}.emptyShowPic div.emptyContent img{width:17.75em;height:11.75em}.emptyShowPic div.emptyContent p{margin-top:1em;font-size:.875em}.emptyTips{color:#eb3b3b;font-weight:900;line-height:2.5!important}',""])},872:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"trys",staticClass:"all-container",staticStyle:{height:"calc(100% - 0em)"}},[r("div",{staticClass:"operate-div"},[e._l(e.FormOpt,function(t,a){return["input"==t.type?r("inputs",{ref:"inputs",refInFor:!0,attrs:{option:t.options},on:{getInput:e.getFrom}}):e._e()]})],2),e._v(" "),r("div",{ref:"operateDiv",staticClass:"operate-div operateBtn"},[e.controls[1]?r("button",{staticClass:"button-operate",on:{click:function(t){e.operateUser(null)}}},[e._m(0),e._v("\n      添加人员\n    ")]):e._e(),e._v(" "),e.controls[3]?r("button",{staticClass:"button-operate",on:{click:e.removeUser}},[e._m(1),e._v("删除人员\n    ")]):e._e()]),e._v(" "),e.deepSearchData.length>0?r("div",{ref:"deepFilter",staticClass:"deepFilter"},[r("label",[e._v("筛选条件：")]),e._v(" "),e._l(e.deepSearchData,function(t,a){return[r("span",{staticClass:"deepSearchSpan",style:{"padding-right":t.flag?"1.5em":"0.5em"}},[e._v(e._s(t.label)+"： "+e._s(t.value)+"\n          "),t.flag?r("i",{on:{click:function(t){e.removeSearchData(a)}}},[r("icon",{attrs:{name:"remove",scale:"1"}})],1):e._e()])]})],2):e._e(),e._v(" "),r("div",{ref:"myOwnTable",staticClass:"table-container",style:{height:e.tableHeight||"calc(100% - 6.5em)"}},[r("tables",{ref:"myTable",staticClass:"tablePadding",attrs:{tableOpt:e.TableOpt},on:{rowDbClick:e.clickTableRow}})],1),e._v(" "),r("dialogs",{ref:"conformDialog",attrs:{type:"confirm"}}),e._v(" "),r("dialogs",{ref:"alerts",attrs:{type:"alert"}}),e._v(" "),e.showDialog?r("dialogs",{ref:"addUser",attrs:{type:"customer",width:"46em"}},[r("div",{attrs:{slot:"header"},slot:"header"},[e._v("\n         "+e._s(0===e.operate?"添加人员":"编辑人员")+"\n     ")]),e._v(" "),r("div",{attrs:{slot:"content"},slot:"content"},[r("ul",{staticClass:"dialog-ul"},e._l(e.dialogFrom,function(t,a){return r("li",{directives:[{name:"show",rawName:"v-show",value:!t.unShow,expression:"!item.unShow"}],staticClass:"form-list",class:t.classes},[t.isEmpty?e._e():r("label",{staticClass:"label-show"},[r("span",{staticClass:"emptyTips"},[e._v(" * ")]),e._v(e._s(t.label))]),e._v(" "),t.isEmpty?r("label",{staticClass:"label-show"},[r("span",[e._v("   ")]),e._v(e._s(t.label))]):e._e(),e._v(" "),"input"===t.type?r("inputs",{ref:t.options.key,refInFor:!0,attrs:{isEmpty:t.isEmpty,option:t.options},on:{getInput:e.getFrom}}):e._e(),e._v(" "),"select"===t.type?r("selects",{ref:t.options.key,refInFor:!0,attrs:{option:t.options},on:{getSelect:e.getFrom}}):e._e()],1)}))]),e._v(" "),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("button",{staticClass:"button-default",on:{click:e.submitData}},[e._v("提交")]),e._v(" "),r("button",{staticClass:"button-default cancel-button",on:{click:e.cancelDialog}},[e._v("取消")])])]):e._e()],1)},o=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("i",{staticClass:"hasIcon hasImg"},[r("img",{attrs:{src:"dist/img/configuration/add-new-icon.png"}})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("i",{staticClass:"hasIcon hasImg"},[r("img",{attrs:{src:"dist/img/configuration/move-button.png"}})])}],s={render:a,staticRenderFns:o};t.a=s}});
//# sourceMappingURL=40.build.js.map