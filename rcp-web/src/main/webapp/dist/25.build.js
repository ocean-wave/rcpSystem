webpackJsonp([25],{475:function(e,t,o){"use strict";function s(e){o(837)}Object.defineProperty(t,"__esModule",{value:!0});var i=o(669),n=o(839),r=o(31),l=s,a=r(i.a,n.a,!1,l,null,null);t.default=a.exports},571:function(e,t,o){"use strict";var s=(o(161),o(162),o(163),[]);t.a={name:"item",component:{},props:{noCheck:{},isInit:{},model:{},textKey:{default:"orgName"},isLastLeaf:{},onBrother:{default:!0},valueKey:{default:"orgNo"}},data:function(){return{sel:!1,open:!1,selId:0}},computed:{isFolder:function(){return this.model.children&&this.model.children.length}},methods:{isLast:function(){for(var e=0;e<this.model.children.length;e++)if(this.model.children[e].children&&this.model.children[e].children.length>0)return!0;return!1},isSelectNode:function(e,t){var o=t||this.$store.state.currentSelectOrg,s=!0;if("string"==typeof this.valueKey)s=s&&o[this.valueKey]===e[this.valueKey];else if(this.valueKey instanceof Array)for(var i=0;i<this.valueKey.length;i++){var n=this.valueKey[i];s=s&&o[n]===e[n]}return s},toggle:function(e){this.isFolder&&(this.open=!this.open),this.isOpenNode(this.getSaveNode(e))},isOpenNode:function(e,t){if(0===s.length)return void(t?this.open=!1:s.push(e));for(var o=0;o<s.length;o++){if(this.isSelectNode(e,s[o]))return void(t?this.open=!0:s.splice(o,1));if(o===s.length-1)return void(t?this.open=!1:s.push(e))}},getSaveNode:function(e){var t={};for(var o in e)"children"!==o&&(t[o]=e[o]);return t},selClick:function(e){var t=this.getSaveNode(e);this.$store.state.currentSelectOrg=t,this.sel?this.$emit("selClicks",""):this.$emit("selClicks",t)}},created:function(){this.isOpenNode(this.model,!0),this.isInit&&this.selClick(this.model)},watch:{model:{handler:function(e){}}}}},602:function(e,t,o){"use strict";function s(e){o(603)}var i=o(571),n=o(607),r=o(31),l=s,a=r(i.a,n.a,!1,l,null,null);t.a=a.exports},603:function(e,t,o){var s=o(604);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);o(33)("796279d2",s,!0,{})},604:function(e,t,o){var s=o(71);t=e.exports=o(32)(!1),t.push([e.i,".item{font-size:1em;width:100%;padding:0;position:relative}.rowPanle{padding:.2em 0}.rowPanle .folder-panel{display:inline-block;cursor:pointer;float:left;width:1.5em;height:1.5em;margin-top:-.15em;background-color:#227fdf;border-radius:.2em;text-align:center}.rowPanle .folder-panel .folder-style{font-size:1.3em}.rowPanle .folder-panel .icon.folder{background-image:url("+s(o(158))+")}.rowPanle .folder-panel .icon.folder-open{background-image:url("+s(o(159))+")}.rowPanle .folder-panel .icon.file-text{background-image:url("+s(o(160))+')}.rowPanle .unfolder-width{background-color:transparent}.rowPanle .liItem{float:left;display:inline-block;cursor:pointer;width:calc(100% - 6em);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-align:left}.rowPanle .liItemSel{color:#d38642}.rowPanle:after{content:"";display:block;width:0;height:1px;clear:both}.hasBackItem:before{content:"";display:block;width:1px;height:calc(100% - 2em);background:url('+s(o(605))+");background-position:-94px 34%;background-position-x:100%;background-repeat-y:repeat;top:24px;position:absolute;left:9px;background-size:initial}.itemLeaf .rowPanle{padding-left:1.3em}.itemLastLeaf{background:url("+s(o(606))+");background-position:-94px -32px;display:inline-table;float:left;width:1em;height:30px;margin-left:9px;background-size:auto;margin-top:-10px}.itemBrotherLeaf{background-position:-94px -11px;height:35px}",""])},605:function(e,t,o){e.exports=o.p+"point.png?1fb913863011223c4f867fe150e75121"},606:function(e,t,o){e.exports=o.p+"metro.png?453f17f877fc82ce6de87181ed111cc1"},607:function(e,t,o){"use strict";var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("li",{class:{hasBackItem:!e.onBrother&&e.isFolder&&!e.isLastLeaf},on:{click:function(t){t.stopPropagation(),e.selClick(e.model)}}},[e._v("\n  "+e._s(e.isOpenNode(e.model,!0))+"\n  "),o("div",{staticClass:"rowPanle"},[e.isInit&&e.onBrother?e._e():o("span",{class:{itemBrotherLeaf:!e.isLastLeaf&&!e.onBrother,itemLastLeaf:!e.isInit}}),e._v(" "),e.isFolder?o("div",{staticClass:"folder-panel",class:e.isFolder?"":" unfolder-width",on:{click:function(t){t.stopPropagation(),e.toggle(e.model)}}},[o("span",{staticClass:"folder-style"},[e._v(e._s(e.open?"-":"+"))])]):e._e(),e._v(" "),e.isFolder?o("i",{staticClass:"hasIcon",staticStyle:{margin:"0.1em 0.5em 0em 0.5em"}},[o("icon",{attrs:{name:e.open?"folder-open":"folder",scale:"1.2"}})],1):e._e(),e._v(" "),e.isFolder?e._e():o("i",{staticClass:"hasIcon",staticStyle:{margin:"0.1em 0.5em 0em 0.5em"}},[o("icon",{attrs:{name:"file-text",scale:"1.2"}})],1),e._v(" "),o("div",{staticClass:"liItem",class:e.isSelectNode(e.model)?"liItemSel":"",attrs:{title:e.model[e.textKey]}},[e._v(e._s(e.model[e.textKey]))])]),e._v(" "),e.isFolder?o("ul",{directives:[{name:"show",rawName:"v-show",value:e.open,expression:"open"}],staticStyle:{"margin-left":"1.7em"}},[e._l(e.model.children,function(t,s){return[o("item",{staticClass:"item",attrs:{textKey:e.textKey,valueKey:e.valueKey,isLastLeaf:s===e.model.children.length-1&&e.model.children.length>1||1==e.model.children.length&&0==s,onBrother:1===e.model.children.length,noCheck:e.noCheck,model:t},on:{selClicks:e.selClick}})]})],2):e._e()])},i=[],n={render:s,staticRenderFns:i};t.a=n},669:function(e,t,o){"use strict";var s=o(602);t.a={data:function(){return{controls:[],selector:[],treeData:[],orgInfosSel:{orgNo:0,orgName:"",pOrgNo:""},orgInfosAdd:{orgNo:0,orgName:"",pOrgNo:""},copySel:{orgNo:0,orgName:"",pOrgNo:""},showAddInfo:!0}},components:{items:s.a},computed:{orgEditData:function(){return[{label:"上级部门",classes:"halfWidth",isEmpty:!1,type:"select",option:{type:"complexSelect",key:"orgInfosSel.pOrgNo",hasParent:!0,cs:"server",url:"org/queryOrgTreeInfo",method:"post",width:"20em",text:"orgName",value:"orgNo",rowName:"data"}},{label:"部门名称",classes:"halfWidth hasMarginLi",isEmpty:!1,type:"input",option:{type:"normalInput",key:"orgInfosSel.orgName",value:this.orgInfosSel.orgName,width:"20em",regular:"",length:50,placeHolder:"请输入部门名称",errorMsg:"任意字符"}}]},orgAddData:function(){var e="calc(100% - 6.5em)";return[{label:"上级部门",classes:"allWidth ",isEmpty:!1,type:"select",option:{type:"complexSelect",key:"orgInfosAdd.pOrgNo",width:e,cs:"client",data:this.treeData,text:"orgName",value:"orgNo",rowName:"data"}},{label:"部门名称",classes:"allWidth",isEmpty:!1,type:"input",option:{type:"normalInput",key:"orgInfosAdd.orgName",value:"",width:e,regular:"",length:50,placeHolder:"请输入部门名称",errorMsg:"任意字符"}}]}},methods:{alerts:function(){return this.$refs.alerts},getInputFrom:function(e){this.getOption(e,this)},getSelectsFrom:function(e){this.getOption(e,this)},cancles:function(){for(var e in this.copySel)this.orgInfosSel[e]=this.copySel[e]},saveEdit:function(){var e=this;e.regularTest({prefix:"orgInfosSel",emptyKey:["orgName"],callback:function(){e.getRequest({url:"org/edit",param:e.orgInfosSel,method:"post",success:function(t){e.alerts().show({msg:t.message}),e.init(),e.reBindSelect();for(var o in e.orgInfosSel)e.copySel[o]=e.orgInfosSel[o]},error:function(t){e.alerts().show({msg:t.message})}},!0)}})},saveAdd:function(){var e=this;e.regularTest({prefix:"orgInfosAdd",emptyKey:["orgName"],callback:function(){e.getRequest({url:"org/add",param:e.orgInfosAdd,method:"post",success:function(t){e.alerts().show({msg:t.message}),1==t.code&&(e.init(),e.reBindSelect())},error:function(t){e.alerts().show({msg:t.message})}},!0)}})},reBindSelect:function(){this.$refs["orgInfosSel.pOrgNo"][0].initSelect(),this.$refs["orgInfosAdd.pOrgNo"][0].initSelect()},closeChangeInfo:function(){this.orgInfosAdd.orgName="",this.orgInfosAdd.orgNo=0,this.$refs.editComponyInfo.close(),this.showAddInfo=!1},addChild:function(e){var t=this;t.showAddInfo=!0,t.$nextTick(function(){t.$refs.editComponyInfo.show()})},selNodeClick:function(e){this.orgInfosSel.orgName=this.copySel.orgName=e.orgName,this.orgInfosSel.orgNo=this.copySel.orgNo=e.orgNo,this.orgInfosSel.pOrgNo=this.copySel.pOrgNo=e.pOrgNo,this.$refs["orgInfosSel.pOrgNo"][0].resetDefault(e.pOrgNo)},delOrg:function(){var e=this;e.orgInfosSel&&0!=e.orgInfosSel.orgNo?e.$refs.confirms.show({msg:"确定删除选择的部门["+e.orgInfosSel.orgName+"]？",action:{confirm:function(){e.getRequest({method:"post",url:"org/delete",param:e.orgInfosSel,success:function(t){e.alerts().show({msg:t.message}),1==t.code&&(e.init(),e.orgInfosSel.orgNo=0,e.orgInfosSel.orgName="",e.reBindSelect())},error:function(t){e.alerts().show({msg:t.message})}},!0)}}}):e.alerts().show({msg:"请选择删除的部门"})},init:function(){var e=this;e.getRequest({method:"post",url:"org/queryOrgTreeInfo",success:function(t){e.treeData=[],e.treeData=e.treeData.concat(t.data)}},!0)}},created:function(){this.isIn(),this.getAction()}}},837:function(e,t,o){var s=o(838);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);o(33)("0f90a7c8",s,!0,{})},838:function(e,t,o){t=e.exports=o(32)(!1),t.push([e.i,".treeStyle{height:calc(100% - 11em);text-align:left;margin-left:1em;font-size:.875em}.treeStyle input{height:1.2em;zoom:150%;vertical-align:middle}.treeStyle li{font-size:1em;cursor:pointer;width:calc(100% - 1.5em);padding-left:.2em}.treeStyle li:after{height:0}.treeStyle .rowselect,.treeStyle li:after,.treeStyle li:hover{background-color:transparent}.treeStyle .hasBackItem:before{left:12px}.leftMenu{overflow-x:auto;overflow-y:hidden}.leftMenu label{font-size:1em}.optStyle{height:8em}.optStyle .org-style{background-color:#227fdf;width:6em;font-size:.9em;height:1.8em;margin:0 auto;line-height:1.8em;margin-bottom:1.2em;padding:.4em 2.6em;cursor:pointer}.optStyle .org-style img{margin-right:.4em;float:left;margin-top:.33em;width:1.05em;height:1.05em}.optStyle .org-style span{float:left}.optStyle .org-style:hover{background-color:rgba(34,127,223,.8)}",""])},839:function(e,t,o){"use strict";var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"info-container ",staticStyle:{height:"calc(100% - 0em)",margin:"0",padding:"0",width:"100%"}},[o("div",{staticClass:"info-div",staticStyle:{height:"100%"}},[o("div",{staticClass:"list-content  con-left leftMenu"},[e._m(0),e._v(" "),o("div",{staticClass:"treeStyle"},[o("ul",[e._l(e.treeData,function(t,s){return[o("items",{staticClass:"item",attrs:{model:t,isInit:!0},on:{selClicks:e.selNodeClick}})]})],2)]),e._v(" "),o("div",{staticClass:"optStyle"},[e.controls[1]?o("div",{staticClass:"org-style",on:{click:e.addChild}},[e._m(1),e._v("\n           新增部门\n        ")]):e._e(),e._v(" "),e.controls[3]?o("div",{staticClass:"org-style",on:{click:e.delOrg}},[e._m(2),e._v("\n          删除部门\n        ")]):e._e()])]),e._v(" "),o("div",{staticClass:"list-content con_center",staticStyle:{overflow:"hidden",width:"calc(80% - 3.5em)"},attrs:{id:"permiss_opt"}},[o("div",[e._m(3),e._v(" "),o("div",{staticStyle:{"padding-top":"20px",width:"70%","font-size":"0.875em"}},[o("ul",{staticClass:"dialog-ul"},e._l(e.orgEditData,function(t,s){return o("li",{staticClass:" formList ",class:t.classes},[t.isEmpty?e._e():o("label",{staticClass:"label-show"},[o("span",{staticClass:"emptyTips"},[e._v(" * ")]),e._v("\n                "+e._s(t.label)+" ")]),e._v(" "),t.isEmpty?o("label",{staticClass:"label-show"},[o("span",[e._v(" ")]),e._v(e._s(t.label)+" ")]):e._e(),e._v(" "),"input"===t.type?o("inputs",{ref:t.option.key,refInFor:!0,attrs:{isEmpty:t.isEmpty,option:t.option},on:{getInput:e.getInputFrom}}):e._e(),e._v(" "),"select"===t.type?o("selects",{ref:t.option.key,refInFor:!0,attrs:{option:t.option},on:{getSelect:e.getSelectsFrom}}):e._e()],1)}))]),e._v(" "),e.controls[2]?o("div",{staticStyle:{"margin-top":"20px","font-size":"0.875em"}},[o("button",{staticClass:"button-default",on:{click:e.saveEdit}},[e._v("保存")]),e._v(" "),o("button",{staticClass:"button-default cancel-button",staticStyle:{"background-color":"#F4A460"},on:{click:e.cancles}},[e._v("取消")])]):e._e()])])]),e._v(" "),e.showAddInfo?o("dialogs",{ref:"editComponyInfo",attrs:{type:"customer",width:"35em"}},[o("div",{attrs:{slot:"header"},slot:"header"},[e._v("\n      添加部门\n    ")]),e._v(" "),o("div",{attrs:{slot:"content"},slot:"content"},[o("ul",{staticClass:"dialog-ul"},e._l(e.orgAddData,function(t,s){return o("li",{staticClass:" formList ",class:t.classes},[t.isEmpty?e._e():o("label",{staticClass:"label-show"},[o("span",{staticClass:"emptyTips"},[e._v(" * ")]),e._v(" "+e._s(t.label)+" ")]),e._v(" "),t.isEmpty?o("label",{staticClass:"label-show"},[o("span",[e._v(" ")]),e._v(e._s(t.label)+" ")]):e._e(),e._v(" "),"input"===t.type?o("inputs",{ref:t.option.key,refInFor:!0,attrs:{isEmpty:t.isEmpty,option:t.option},on:{getInput:e.getInputFrom}}):e._e(),e._v(" "),"select"===t.type?o("selects",{ref:t.option.key,refInFor:!0,attrs:{option:t.option},on:{getSelect:e.getSelectsFrom}}):e._e()],1)}))]),e._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("button",{staticClass:"button-default",on:{click:e.saveAdd}},[e._v("提交")]),e._v(" "),o("button",{staticClass:"button-default cancel-button",on:{click:e.closeChangeInfo}},[e._v("关闭")])])]):e._e(),e._v(" "),o("dialogs",{ref:"alerts",attrs:{type:"alert"}}),e._v(" "),o("dialogs",{ref:"confirms",attrs:{type:"confirm"}})],1)},i=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"list-header"},[o("i",{staticClass:"hasIcon hasImg"},[o("img",{attrs:{src:"dist/img/configuration/move-button.png"}})]),e._v(" "),o("label",[e._v("部门管理")])])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("i",{staticClass:"hasIcon hasImg"},[o("img",{attrs:{src:"dist/img/configuration/add-new-button.png"}})])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("i",{staticClass:"hasIcon hasImg"},[o("img",{attrs:{src:"dist/img/configuration/delete-button.png"}})])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"list-header"},[o("i",{staticClass:"hasIcon hasImg"},[o("img",{attrs:{src:"dist/img/face/sh.png"}})]),e._v("\n          部门编辑\n        ")])}],n={render:s,staticRenderFns:i};t.a=n}});
//# sourceMappingURL=25.build.js.map